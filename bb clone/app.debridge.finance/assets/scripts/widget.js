/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={526:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletSDK=void 0;const n=r(2765),i=r(1599),s=r(7070),o=r(8263),a=r(9140),c=r(9997),u=process.env.LINK_API_URL||"https://www.walletlink.org",l=process.env.SDK_VERSION||r(6959).rE||"unknown";class h{constructor(t){var e;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const r=t.linkAPIUrl||u;let i;i=t.uiConstructor?t.uiConstructor:t=>new s.WalletSDKUI(t),void 0===t.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(e=t.overrideIsCoinbaseWallet)||void 0===e||e,this._eventListener=t.eventListener;const c=new URL(r),d=`${c.protocol}//${c.host}`;this._storage=new n.ScopedLocalStorage(`-walletlink:${d}`),this._storage.setItem("version",h.VERSION),this.walletExtension||(this._relayEventManager=new a.WalletSDKRelayEventManager,this._relay=new o.WalletSDKRelay({linkAPIUrl:r,version:l,darkMode:!!t.darkMode,uiConstructor:i,storage:this._storage,relayEventManager:this._relayEventManager,eventListener:this._eventListener}),this.setAppInfo(t.appName,t.appLogoUrl),this._relay.attachUI())}makeWeb3Provider(t="",e=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(t,e),r;const n=this._relay;if(!n||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||n.setConnectDisabled(!0),new i.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(n),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:e,eventListener:this._eventListener,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet})}setAppInfo(t,e){var r;this._appName=t||"DApp",this._appLogoUrl=e||(0,c.getFavicon)();const n=this.walletExtension;n?this.isCipherProvider(n)||n.setAppInfo(this._appName,this._appLogoUrl):null===(r=this._relay)||void 0===r||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const e=this.walletExtension;e?e.close():null===(t=this._relay)||void 0===t||t.resetAndReload()}get walletExtension(){var t;return null!==(t=window.coinbaseWalletExtension)&&void 0!==t?t:window.walletLinkExtension}isCipherProvider(t){return"boolean"==typeof t.isCipher&&t.isCipher}}e.CoinbaseWalletSDK=h,h.VERSION=l},8222:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='.-cbwsdk-css-reset .-cbwsdk-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-link-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content{padding:24px;text-align:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:link,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:visited{color:#999}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:hover,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x{position:relative;display:block}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box{background-color:#2a2a2a}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content h3{color:#ccc}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode>p{color:#999}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:link,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:visited{color:#888}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:hover,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-content a:active{color:#aaa}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel{background-color:#333}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel-x::after{background-color:#aaa}.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-link-dialog-container-dark .-cbwsdk-link-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x::after{background-color:#eee}'},9020:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDialog=void 0;const i=n(r(53)),s=r(172),o=r(5994),a=n(r(8222)),c=r(6230),u=r(1347),l=r(1797);e.LinkDialog=t=>{const[e,r]=(0,o.useState)(!t.isOpen),[n,c]=(0,o.useState)(!t.isOpen);return(0,o.useEffect)((()=>{const{isOpen:e}=t,n=[window.setTimeout((()=>{c(!e)}),10)];return e?r(!1):n.push(window.setTimeout((()=>{r(!0)}),360)),()=>{n.forEach(window.clearTimeout)}}),[t.isOpen]),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-link-dialog-container",t.darkMode&&"-cbwsdk-link-dialog-container-dark",e&&"-cbwsdk-link-dialog-container-hidden")},(0,s.h)("style",null,a.default),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-link-dialog-backdrop",n&&"-cbwsdk-link-dialog-backdrop-hidden")}),(0,s.h)("div",{class:"-cbwsdk-link-dialog"},(0,s.h)("div",{class:(0,i.default)("-cbwsdk-link-dialog-box",n&&"-cbwsdk-link-dialog-box-hidden")},(0,s.h)(h,{darkMode:t.darkMode,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection}),t.onCancel&&(0,s.h)(d,{onClick:t.onCancel}))))};const h=t=>{const e=window.encodeURIComponent(t.linkAPIUrl),r=t.isParentConnection?"parent-id":"id",n=`${t.linkAPIUrl}/#/link?${r}=${t.sessionId}&secret=${t.sessionSecret}&server=${e}&v=1`;return(0,s.h)("div",{class:"-cbwsdk-link-dialog-box-content"},(0,s.h)("h3",null,"Scan to",(0,s.h)("br",null)," Connect"),(0,s.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode"},(0,s.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode-wrapper"},(0,s.h)(c.QRCode,{content:n,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),(0,s.h)("input",{type:"hidden",name:"cbwsdk-version",value:l.LIB_VERSION}),(0,s.h)("input",{type:"hidden",value:n}),!t.isConnected&&(0,s.h)("div",{class:"-cbwsdk-link-dialog-box-content-qrcode-connecting"},(0,s.h)(u.Spinner,{size:128,color:t.darkMode?"#fff":"#000"}),(0,s.h)("p",null,"Connecting...")),(0,s.h)("p",{title:`Coinbase Wallet SDK v${t.version}`},"Powered by Coinbase Wallet SDK")),(0,s.h)("a",{href:`${t.linkAPIUrl}/#/wallets`,target:"_blank",rel:"noopener"},"Donâ€™t have a wallet app?"))},d=t=>(0,s.h)("button",{class:"-cbwsdk-link-dialog-box-cancel",onClick:t.onClick},(0,s.h)("div",{class:"-cbwsdk-link-dialog-box-cancel-x"}))},3276:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkFlow=void 0;const n=r(172),i=r(8129),s=r(6397),o=r(9020),a=r(1982);e.LinkFlow=class{constructor(t){this.extensionUI$=new i.BehaviorSubject({}),this.subscriptions=new i.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection,this.connected$=t.connected$,fetch("https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags").then((t=>t.json())).then((t=>{const e=t.result.desktop.extension_ui;void 0===e?this.extensionUI$.next({value:!1}):this.extensionUI$.next({value:e})})).catch((t=>{console.error("Couldn't fetch feature flags - ",t),this.extensionUI$.next({value:!1})}))}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe((t=>{this.isConnected!==t&&(this.isConnected=t,this.render())})))}detach(){var t;this.root&&(this.subscriptions.unsubscribe(),(0,n.render)(null,this.root),null===(t=this.root.parentElement)||void 0===t||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const t=this.extensionUI$.pipe((0,s.first)((t=>void 0!==t.value))).subscribe((t=>{this.root&&(0,n.render)(t.value?(0,n.h)(a.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}):(0,n.h)(o.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel}),this.root)}));this.subscriptions.add(t)}}},6230:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.QRCode=void 0;const i=r(172),s=r(5994),o=n(r(9500));e.QRCode=t=>{const[e,r]=(0,s.useState)("");return(0,s.useEffect)((()=>{var e,n;const i=new o.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(e=t.width)&&void 0!==e?e:256,height:null!==(n=t.height)&&void 0!==n?n:256,padding:0,image:t.image}),s=Buffer.from(i.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${s}`)})),e?(0,i.h)("img",{src:e,alt:"QR Code"}):null}},1609:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},2235:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Snackbar=void 0;const i=n(r(53)),s=r(172),o=r(5994),a=n(r(1609));e.Snackbar=class{constructor(t){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=t.darkMode}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",t.appendChild(this.root),this.render()}presentItem(t){const e=this.nextItemKey++;return this.items.set(e,t),this.render(),()=>{this.items.delete(e),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,s.render)((0,s.h)("div",null,(0,s.h)(c,{darkMode:this.darkMode},Array.from(this.items.entries()).map((([t,e])=>(0,s.h)(u,Object.assign({},e,{key:t})))))),this.root)}};const c=t=>(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-container")},(0,s.h)("style",null,a.default),(0,s.h)("div",{class:"-cbwsdk-snackbar"},t.children)),u=({autoExpand:t,message:e,menuItems:r})=>{const[n,a]=(0,o.useState)(!0),[c,u]=(0,o.useState)(null!=t&&t);return(0,o.useEffect)((()=>{const t=[window.setTimeout((()=>{a(!1)}),1),window.setTimeout((()=>{u(!0)}),1e4)];return()=>{t.forEach(window.clearTimeout)}})),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",c&&"-cbwsdk-snackbar-instance-expanded")},(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{u(!c)}},(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),(0,s.h)("div",{class:"-gear-container"},!c&&(0,s.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map(((t,e)=>(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item",t.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:t.onClick,key:e},(0,s.h)("svg",{width:t.svgWidth,height:t.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("path",{"fill-rule":t.defaultFillRule,"clip-rule":t.defaultClipRule,d:t.path,fill:"#AAAAAA"})),(0,s.h)("span",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item-info",t.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},t.info))))))}},9377:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},1347:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Spinner=void 0;const i=r(172),s=n(r(9377));e.Spinner=t=>{var e;const r=null!==(e=t.size)&&void 0!==e?e:64,n=t.color||"#000";return(0,i.h)("div",{class:"-cbwsdk-spinner"},(0,i.h)("style",null,s.default),(0,i.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,i.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))}},1676:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}'},1982:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TryExtensionLinkDialog=void 0;const i=n(r(53)),s=r(172),o=r(5994),a=n(r(8973)),c=n(r(6542)),u=n(r(6543)),l=n(r(1867)),h=r(6230),d=r(1347),f=n(r(1676)),p=r(1797);e.TryExtensionLinkDialog=t=>{const[e,r]=(0,o.useState)(!t.isOpen),[n,a]=(0,o.useState)(!t.isOpen);return(0,o.useEffect)((()=>{const{isOpen:e}=t,n=[window.setTimeout((()=>{a(!e)}),10)];return e?r(!1):n.push(window.setTimeout((()=>{r(!0)}),360)),()=>{n.forEach(window.clearTimeout)}}),[t.isOpen]),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-extension-dialog-container",e&&"-cbwsdk-extension-dialog-container-hidden")},(0,s.h)("style",null,f.default),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-extension-dialog-backdrop",n&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,s.h)("div",{class:"-cbwsdk-extension-dialog"},(0,s.h)("div",{class:(0,i.default)("-cbwsdk-extension-dialog-box",n&&"-cbwsdk-extension-dialog-box-hidden")},(0,s.h)(g,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,s.h)(m,{darkMode:t.darkMode,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection}),t.onCancel&&(0,s.h)(b,{onClick:t.onCancel}))))};const g=t=>(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-top"},(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,s.h)("h2",null,"Try the Coinbase Wallet extension"),(0,s.h)("button",{onClick:t.onInstallClick},"Install")),(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-top-info-region"},(0,s.h)(y,{icon:c.default,text:"Connect to crypto apps with one click"}),(0,s.h)(y,{icon:u.default,text:"Your private key is stored securely"}),(0,s.h)(y,{icon:a.default,text:"Works with Ethereum, Polygon, and more"}))),m=t=>{const e=window.encodeURIComponent(t.linkAPIUrl),r=t.isParentConnection?"parent-id":"id",n=`${t.linkAPIUrl}/#/link?${r}=${t.sessionId}&secret=${t.sessionSecret}&server=${e}&v=1`;return(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom"},(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,s.h)("h2",null,"Or scan to connect"),(0,s.h)("body",{class:"-cbwsdk-extension-dialog-box-bottom-description"},"Open ",(0,s.h)("a",{href:"https://wallet.coinbase.com/"},"Coinbase Wallet")," on your mobile phone and scan")),(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,s.h)(h.QRCode,{content:n,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:l.default,width:34,height:34}})),(0,s.h)("input",{type:"hidden",name:"cbwsdk-version",value:p.LIB_VERSION}),(0,s.h)("input",{type:"hidden",value:n}),!t.isConnected&&(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-connecting"},(0,s.h)(d.Spinner,{size:36,color:"#000"}),(0,s.h)("p",null,"Connecting..."))))},y=t=>(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,s.h)("img",{src:t.icon})),(0,s.h)("body",{class:"-cbwsdk-extension-dialog-box-top-description-text"},t.text)),b=t=>(0,s.h)("button",{class:"-cbwsdk-extension-dialog-box-cancel",onClick:t.onClick},(0,s.h)("div",{class:"-cbwsdk-extension-dialog-box-cancel-x"}))},1867:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="50" cy="50" r="50" fill="white"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>\n<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>\n</svg>\n\n'},8973:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},6542:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},6543:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"},6940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClientMessagePublishEvent=e.ClientMessageSetSessionConfig=e.ClientMessageGetSessionConfig=e.ClientMessageIsLinked=e.ClientMessageHostSession=void 0,e.ClientMessageHostSession=function(t){return Object.assign({type:"HostSession"},t)},e.ClientMessageIsLinked=function(t){return Object.assign({type:"IsLinked"},t)},e.ClientMessageGetSessionConfig=function(t){return Object.assign({type:"GetSessionConfig"},t)},e.ClientMessageSetSessionConfig=function(t){return Object.assign({type:"SetSessionConfig"},t)},e.ClientMessagePublishEvent=function(t){return Object.assign({type:"PublishEvent"},t)}},2186:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=void 0,e.EVENTS={REQUEST_CHILD_ETHEREUM_ACCOUNTS_START:"walletlink_sdk.request_child_ethereum_accounts.start",REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE:"walletlink_sdk.request_child_ethereum_accounts.response",STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},2807:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RxWebSocket=e.ConnectionState=void 0;const n=r(8129),i=r(6397);var s;!function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"}(s=e.ConnectionState||(e.ConnectionState={})),e.RxWebSocket=class{constructor(t,e=WebSocket){this.WebSocketClass=e,this.webSocket=null,this.connectionStateSubject=new n.BehaviorSubject(s.DISCONNECTED),this.incomingDataSubject=new n.Subject,this.url=t.replace(/^http/,"ws")}connect(){return this.webSocket?(0,n.throwError)(new Error("webSocket object is not null")):new n.Observable((t=>{let e;try{this.webSocket=e=new this.WebSocketClass(this.url)}catch(e){return void t.error(e)}this.connectionStateSubject.next(s.CONNECTING),e.onclose=e=>{this.clearWebSocket(),t.error(new Error(`websocket error ${e.code}: ${e.reason}`)),this.connectionStateSubject.next(s.DISCONNECTED)},e.onopen=e=>{t.next(),t.complete(),this.connectionStateSubject.next(s.CONNECTED)},e.onmessage=t=>{this.incomingDataSubject.next(t.data)}})).pipe((0,i.take)(1))}disconnect(){const{webSocket:t}=this;if(t){this.clearWebSocket(),this.connectionStateSubject.next(s.DISCONNECTED);try{t.close()}catch(t){}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,i.flatMap)((t=>{let e;try{e=JSON.parse(t)}catch(t){return(0,n.empty)()}return(0,n.of)(e)})))}sendData(t){const{webSocket:e}=this;if(!e)throw new Error("websocket is not connected");e.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}},8696:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isServerMessageFail=void 0,e.isServerMessageFail=function(t){return t&&"Fail"===t.type&&"number"==typeof t.id&&"string"==typeof t.sessionId&&"string"==typeof t.error}},3025:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKConnection=void 0;const n=r(8129),i=r(6397),s=r(2186),o=r(6587),a=r(8180),c=r(6940),u=r(2807),l=r(8696);e.WalletSDKConnection=class{constructor(t,e,r,c,l=WebSocket){this.sessionId=t,this.sessionKey=e,this.eventListener=c,this.subscriptions=new n.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,a.IntNumber)(1),this.connectedSubject=new n.BehaviorSubject(!1),this.linkedSubject=new n.BehaviorSubject(!1),this.sessionConfigSubject=new n.ReplaySubject(1);const h=new u.RxWebSocket(r+"/rpc",l);this.ws=h,this.subscriptions.add(h.connectionState$.pipe((0,i.tap)((e=>{var r;return null===(r=this.eventListener)||void 0===r?void 0:r.onEvent(s.EVENTS.CONNECTED_STATE_CHANGE,{state:e,sessionIdHash:o.Session.hash(t)})})),(0,i.skip)(1),(0,i.filter)((t=>t===u.ConnectionState.DISCONNECTED&&!this.destroyed)),(0,i.delay)(5e3),(0,i.filter)((t=>!this.destroyed)),(0,i.flatMap)((t=>h.connect())),(0,i.retry)()).subscribe()),this.subscriptions.add(h.connectionState$.pipe((0,i.skip)(2),(0,i.switchMap)((t=>(0,n.iif)((()=>t===u.ConnectionState.CONNECTED),this.authenticate().pipe((0,i.tap)((t=>this.sendIsLinked())),(0,i.tap)((t=>this.sendGetSessionConfig())),(0,i.map)((t=>!0))),(0,n.of)(!1)))),(0,i.distinctUntilChanged)(),(0,i.catchError)((t=>(0,n.of)(!1)))).subscribe((t=>this.connectedSubject.next(t)))),this.subscriptions.add(h.connectionState$.pipe((0,i.skip)(1),(0,i.switchMap)((t=>(0,n.iif)((()=>t===u.ConnectionState.CONNECTED),(0,n.timer)(0,1e4))))).subscribe((t=>0===t?this.updateLastHeartbeat():this.heartbeat()))),this.subscriptions.add(h.incomingData$.pipe((0,i.filter)((t=>"h"===t))).subscribe((t=>this.updateLastHeartbeat()))),this.subscriptions.add(h.incomingJSONData$.pipe((0,i.filter)((t=>["IsLinkedOK","Linked"].includes(t.type)))).subscribe((e=>{var r;const n=e;null===(r=this.eventListener)||void 0===r||r.onEvent(s.EVENTS.LINKED,{sessionIdHash:o.Session.hash(t),linked:n.linked,type:e.type,onlineGuests:n.onlineGuests}),this.linkedSubject.next(n.linked||n.onlineGuests>0)}))),this.subscriptions.add(h.incomingJSONData$.pipe((0,i.filter)((t=>["GetSessionConfigOK","SessionConfigUpdated"].includes(t.type)))).subscribe((e=>{var r;const n=e;null===(r=this.eventListener)||void 0===r||r.onEvent(s.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:o.Session.hash(t),metadata_keys:n&&n.metadata?Object.keys(n.metadata):void 0}),this.sessionConfigSubject.next({webhookId:n.webhookId,webhookUrl:n.webhookUrl,metadata:n.metadata})})))}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");null===(t=this.eventListener)||void 0===t||t.onEvent(s.EVENTS.STARTED_CONNECTING,{sessionIdHash:o.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var t;this.subscriptions.unsubscribe(),this.ws.disconnect(),null===(t=this.eventListener)||void 0===t||t.onEvent(s.EVENTS.DISCONNECTED,{sessionIdHash:o.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,i.filter)((t=>t)),(0,i.take)(1),(0,i.map)((()=>{})))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,i.filter)((t=>t)),(0,i.take)(1),(0,i.map)((()=>{})))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,i.filter)((t=>{if("Event"!==t.type)return!1;const e=t;return"string"==typeof e.sessionId&&"string"==typeof e.eventId&&"string"==typeof e.event&&"string"==typeof e.data})),(0,i.map)((t=>t)))}setSessionMetadata(t,e){const r=(0,c.ClientMessageSetSessionConfig)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[t]:e}});return this.onceConnected$.pipe((0,i.flatMap)((t=>this.makeRequest(r))),(0,i.map)((t=>{if((0,l.isServerMessageFail)(t))throw new Error(t.error||"failed to set session metadata")})))}publishEvent(t,e,r=!1){const n=(0,c.ClientMessagePublishEvent)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:t,data:e,callWebhook:r});return this.onceLinked$.pipe((0,i.flatMap)((t=>this.makeRequest(n))),(0,i.map)((t=>{if((0,l.isServerMessageFail)(t))throw new Error(t.error||"failed to publish event");return t.eventId})))}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(t){}}makeRequest(t,e=6e4){const r=t.id;try{this.sendData(t)}catch(t){return(0,n.throwError)(t)}return this.ws.incomingJSONData$.pipe((0,i.timeoutWith)(e,(0,n.throwError)(new Error(`request ${r} timed out`))),(0,i.filter)((t=>t.id===r)),(0,i.take)(1))}authenticate(){const t=(0,c.ClientMessageHostSession)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(t).pipe((0,i.map)((t=>{if((0,l.isServerMessageFail)(t))throw new Error(t.error||"failed to authentcate")})))}sendIsLinked(){const t=(0,c.ClientMessageIsLinked)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}sendGetSessionConfig(){const t=(0,c.ClientMessageGetSessionConfig)({id:(0,a.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}}},9229:(t,e,r)=>{"use strict";const n=r(526),i=r(1599);r(526),r(1599);e.Ay=n.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=n.CoinbaseWalletSDK,window.CoinbaseWalletProvider=i.CoinbaseWalletProvider,window.WalletLink=n.CoinbaseWalletSDK,window.WalletLinkProvider=i.CoinbaseWalletProvider)},2765:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLocalStorage=void 0,e.ScopedLocalStorage=class{constructor(t){this.scope=t}setItem(t,e){localStorage.setItem(this.scopedKey(t),e)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);"string"==typeof n&&n.startsWith(t)&&e.push(n)}e.forEach((t=>localStorage.removeItem(t)))}scopedKey(t){return`${this.scope}:${t}`}}},1909:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'},6527:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.injectCssReset=void 0;const i=n(r(1909));e.injectCssReset=function(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(i.default)),document.documentElement.appendChild(t)}},1599:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=void 0;const i=n(r(516)),s=n(r(9404)),o=r(2203),a=r(2186),c=r(6587),u=r(873),l=r(9997),h=n(r(8878)),d=r(2666),f=r(6862),p=r(483),g="DefaultChainId",m="DefaultJsonRpcUrl",y="HasChainBeenSwitched",b="HasChainOverriddenFromRelay";class w extends i.default{constructor(t){var e;super(),this._filterPolyfill=new d.FilterPolyfill(this),this._subscriptionManager=new p.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this._eventListener=t.eventListener,this.isCoinbaseWallet=null===(e=t.overrideIsCoinbaseWallet)||void 0===e||e;const r=this.getChainId(),n=(0,l.prepend0x)(r.toString(16));this.emit("connect",{chainIdStr:n});const i=this._storage.getItem(u.LOCAL_STORAGE_ADDRESSES_KEY);if(i){const t=i.split(" ");""!==t[0]&&(this._addresses=t.map((t=>(0,l.ensureAddressString)(t))),this.emit("accountsChanged",t))}this._subscriptionManager.events.on("notification",(t=>{this.emit("message",{type:t.method,data:t.params})})),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",(t=>{var e;if("walletLinkMessage"===t.data.type&&"defaultChainChanged"===t.data.data.action){const r=t.data.data.chainId,n=null!==(e=t.data.data.jsonRpcUrl)&&void 0!==e?e:this.jsonRpcUrl;this.updateProviderInfo(n,Number(r),!0)}}))}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,l.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return null!==(t=this._storage.getItem(m))&&void 0!==t?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(m,t)}get isChainOverridden(){return"true"===this._storage.getItem(b)}set isChainOverridden(t){this._storage.setItem(b,t.toString())}setProviderInfo(t,e){this.isChainOverridden||this.updateProviderInfo(t,this.getChainId(),!1)}updateProviderInfo(t,e,r){if("true"===this._storage.getItem(y)&&r)return;r&&(this.isChainOverridden=!0),this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(g,e.toString(10)),(0,l.ensureIntNumber)(e)===n&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,e,r,n,i,s){const o=await this.initializeRelay();return!!(await o.watchAsset(t,e,r,n,i,null==s?void 0:s.toString()).promise).result}async addEthereumChain(t,e,r,n,i,s){var o,a;if((0,l.ensureIntNumber)(t)===this.getChainId())return!1;const c=await this.initializeRelay(),u=c.inlineAddEthereumChain(t.toString());this._isAuthorized()||u||await c.requestEthereumAccounts().promise;const h=await c.addEthereumChain(t.toString(),e,i,r,n,s).promise;return!0===(null===(o=h.result)||void 0===o?void 0:o.isApproved)&&(this._storage.setItem(y,"true"),this.updateProviderInfo(e[0],t,!1)),!0===(null===(a=h.result)||void 0===a?void 0:a.isApproved)}async switchEthereumChain(t){if((0,l.ensureIntNumber)(t)===this.getChainId())return;const e=await this.initializeRelay(),r=await e.switchEthereumChain(t.toString(10)).promise;if(r.errorCode)throw o.ethErrors.provider.custom({code:r.errorCode});const n=r.result;n.isApproved&&n.rpcUrl.length>0&&(this._storage.setItem(y,"true"),this.updateProviderInfo(n.rpcUrl,t,!1))}setAppInfo(t,e){this.initializeRelay().then((r=>r.setAppInfo(t,e)))}async enable(){var t;return null===(t=this._eventListener)||void 0===t||t.onEvent(a.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?c.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(f.JSONRPCMethod.eth_requestAccounts)}close(){this.initializeRelay().then((t=>t.resetAndReload()))}send(t,e){if("string"==typeof t){const r={jsonrpc:"2.0",id:0,method:t,params:Array.isArray(e)?e:void 0!==e?[e]:[]};return this._sendRequestAsync(r).then((t=>t.result))}if("function"==typeof e){const r=t,n=e;return this._sendAsync(r,n)}if(Array.isArray(t))return t.map((t=>this._sendRequest(t)));const r=t;return this._sendRequest(r)}sendAsync(t,e){if("function"!=typeof e)throw new Error("callback is required");if(Array.isArray(t)){const r=e;return void this._sendMultipleRequestsAsync(t).then((t=>r(null,t))).catch((t=>r(t,null)))}const r=e;this._sendRequestAsync(t).then((t=>r(null,t))).catch((t=>r(t,null)))}async request(t){if(!t||"object"!=typeof t||Array.isArray(t))throw o.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if("string"!=typeof e||0===e.length)throw o.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw o.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const n=void 0===r?[]:r,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:e,params:n,jsonrpc:"2.0",id:i})).result}async scanQRCode(t){const e=await this.initializeRelay(),r=await e.scanQRCode((0,l.ensureRegExpString)(t)).promise;if("string"!=typeof r.result)throw new Error("result was not a string");return r.result}async genericRequest(t,e){const r=await this.initializeRelay(),n=await r.genericRequest(t,e).promise;if("string"!=typeof n.result)throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const e={jsonrpc:"2.0",id:t.id},{method:r}=t;if(e.result=this._handleSynchronousMethods(t),void 0===e.result)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return e}_setAddresses(t){if(!Array.isArray(t))throw new Error("addresses is not an array");const e=t.map((t=>(0,l.ensureAddressString)(t)));JSON.stringify(e)!==JSON.stringify(this._addresses)&&(this._addresses=e,this.emit("accountsChanged",this._addresses),this._storage.setItem(u.LOCAL_STORAGE_ADDRESSES_KEY,e.join(" ")))}_sendRequestAsync(t){return new Promise(((e,r)=>{try{const n=this._handleSynchronousMethods(t);if(void 0!==n)return e({jsonrpc:"2.0",id:t.id,result:n});const i=this._handleAsynchronousFilterMethods(t);if(void 0!==i)return void i.then((r=>e(Object.assign(Object.assign({},r),{id:t.id})))).catch((t=>r(t)));const s=this._handleSubscriptionMethods(t);if(void 0!==s)return void s.then((r=>e({jsonrpc:"2.0",id:t.id,result:r.result}))).catch((t=>r(t)))}catch(t){return r(t)}this._handleAsynchronousMethods(t).then((r=>r&&e(Object.assign(Object.assign({},r),{id:t.id})))).catch((t=>r(t)))}))}_sendMultipleRequestsAsync(t){return Promise.all(t.map((t=>this._sendRequestAsync(t))))}_handleSynchronousMethods(t){const{method:e}=t,r=t.params||[];switch(e){case f.JSONRPCMethod.eth_accounts:return this._eth_accounts();case f.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case f.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case f.JSONRPCMethod.net_version:return this._net_version();case f.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:e}=t,r=t.params||[];switch(e){case f.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case f.JSONRPCMethod.eth_sign:return this._eth_sign(r);case f.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case f.JSONRPCMethod.personal_sign:return this._personal_sign(r);case f.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case f.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case f.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case f.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case f.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case f.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case f.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case f.JSONRPCMethod.eth_signTypedData_v4:case f.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case f.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(r);case f.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case f.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case f.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(t){const{method:e}=t,r=t.params||[];switch(e){case f.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case f.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case f.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case f.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case f.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(t){switch(t.method){case f.JSONRPCMethod.eth_subscribe:case f.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const e=(0,l.ensureAddressString)(t),r=this._addresses.map((t=>(0,l.ensureAddressString)(t)));return r.includes(e)}catch(t){}return!1}_ensureKnownAddress(t){var e;if(!this._isKnownAddress(t))throw null===(e=this._eventListener)||void 0===e||e.onEvent(a.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const e=t.from?(0,l.ensureAddressString)(t.from):this.selectedAddress;if(!e)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(e),{fromAddress:e,toAddress:t.to?(0,l.ensureAddressString)(t.to):null,weiValue:null!=t.value?(0,l.ensureBN)(t.value):new s.default(0),data:t.data?(0,l.ensureBuffer)(t.data):Buffer.alloc(0),nonce:null!=t.nonce?(0,l.ensureIntNumber)(t.nonce):null,gasPriceInWei:null!=t.gasPrice?(0,l.ensureBN)(t.gasPrice):null,maxFeePerGas:null!=t.maxFeePerGas?(0,l.ensureBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:null!=t.maxPriorityFeePerGas?(0,l.ensureBN)(t.maxPriorityFeePerGas):null,gasLimit:null!=t.gas?(0,l.ensureBN)(t.gas):null,chainId:this.getChainId()}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw o.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw o.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,e,r,n){this._ensureKnownAddress(e);try{const i=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await i.signEthereumMessage(t,e,r,n).promise).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied message signature");throw t}}async _ethereumAddressFromSignedMessage(t,e,r){const n=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await n.ethereumAddressFromSignedMessage(t,e,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,l.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(g)||"1",e=parseInt(t,10);return(0,l.ensureIntNumber)(e)}async _eth_requestAccounts(){var t;if(null===(t=this._eventListener)||void 0===t||t.onEvent(a.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?c.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{const t=await this.initializeRelay();e=await t.requestEthereumAccounts().promise}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied account authorization");throw t}if(!e.result)throw new Error("accounts received is empty");return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const e=(0,l.ensureAddressString)(t[0]),r=(0,l.ensureBuffer)(t[1]);return this._signEthereumMessage(r,e,!1)}_eth_ecRecover(t){const e=(0,l.ensureBuffer)(t[0]),r=(0,l.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(e,r,!1)}_personal_sign(t){this._requireAuthorization();const e=(0,l.ensureBuffer)(t[0]),r=(0,l.ensureAddressString)(t[1]);return this._signEthereumMessage(e,r,!0)}_personal_ecRecover(t){const e=(0,l.ensureBuffer)(t[0]),r=(0,l.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(e,r,!0)}async _eth_signTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.signEthereumTransaction(e).promise).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw t}}async _eth_sendRawTransaction(t){const e=(0,l.ensureBuffer)(t[0]),r=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await r.submitEthereumTransaction(e,this.getChainId()).promise).result}}async _eth_sendTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.signAndSubmitEthereumTransaction(e).promise).result}}catch(t){if("string"==typeof t.message&&t.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw t}}async _eth_signTypedData_v1(t){this._requireAuthorization();const e=(0,l.ensureParsedJSONObject)(t[0]),r=(0,l.ensureAddressString)(t[1]);this._ensureKnownAddress(r);const n=h.default.hashForSignTypedDataLegacy({data:e}),i=JSON.stringify(e,null,2);return this._signEthereumMessage(n,r,!1,i)}async _eth_signTypedData_v3(t){this._requireAuthorization();const e=(0,l.ensureAddressString)(t[0]),r=(0,l.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(e);const n=h.default.hashForSignTypedData_v3({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,e,!1,i)}async _eth_signTypedData_v4(t){this._requireAuthorization();const e=(0,l.ensureAddressString)(t[0]),r=(0,l.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(e);const n=h.default.hashForSignTypedData_v4({data:r}),i=JSON.stringify(r,null,2);return this._signEthereumMessage(n,e,!1,i)}async _cbwallet_arbitrary(t){const e=t[0],r=t[1];if("string"!=typeof r)throw new Error("parameter must be a string");if("object"!=typeof e||null===e)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(e,r)}}async _wallet_addEthereumChain(t){var e,r,n,i;const s=t[0];if(0===(null===(e=s.rpcUrls)||void 0===e?void 0:e.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||""===s.chainName.trim())throw o.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw o.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,null!==(r=s.rpcUrls)&&void 0!==r?r:[],null!==(n=s.blockExplorerUrls)&&void 0!==n?n:[],s.chainName,null!==(i=s.iconUrls)&&void 0!==i?i:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const e=t[0];return await this.switchEthereumChain(parseInt(e.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){var e;const r=Array.isArray(t)?t[0]:t;if(0===(null===(e=r.type)||void 0===e?void 0:e.length))throw o.ethErrors.rpc.invalidParams({message:"type is a required field"});if("ERC20"!==r.type)throw o.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' not supported`});if(!(null==r?void 0:r.options))throw o.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!r.options.address)throw o.ethErrors.rpc.invalidParams({message:"option address is a required option"});const n=this.getChainId(),{address:i,symbol:s,image:a,decimals:c}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,c,a,n)}}_eth_uninstallFilter(t){const e=(0,l.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(e)}async _eth_newFilter(t){const e=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(e)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const e=(0,l.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(e)}_eth_getFilterLogs(t){const e=(0,l.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(e)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then((t=>(t.setAccountsCallback((t=>this._setAddresses(t))),t.setChainCallback(((t,e)=>{this.updateProviderInfo(e,parseInt(t,10),!0)})),this._relay=t,t)))}}e.CoinbaseWalletProvider=w},2666:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterFromParam=e.FilterPolyfill=void 0;const n=r(8180),i=r(9997),s={jsonrpc:"2.0",id:0};function o(t){return{fromBlock:c(t.fromBlock),toBlock:c(t.toBlock),addresses:void 0===t.address?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}function a(t){const e={fromBlock:u(t.fromBlock),toBlock:u(t.toBlock),topics:t.topics};return null!==t.addresses&&(e.address=t.addresses),e}function c(t){if(void 0===t||"latest"===t||"pending"===t)return"latest";if("earliest"===t)return(0,n.IntNumber)(0);if((0,i.isHexString)(t))return(0,i.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function u(t){return"latest"===t?t:(0,i.hexStringFromIntNumber)(t)}function l(){return Object.assign(Object.assign({},s),{error:{code:-32e3,message:"filter not found"}})}function h(){return Object.assign(Object.assign({},s),{result:[]})}e.FilterPolyfill=class{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,n.IntNumber)(1),this.provider=t}async newFilter(t){const e=o(t),r=this.makeFilterId(),n=await this.setInitialCursorPosition(r,e.fromBlock);return console.log(`Installing new log filter(${r}):`,e,"initial cursor position:",n),this.logFilters.set(r,e),this.setFilterTimeout(r),(0,i.hexStringFromIntNumber)(r)}async newBlockFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.blockFilters.add(t),this.setFilterTimeout(t),(0,i.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,i.hexStringFromIntNumber)(t)}uninstallFilter(t){const e=(0,i.intNumberFromHexString)(t);return console.log(`Uninstalling filter (${e})`),this.deleteFilter(e),!0}getFilterChanges(t){const e=(0,i.intNumberFromHexString)(t);return this.timeouts.has(e)&&this.setFilterTimeout(e),this.logFilters.has(e)?this.getLogFilterChanges(e):this.blockFilters.has(e)?this.getBlockFilterChanges(e):this.pendingTransactionFilters.has(e)?this.getPendingTransactionFilterChanges(e):Promise.resolve(l())}async getFilterLogs(t){const e=(0,i.intNumberFromHexString)(t),r=this.logFilters.get(e);return r?this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getLogs",params:[a(r)]})):l()}makeFilterId(){return(0,n.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise(((e,r)=>{this.provider.sendAsync(t,((t,n)=>t?r(t):Array.isArray(n)||null==n?r(new Error(`unexpected response received: ${JSON.stringify(n)}`)):void e(n)))}))}deleteFilter(t){console.log(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const e=this.logFilters.get(t),r=this.cursors.get(t);if(!r||!e)return l();const o=await this.getCurrentBlockHeight(),c="latest"===e.toBlock?o:e.toBlock;if(r>o)return h();if(r>e.toBlock)return h();console.log(`Fetching logs from ${r} to ${c} for filter ${t}`);const u=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getLogs",params:[a(Object.assign(Object.assign({},e),{fromBlock:r,toBlock:c}))]}));if(Array.isArray(u.result)){const e=u.result.map((t=>(0,i.intNumberFromHexString)(t.blockNumber||"0x0"))),s=Math.max(...e);if(s&&s>r){const e=(0,n.IntNumber)(s+1);console.log(`Moving cursor position for filter (${t}) from ${r} to ${e}`),this.cursors.set(t,e)}}return u}async getBlockFilterChanges(t){const e=this.cursors.get(t);if(!e)return l();const r=await this.getCurrentBlockHeight();if(e>r)return h();console.log(`Fetching blocks from ${e} to ${r} for filter (${t})`);const o=(await Promise.all((0,i.range)(e,r+1).map((t=>this.getBlockHashByNumber((0,n.IntNumber)(t)))))).filter((t=>!!t)),a=(0,n.IntNumber)(e+o.length);return console.log(`Moving cursor position for filter (${t}) from ${e} to ${a}`),this.cursors.set(t,a),Object.assign(Object.assign({},s),{result:o})}async getPendingTransactionFilterChanges(t){return Promise.resolve(h())}async setInitialCursorPosition(t,e){const r=await this.getCurrentBlockHeight(),n="number"==typeof e&&e>r?e:r;return this.cursors.set(t,n),n}setFilterTimeout(t){const e=this.timeouts.get(t);e&&window.clearTimeout(e);const r=window.setTimeout((()=>{console.log(`Filter (${t}) timed out`),this.deleteFilter(t)}),3e5);this.timeouts.set(t,r)}async getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_blockNumber",params:[]}));return(0,i.intNumberFromHexString)((0,i.ensureHexString)(t))}async getBlockHashByNumber(t){const e=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getBlockByNumber",params:[(0,i.hexStringFromIntNumber)(t),!1]}));return e.result&&"string"==typeof e.result.hash?(0,i.ensureHexString)(e.result.hash):null}},e.filterFromParam=o},6862:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCMethod=void 0,(r=e.JSONRPCMethod||(e.JSONRPCMethod={})).eth_accounts="eth_accounts",r.eth_coinbase="eth_coinbase",r.net_version="net_version",r.eth_chainId="eth_chainId",r.eth_uninstallFilter="eth_uninstallFilter",r.eth_requestAccounts="eth_requestAccounts",r.eth_sign="eth_sign",r.eth_ecRecover="eth_ecRecover",r.personal_sign="personal_sign",r.personal_ecRecover="personal_ecRecover",r.eth_signTransaction="eth_signTransaction",r.eth_sendRawTransaction="eth_sendRawTransaction",r.eth_sendTransaction="eth_sendTransaction",r.eth_signTypedData_v1="eth_signTypedData_v1",r.eth_signTypedData_v2="eth_signTypedData_v2",r.eth_signTypedData_v3="eth_signTypedData_v3",r.eth_signTypedData_v4="eth_signTypedData_v4",r.eth_signTypedData="eth_signTypedData",r.cbWallet_arbitrary="walletlink_arbitrary",r.wallet_addEthereumChain="wallet_addEthereumChain",r.wallet_switchEthereumChain="wallet_switchEthereumChain",r.wallet_watchAsset="wallet_watchAsset",r.eth_subscribe="eth_subscribe",r.eth_unsubscribe="eth_unsubscribe",r.eth_newFilter="eth_newFilter",r.eth_newBlockFilter="eth_newBlockFilter",r.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",r.eth_getFilterChanges="eth_getFilterChanges",r.eth_getFilterLogs="eth_getFilterLogs"},483:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionManager=void 0;const n=r(4491),i=r(6401),s=()=>{};e.SubscriptionManager=class{constructor(t){const e=new n({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:s}=i({blockTracker:e,provider:t});this.events=r,this.subscriptionMiddleware=s}async handleRequest(t){const e={};return await this.subscriptionMiddleware(t,e,s,s),e}destroy(){this.subscriptionMiddleware.destroy()}}},7070:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKUI=void 0;const n=r(3276),i=r(2235),s=r(6527);e.WalletSDKUI=class{constructor(t){this.attached=!1,this.snackbar=new i.Snackbar({darkMode:t.darkMode}),this.linkFlow=new n.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,connected$:t.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,e=document.createElement("div");e.className="-cbwsdk-css-reset",t.appendChild(e),this.linkFlow.attach(e),this.snackbar.attach(e),this.attached=!0,(0,s.injectCssReset)()}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(t){}watchAsset(t){}switchEthereumChain(t){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(t){}signEthereumTransaction(t){}submitEthereumTransaction(t){}ethereumAddressFromSignedMessage(t){}showConnecting(t){let e;return e=t.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(e)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(t){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}},2759:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.RelayMessageType=void 0,(r=e.RelayMessageType||(e.RelayMessageType={})).SESSION_ID_REQUEST="SESSION_ID_REQUEST",r.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",r.LINKED="LINKED",r.UNLINKED="UNLINKED",r.WEB3_REQUEST="WEB3_REQUEST",r.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",r.WEB3_RESPONSE="WEB3_RESPONSE"},6587:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;const n=r(1312),i=r(8129),s=r(6397),o=r(9997),a="session:id",c="session:secret",u="session:linked";class l{constructor(t,e,r,i){this._storage=t,this._id=e||(0,o.randomBytesHex)(16),this._secret=r||(0,o.randomBytesHex)(32);const s=n.sha256.create();s.update(`${this._id}, ${this._secret} WalletLink`),this._key=s.hex(),this._linked=!!i}static load(t){const e=t.getItem(a),r=t.getItem(u),n=t.getItem(c);return e&&n?new l(t,e,n,"1"===r):null}static get persistedSessionIdChange$(){return(0,i.fromEvent)(window,"storage").pipe((0,s.filter)((t=>t.key===a)),(0,s.map)((t=>({oldValue:t.oldValue||null,newValue:t.newValue||null}))))}static hash(t){return n.sha256.create().update(t).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(a,this._id),this._storage.setItem(c,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(u,this._linked?"1":"0")}}e.Session=l},8263:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKRelay=void 0;const c=a(r(1974)),u=r(2203),l=r(8129),h=r(6397),d=r(2186),f=r(3025),p=r(9997),g=o(r(1490)),m=r(6587),y=r(873),b=r(2785),w=r(9605),v=r(2396),_=r(5336),E=r(3072);class A extends y.WalletSDKRelayAbstract{constructor(t){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new l.Subscription,this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this._session=m.Session.load(t.storage)||new m.Session(t.storage).save(),this.relayEventManager=t.relayEventManager,this.eventListener=t.eventListener,this.connection=new f.WalletSDKConnection(this._session.id,this._session.key,this.linkAPIUrl,this.eventListener),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,h.filter)((t=>"Web3Response"===t.event))).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,h.skip)(1),(0,h.tap)((t=>{var e;this.isLinked=t;const r=this.storage.getItem(y.LOCAL_STORAGE_ADDRESSES_KEY);if(t&&(this.session.linked=t),this.isUnlinkedErrorState=!1,r){const n=r.split(" "),i="true"===this.storage.getItem("IsStandaloneSigning");if(""!==n[0]&&!t&&this.session.linked&&!i){this.isUnlinkedErrorState=!0;const t=this.getSessionIdHash();null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:t,origin:location.origin})}}}))).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>!!t.metadata&&"1"===t.metadata.__destroyed))).subscribe((()=>{var t;const e=this.connection.isDestroyed;return null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:e,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.resetAndReload()}))),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.WalletUsername))).pipe((0,h.mergeMap)((t=>g.decrypt(t.metadata.WalletUsername,this._session.secret)))).subscribe({next:t=>{this.storage.setItem(y.WALLET_USER_NAME_KEY,t)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.AppVersion))).pipe((0,h.mergeMap)((t=>g.decrypt(t.metadata.AppVersion,this._session.secret)))).subscribe({next:t=>{this.storage.setItem(y.APP_VERSION_KEY,t)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.ChainId&&void 0!==t.metadata.JsonRpcUrl))).pipe((0,h.mergeMap)((t=>(0,l.zip)(g.decrypt(t.metadata.ChainId,this._session.secret),g.decrypt(t.metadata.JsonRpcUrl,this._session.secret))))).pipe((0,h.distinctUntilChanged)()).subscribe({next:([t,e])=>{this.chainCallback&&this.chainCallback(t,e)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,h.filter)((t=>t.metadata&&void 0!==t.metadata.EthereumAddress))).pipe((0,h.mergeMap)((t=>g.decrypt(t.metadata.EthereumAddress,this._session.secret)))).subscribe({next:t=>{this.accountsCallback&&this.accountsCallback([t]),A.accountRequestCallbackIds.size>0&&(Array.from(A.accountRequestCallbackIds.values()).forEach((e=>{const r=(0,E.Web3ResponseMessage)({id:e,response:(0,_.RequestEthereumAccountsResponse)([t])});this.invokeCallback(Object.assign(Object.assign({},r),{id:e}))})),A.accountRequestCallbackIds.clear())},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=t.uiConstructor({linkAPIUrl:t.linkAPIUrl,version:t.version,darkMode:t.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,h.timeout)(1e3),(0,h.catchError)((t=>(0,l.of)(null)))).subscribe((t=>{var e,r,n;try{this.subscriptions.unsubscribe()}catch(t){null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}null===(r=this.eventListener)||void 0===r||r.onEvent(d.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.connection.destroy();const i=m.Session.load(this.storage);(null==i?void 0:i.id)===this._session.id?this.storage.clear():i&&(null===(n=this.eventListener)||void 0===n||n.onEvent(d.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:m.Session.hash(i.id),origin:location.origin})),this.ui.reloadUI()}),(t=>{var e;null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})}))}setAppInfo(t,e){this.appName=t,this.appLogoUrl=e}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,e){this.storage.setItem(t,e)}signEthereumMessage(t,e,r,n){return this.sendRequest({method:b.Web3Method.signEthereumMessage,params:{message:(0,p.hexStringFromBuffer)(t,!0),address:e,addPrefix:r,typedDataJson:n||null}})}ethereumAddressFromSignedMessage(t,e,r){return this.sendRequest({method:b.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,p.hexStringFromBuffer)(t,!0),signature:(0,p.hexStringFromBuffer)(e,!0),addPrefix:r}})}signEthereumTransaction(t){return this.sendRequest({method:b.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,p.bigIntStringFromBN)(t.weiValue),data:(0,p.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,p.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:b.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,p.bigIntStringFromBN)(t.weiValue),data:(0,p.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,p.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,p.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,p.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,p.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,e){return this.sendRequest({method:b.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,p.hexStringFromBuffer)(t,!0),chainId:e}})}scanQRCode(t){return this.sendRequest({method:b.Web3Method.scanQRCode,params:{regExp:t}})}genericRequest(t,e){return this.sendRequest({method:b.Web3Method.generic,params:{action:e,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let e=null;const r=(0,p.randomBytesHex)(8),n=()=>{this.publishWeb3RequestCanceledEvent(r),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:r,response:(0,_.ErrorResponse)(t.method,"User rejected request")})),null==e||e()};return{promise:new Promise(((i,s)=>{this.ui.isStandalone()||(e=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,(t=>{if(null==e||e(),t.errorMessage)return s(new Error(t.errorMessage));i(t)})),this.ui.isStandalone()?this.sendRequestStandalone(r,t):this.publishWeb3RequestEvent(r,t)})),cancel:n}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}publishWeb3RequestEvent(t,e){var r;const n=(0,v.Web3RequestMessage)({id:t,request:e}),i=m.Session.load(this.storage);null===(r=this.eventListener)||void 0===r||r.onEvent(d.EVENTS.WEB3_REQUEST,{eventId:n.id,method:`relay::${n.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?m.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString(),origin:location.origin}),this.subscriptions.add(this.publishEvent("Web3Request",n,!0).subscribe({next:t=>{var e;null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:n.id,method:`relay::${n.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?m.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString(),origin:location.origin})},error:t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n.id,response:{method:n.request.method,errorMessage:t.message}}))}}))}publishWeb3RequestCanceledEvent(t){const e=(0,w.Web3RequestCanceledMessage)(t);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",e,!1).subscribe())}publishEvent(t,e,r){const n=this.session.secret;return new l.Observable((t=>{g.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{origin:location.origin})),n).then((e=>{t.next(e),t.complete()}))})).pipe((0,h.mergeMap)((e=>this.connection.publishEvent(t,e,r))))}handleIncomingEvent(t){try{this.subscriptions.add(g.decrypt(t.data,this.session.secret).pipe((0,h.map)((t=>JSON.parse(t)))).subscribe({next:t=>{const e=(0,E.isWeb3ResponseMessage)(t)?t:null;e&&this.handleWeb3ResponseMessage(e)},error:()=>{var t;null===(t=this.eventListener)||void 0===t||t.onEvent(d.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch(t){return}}handleWeb3ResponseMessage(t){var e;const{response:r}=t;if(null===(e=this.eventListener)||void 0===e||e.onEvent(d.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),(0,_.isRequestEthereumAccountsResponse)(r))return A.accountRequestCallbackIds.forEach((e=>this.invokeCallback(Object.assign(Object.assign({},t),{id:e})))),void A.accountRequestCallbackIds.clear();this.invokeCallback(t)}invokeCallback(t){const e=this.relayEventManager.callbacks.get(t.id);e&&(e(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:b.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},e=(0,p.randomBytesHex)(8),r=()=>{this.publishWeb3RequestCanceledEvent(e),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:e,response:(0,_.ErrorResponse)(t.method,"User rejected request")}))};return{promise:new Promise(((n,i)=>{var s;this.relayEventManager.callbacks.set(e,(t=>{if(this.ui.hideRequestEthereumAccounts(),t.errorMessage)return i(new Error(t.errorMessage));n(t)}));const o=(null===(s=null===window||void 0===window?void 0:window.navigator)||void 0===s?void 0:s.userAgent)||null;if(o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o))window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;else{if(this.ui.inlineAccountsResponse()){const t=t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:e,response:(0,_.RequestEthereumAccountsResponse)(t)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:t})}else this.ui.requestEthereumAccounts({onCancel:r});A.accountRequestCallbackIds.add(e),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(e,t)}})),cancel:r}}watchAsset(t,e,r,n,i,s){const o={method:b.Web3Method.watchAsset,params:{type:t,options:{address:e,symbol:r,decimals:n,image:i},chainId:s}};let a=null;const c=(0,p.randomBytesHex)(8),u=()=>{this.publishWeb3RequestCanceledEvent(c),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.ErrorResponse)(o.method,"User rejected request")})),null==a||a()};return this.ui.inlineWatchAsset()||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{cancel:u,promise:new Promise(((u,l)=>{this.relayEventManager.callbacks.set(c,(t=>{if(null==a||a(),t.errorMessage)return l(new Error(t.errorMessage));u(t)}));this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.WatchAssetReponse)(!0)}))},onCancel:()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.WatchAssetReponse)(!1)}))},type:t,address:e,symbol:r,decimals:n,image:i,chainId:s}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,o)}))}}addEthereumChain(t,e,r,n,i,s){const o={method:b.Web3Method.addEthereumChain,params:{chainId:t,rpcUrls:e,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:s}};let a=null;const c=(0,p.randomBytesHex)(8),u=()=>{this.publishWeb3RequestCanceledEvent(c),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.ErrorResponse)(o.method,"User rejected request")})),null==a||a()};return this.ui.inlineAddEthereumChain(t)||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise(((e,r)=>{this.relayEventManager.callbacks.set(c,(t=>{if(null==a||a(),t.errorMessage)return r(new Error(t.errorMessage));e(t)}));this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:c,response:(0,_.AddEthereumChainResponse)({isApproved:!0,rpcUrl:t})}))},chainId:o.params.chainId,rpcUrls:o.params.rpcUrls,blockExplorerUrls:o.params.blockExplorerUrls,chainName:o.params.chainName,iconUrls:o.params.iconUrls,nativeCurrency:o.params.nativeCurrency}),this.ui.inlineAddEthereumChain(t)||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,o)})),cancel:u}}switchEthereumChain(t){const e={method:b.Web3Method.switchEthereumChain,params:{chainId:t}};let r=null;const n=(0,p.randomBytesHex)(8),i=()=>{this.publishWeb3RequestCanceledEvent(n),this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.ErrorResponse)(e.method,"User rejected request")})),null==r||r()};return this.ui.inlineSwitchEthereumChain()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),{promise:new Promise(((t,i)=>{this.relayEventManager.callbacks.set(n,(e=>(null==r||r(),e.errorMessage&&e.errorCode?i(u.ethErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):e.errorMessage?i(new Error(e.errorMessage)):void t(e)))),this.ui.switchEthereumChain({onCancel:t=>{t?this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.ErrorResponse)(b.Web3Method.switchEthereumChain,"unsupported chainId",t)})):this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:t=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:n,response:(0,_.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:t})}))},chainId:e.params.chainId}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(n,e)})),cancel:i}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return m.Session.hash(this._session.id)}sendRequestStandalone(t,e){const r=()=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:t,response:(0,_.ErrorResponse)(e.method,"User rejected request")}))},n=e=>{this.handleWeb3ResponseMessage((0,E.Web3ResponseMessage)({id:t,response:e}))};switch(e.method){case b.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:e,onSuccess:n,onCancel:r});break;case b.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:e,onSuccess:n,onCancel:r});break;case b.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:e,onSuccess:n,onCancel:r});break;case b.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:e,onSuccess:n});break;default:r()}}}A.accountRequestCallbackIds=new Set,s([c.default],A.prototype,"resetAndReload",null),s([c.default],A.prototype,"handleIncomingEvent",null),e.WalletSDKRelay=A},873:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKRelayAbstract=e.APP_VERSION_KEY=e.LOCAL_STORAGE_ADDRESSES_KEY=e.WALLET_USER_NAME_KEY=void 0;const n=r(2203);e.WALLET_USER_NAME_KEY="walletUsername",e.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",e.APP_VERSION_KEY="AppVersion",e.WalletSDKRelayAbstract=class{async makeEthereumJSONRPCRequest(t,e){if(!e)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(e,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{if(!t)throw n.ethErrors.rpc.parse({});const e=t,{error:r}=e;if(r)throw(0,n.serializeError)(r);return e}))}}},9140:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WalletSDKRelayEventManager=void 0;const n=r(9997);e.WalletSDKRelayEventManager=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,e=(0,n.prepend0x)(t.toString(16));return this.callbacks.get(e)&&this.callbacks.delete(e),t}}},2785:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Method=void 0,(r=e.Web3Method||(e.Web3Method={})).requestEthereumAccounts="requestEthereumAccounts",r.signEthereumMessage="signEthereumMessage",r.signEthereumTransaction="signEthereumTransaction",r.submitEthereumTransaction="submitEthereumTransaction",r.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",r.scanQRCode="scanQRCode",r.generic="generic",r.childRequestEthereumAccounts="childRequestEthereumAccounts",r.addEthereumChain="addEthereumChain",r.switchEthereumChain="switchEthereumChain",r.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",r.watchAsset="watchAsset"},9605:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3RequestCanceledMessage=void 0;const n=r(2759);e.Web3RequestCanceledMessage=function(t){return{type:n.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}},2396:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3RequestMessage=void 0;const n=r(2759);e.Web3RequestMessage=function(t){return Object.assign({type:n.RelayMessageType.WEB3_REQUEST},t)}},5336:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EthereumAddressFromSignedMessageResponse=e.SubmitEthereumTransactionResponse=e.SignEthereumTransactionResponse=e.SignEthereumMessageResponse=e.isRequestEthereumAccountsResponse=e.WatchAssetReponse=e.RequestEthereumAccountsResponse=e.SwitchEthereumChainResponse=e.AddEthereumChainResponse=e.ErrorResponse=void 0;const n=r(2785);e.ErrorResponse=function(t,e,r){return{method:t,errorMessage:e,errorCode:r}},e.AddEthereumChainResponse=function(t){return{method:n.Web3Method.addEthereumChain,result:t}},e.SwitchEthereumChainResponse=function(t){return{method:n.Web3Method.switchEthereumChain,result:t}},e.RequestEthereumAccountsResponse=function(t){return{method:n.Web3Method.requestEthereumAccounts,result:t}},e.WatchAssetReponse=function(t){return{method:n.Web3Method.watchAsset,result:t}},e.isRequestEthereumAccountsResponse=function(t){return t&&t.method===n.Web3Method.requestEthereumAccounts},e.SignEthereumMessageResponse=function(t){return{method:n.Web3Method.signEthereumMessage,result:t}},e.SignEthereumTransactionResponse=function(t){return{method:n.Web3Method.signEthereumTransaction,result:t}},e.SubmitEthereumTransactionResponse=function(t){return{method:n.Web3Method.submitEthereumTransaction,result:t}},e.EthereumAddressFromSignedMessageResponse=function(t){return{method:n.Web3Method.ethereumAddressFromSignedMessage,result:t}}},3072:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWeb3ResponseMessage=e.Web3ResponseMessage=void 0;const n=r(2759);e.Web3ResponseMessage=function(t){return Object.assign({type:n.RelayMessageType.WEB3_RESPONSE},t)},e.isWeb3ResponseMessage=function(t){return t&&t.type===n.RelayMessageType.WEB3_RESPONSE}},1490:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=void 0;const n=r(8129),i=r(9997);e.encrypt=async function(t,e){if(64!==e.length)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,s.encode(t)),a=o.slice(o.byteLength-16),c=o.slice(0,o.byteLength-16),u=new Uint8Array(a),l=new Uint8Array(c),h=new Uint8Array([...r,...u,...l]);return(0,i.uint8ArrayToHex)(h)},e.decrypt=function(t,e){if(64!==e.length)throw Error("secret must be 256 bits");return new n.Observable((r=>{!async function(){const n=await crypto.subtle.importKey("raw",(0,i.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,i.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const t=await window.crypto.subtle.decrypt(l,n,u),e=new TextDecoder;r.next(e.decode(t)),r.complete()}catch(t){r.error(t)}}()}))}},8180:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegExpString=e.IntNumber=e.BigIntString=e.AddressString=e.HexString=e.OpaqueType=void 0,e.OpaqueType=function(){return t=>t},e.HexString=t=>t,e.AddressString=t=>t,e.BigIntString=t=>t,e.IntNumber=function(t){return Math.floor(t)},e.RegExpString=t=>t},9997:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getFavicon=e.range=e.isBigNumber=e.ensureParsedJSONObject=e.ensureBN=e.ensureRegExpString=e.ensureIntNumber=e.ensureBuffer=e.ensureAddressString=e.ensureEvenLengthHexString=e.ensureHexString=e.isHexString=e.prepend0x=e.strip0x=e.has0xPrefix=e.hexStringFromIntNumber=e.intNumberFromHexString=e.bigIntStringFromBN=e.hexStringFromBuffer=e.hexStringToUint8Array=e.uint8ArrayToHex=e.randomBytesHex=void 0;const i=n(r(9404)),s=r(8180),o=/^[0-9]*$/,a=/^[a-f0-9]*$/;function c(t){return[...t].map((t=>t.toString(16).padStart(2,"0"))).join("")}function u(t){return t.startsWith("0x")||t.startsWith("0X")}function l(t){return u(t)?t.slice(2):t}function h(t){return u(t)?"0x"+t.slice(2):"0x"+t}function d(t){if("string"!=typeof t)return!1;const e=l(t).toLowerCase();return a.test(e)}function f(t,e=!1){if("string"==typeof t){const r=l(t).toLowerCase();if(a.test(r))return(0,s.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}function p(t,e=!1){let r=f(t,!1);return r.length%2==1&&(r=(0,s.HexString)("0"+r)),e?(0,s.HexString)("0x"+r):r}function g(t){if("number"==typeof t&&Number.isInteger(t))return(0,s.IntNumber)(t);if("string"==typeof t){if(o.test(t))return(0,s.IntNumber)(Number(t));if(d(t))return(0,s.IntNumber)(new i.default(p(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}function m(t){if(null==t||"function"!=typeof t.constructor)return!1;const{constructor:e}=t;return"function"==typeof e.config&&"number"==typeof e.EUCLID}e.randomBytesHex=function(t){return c(crypto.getRandomValues(new Uint8Array(t)))},e.uint8ArrayToHex=c,e.hexStringToUint8Array=function(t){return new Uint8Array(t.match(/.{1,2}/g).map((t=>parseInt(t,16))))},e.hexStringFromBuffer=function(t,e=!1){const r=t.toString("hex");return(0,s.HexString)(e?"0x"+r:r)},e.bigIntStringFromBN=function(t){return(0,s.BigIntString)(t.toString(10))},e.intNumberFromHexString=function(t){return(0,s.IntNumber)(new i.default(p(t,!1),16).toNumber())},e.hexStringFromIntNumber=function(t){return(0,s.HexString)("0x"+new i.default(t).toString(16))},e.has0xPrefix=u,e.strip0x=l,e.prepend0x=h,e.isHexString=d,e.ensureHexString=f,e.ensureEvenLengthHexString=p,e.ensureAddressString=function(t){if("string"==typeof t){const e=l(t).toLowerCase();if(d(e)&&40===e.length)return(0,s.AddressString)(h(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)},e.ensureBuffer=function(t){if(Buffer.isBuffer(t))return t;if("string"==typeof t){if(d(t)){const e=p(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw new Error(`Not binary data: ${String(t)}`)},e.ensureIntNumber=g,e.ensureRegExpString=function(t){if(t instanceof RegExp)return(0,s.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)},e.ensureBN=function(t){if(null!==t&&(i.default.isBN(t)||m(t)))return new i.default(t.toString(10),10);if("number"==typeof t)return new i.default(g(t));if("string"==typeof t){if(o.test(t))return new i.default(t,10);if(d(t))return new i.default(p(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)},e.ensureParsedJSONObject=function(t){if("string"==typeof t)return JSON.parse(t);if("object"==typeof t)return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)},e.isBigNumber=m,e.range=function(t,e){return Array.from({length:e-t},((e,r)=>t+r))},e.getFavicon=function(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}},2872:(t,e,r)=>{const n=r(640),i=r(9404);function s(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function o(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function a(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function c(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function u(t){var e=typeof t;if("string"===e)return n.isHexString(t)?new i(n.stripHexPrefix(t),16):new i(t,10);if("number"===e)return new i(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function l(t,e){var r,s,h,d;if("address"===t)return l("uint160",u(e));if("bool"===t)return l("uint8",e?1:0);if("string"===t)return l("bytes",new Buffer(e,"utf8"));if(function(t){return t.lastIndexOf("]")===t.length-1}(t)){if(void 0===e.length)throw new Error("Not an array?");if("dynamic"!==(r=c(t))&&0!==r&&e.length>r)throw new Error("Elements exceed array size: "+r);for(d in h=[],t=t.slice(0,t.lastIndexOf("[")),"string"==typeof e&&(e=JSON.parse(e)),e)h.push(l(t,e[d]));if("dynamic"===r){var f=l("uint256",e.length);h.unshift(f)}return Buffer.concat(h)}if("bytes"===t)return e=new Buffer(e),h=Buffer.concat([l("uint256",e.length),e]),e.length%32!=0&&(h=Buffer.concat([h,n.zeros(32-e.length%32)])),h;if(t.startsWith("bytes")){if((r=o(t))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return n.setLengthRight(e,32)}if(t.startsWith("uint")){if((r=o(t))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((s=u(e)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+s.bitLength());if(s<0)throw new Error("Supplied uint is negative");return s.toArrayLike(Buffer,"be",32)}if(t.startsWith("int")){if((r=o(t))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((s=u(e)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+s.bitLength());return s.toTwos(256).toArrayLike(Buffer,"be",32)}if(t.startsWith("ufixed")){if(r=a(t),(s=u(e))<0)throw new Error("Supplied ufixed is negative");return l("uint256",s.mul(new i(2).pow(new i(r[1]))))}if(t.startsWith("fixed"))return r=a(t),l("int256",u(e).mul(new i(2).pow(new i(r[1]))));throw new Error("Unsupported or invalid type: "+t)}function h(t){return"string"===t||"bytes"===t||"dynamic"===c(t)}function d(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,i,a=[],c=0;c<t.length;c++){var l=s(t[c]),h=e[c];if("bytes"===l)a.push(h);else if("string"===l)a.push(new Buffer(h,"utf8"));else if("bool"===l)a.push(new Buffer(h?"01":"00","hex"));else if("address"===l)a.push(n.setLength(h,20));else if(l.startsWith("bytes")){if((r=o(l))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);a.push(n.setLengthRight(h,r))}else if(l.startsWith("uint")){if((r=o(l))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((i=u(h)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+i.bitLength());a.push(i.toArrayLike(Buffer,"be",r/8))}else{if(!l.startsWith("int"))throw new Error("Unsupported or invalid type: "+l);if((r=o(l))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((i=u(h)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+i.bitLength());a.push(i.toTwos(r).toArrayLike(Buffer,"be",r/8))}}return Buffer.concat(a)}t.exports={rawEncode:function(t,e){var r=[],n=[],i=32*t.length;for(var o in t){var a=s(t[o]),c=l(a,e[o]);h(a)?(r.push(l("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))},solidityPack:d,soliditySHA3:function(t,e){return n.keccak(d(t,e))}}},8878:(t,e,r)=>{const n=r(640),i=r(2872),s={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},o={encodeData(t,e,r,s=!0){const o=["bytes32"],a=[this.hashType(t,r)];if(s){const c=(t,e,o)=>{if(void 0!==r[e])return["bytes32",null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":n.keccak(this.encodeData(e,o,r,s))];if(void 0===o)throw new Error(`missing value for field ${t} of type ${e}`);if("bytes"===e)return["bytes32",n.keccak(o)];if("string"===e)return"string"==typeof o&&(o=Buffer.from(o,"utf8")),["bytes32",n.keccak(o)];if(e.lastIndexOf("]")===e.length-1){const r=e.slice(0,e.lastIndexOf("[")),s=o.map((e=>c(t,r,e)));return["bytes32",n.keccak(i.rawEncode(s.map((([t])=>t)),s.map((([,t])=>t))))]}return[e,o]};for(const n of r[t]){const[t,r]=c(n.name,n.type,e[n.name]);o.push(t),a.push(r)}}else for(const i of r[t]){let t=e[i.name];if(void 0!==t)if("bytes"===i.type)o.push("bytes32"),t=n.keccak(t),a.push(t);else if("string"===i.type)o.push("bytes32"),"string"==typeof t&&(t=Buffer.from(t,"utf8")),t=n.keccak(t),a.push(t);else if(void 0!==r[i.type])o.push("bytes32"),t=n.keccak(this.encodeData(i.type,t,r,s)),a.push(t);else{if(i.type.lastIndexOf("]")===i.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");o.push(i.type),a.push(t)}}return i.rawEncode(o,a)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter((e=>e!==t));n=[t].concat(n.sort());for(const t of n){if(!e[t])throw new Error("No type definition specified: "+t);r+=t+"("+e[t].map((({name:t,type:e})=>e+" "+t)).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||void 0===e[t])return r;r.push(t);for(const n of e[t])for(const t of this.findTypeDependencies(n.type,e,r))!r.includes(t)&&r.push(t);return r},hashStruct(t,e,r,i=!0){return n.keccak(this.encodeData(t,e,r,i))},hashType(t,e){return n.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in s.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),i=[Buffer.from("1901","hex")];return i.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),"EIP712Domain"!==r.primaryType&&i.push(this.hashStruct(r.primaryType,r.message,r.types,e)),n.keccak(Buffer.concat(i))}};t.exports={TYPED_MESSAGE_SCHEMA:s,TypedDataUtils:o,hashForSignTypedDataLegacy:function(t){return function(t){const e=new Error("Expect argument to be non-empty array");if("object"!=typeof t||!t.length)throw e;const r=t.map((function(t){return"bytes"===t.type?n.toBuffer(t.value):t.value})),s=t.map((function(t){return t.type})),o=t.map((function(t){if(!t.name)throw e;return t.type+" "+t.name}));return i.soliditySHA3(["bytes32","bytes32"],[i.soliditySHA3(new Array(t.length).fill("string"),o),i.soliditySHA3(s,r)])}(t.data)},hashForSignTypedData_v3:function(t){return o.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return o.hash(t.data)}}},640:(t,e,r)=>{const n=r(5508),i=r(9404);function s(t){return Buffer.allocUnsafe(t).fill(0)}function o(t,e,r){const n=s(e);return t=a(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function a(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if("string"==typeof t)t=c(t)?Buffer.from((e=u(t)).length%2?"0"+e:e,"hex"):Buffer.from(t);else if("number"==typeof t)t=intToBuffer(t);else if(null==t)t=Buffer.allocUnsafe(0);else if(i.isBN(t))t=t.toArrayLike(Buffer);else{if(!t.toArray)throw new Error("invalid type");t=Buffer.from(t.toArray())}var e;return t}function c(t){return"string"==typeof t&&t.match(/^0x[0-9A-Fa-f]*$/)}function u(t){return"string"==typeof t&&t.startsWith("0x")?t.slice(2):t}t.exports={zeros:s,setLength:o,setLengthRight:function(t,e){return o(t,e,!0)},isHexString:c,stripHexPrefix:u,toBuffer:a,bufferToHex:function(t){return"0x"+(t=a(t)).toString("hex")},keccak:function(t,e){return t=a(t),e||(e=256),n("keccak"+e).update(t).digest()}}},9500:t=>{function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var i=[],s=this.data.charCodeAt(e);s>65536?(i[0]=240|(1835008&s)>>>18,i[1]=128|(258048&s)>>>12,i[2]=128|(4032&s)>>>6,i[3]=128|63&s):s>2048?(i[0]=224|(61440&s)>>>12,i[1]=128|(4032&s)>>>6,i[2]=128|63&s):s>128?(i[0]=192|(1984&s)>>>6,i[1]=128|63&s):i[0]=s,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function r(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},r.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=i.getLostPoint(this);(0==r||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var s=1*i,o=0;o<this.modules[i].length;o++){var a=1*o;this.modules[i][o]&&(n.beginFill(0,100),n.moveTo(a,s),n.lineTo(a+1,s),n.lineTo(a+1,s+1),n.lineTo(a,s+1),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=i.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],s=t[r];if(null==this.modules[n][s])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[n+o][s+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(t){for(var e=i.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++)n=!t&&1==(e>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=i.getBCHTypeInfo(r),s=0;s<15;s++){var o=!t&&1==(n>>s&1);s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o}for(s=0;s<15;s++)o=!t&&1==(n>>s&1),s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,s=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var c=0;c<2;c++)if(null==this.modules[n][a-c]){var u=!1;o<t.length&&(u=1==(t[o]>>>s&1)),i.getMask(e,n,a-c)&&(u=!u),this.modules[n][a-c]=u,-1==--s&&(o++,s=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(t,e,n){for(var s=c.getRSBlocks(t,e),o=new u,a=0;a<n.length;a++){var l=n[a];o.put(l.mode,4),o.put(l.getLength(),i.getLengthInBits(l.mode,t)),l.write(o)}var h=0;for(a=0;a<s.length;a++)h+=s[a].dataCount;if(o.getLengthInBits()>8*h)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*h+")");for(o.getLengthInBits()+4<=8*h&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*h||(o.put(r.PAD0,8),o.getLengthInBits()>=8*h));)o.put(r.PAD1,8);return r.createBytes(o,s)},r.createBytes=function(t,e){for(var r=0,n=0,s=0,o=new Array(e.length),c=new Array(e.length),u=0;u<e.length;u++){var l=e[u].dataCount,h=e[u].totalCount-l;n=Math.max(n,l),s=Math.max(s,h),o[u]=new Array(l);for(var d=0;d<o[u].length;d++)o[u][d]=255&t.buffer[d+r];r+=l;var f=i.getErrorCorrectPolynomial(h),p=new a(o[u],f.getLength()-1).mod(f);for(c[u]=new Array(f.getLength()-1),d=0;d<c[u].length;d++){var g=d+p.getLength()-c[u].length;c[u][d]=g>=0?p.get(g):0}}var m=0;for(d=0;d<e.length;d++)m+=e[d].totalCount;var y=new Array(m),b=0;for(d=0;d<n;d++)for(u=0;u<e.length;u++)d<o[u].length&&(y[b++]=o[u][d]);for(d=0;d<s;d++)for(u=0;u<e.length;u++)d<c[u].length&&(y[b++]=c[u][d]);return y};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;i.getBCHDigit(e)-i.getBCHDigit(i.G15)>=0;)e^=i.G15<<i.getBCHDigit(e)-i.getBCHDigit(i.G15);return(t<<10|e)^i.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;i.getBCHDigit(e)-i.getBCHDigit(i.G18)>=0;)e^=i.G18<<i.getBCHDigit(e)-i.getBCHDigit(i.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return i.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return(e+r)%2==0;case 1:return e%2==0;case 2:return r%3==0;case 3:return(e+r)%3==0;case 4:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case 5:return e*r%2+e*r%3==0;case 6:return(e*r%2+e*r%3)%2==0;case 7:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new a([1],0),r=0;r<t;r++)e=e.multiply(new a([1,s.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||0==a&&0==c||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(n=0;n<e-1;n++)for(i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;i<e;i++)for(n=0;n<e;n++)t.isDark(n,i)&&l++;return r+Math.abs(100*l/e/e-50)/5*10}},s={glog:function(t){if(t<1)throw new Error("glog("+t+")");return s.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return s.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},o=0;o<8;o++)s.EXP_TABLE[o]=1<<o;for(o=8;o<256;o++)s.EXP_TABLE[o]=s.EXP_TABLE[o-4]^s.EXP_TABLE[o-5]^s.EXP_TABLE[o-6]^s.EXP_TABLE[o-8];for(o=0;o<255;o++)s.LOG_TABLE[s.EXP_TABLE[o]]=o;function a(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}function c(t,e){this.totalCount=t,this.dataCount=e}function u(){this.buffer=[],this.length=0}a.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=s.gexp(s.glog(this.get(r))+s.glog(t.get(n)));return new a(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=s.glog(this.get(0))-s.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<t.getLength();n++)r[n]^=s.gexp(s.glog(t.get(n))+e);return new a(r,0).mod(t)}},c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c.getRSBlocks=function(t,e){var r=c.getRsBlockTable(t,e);if(null==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[3*s+0],a=r[3*s+1],u=r[3*s+2],l=0;l<o;l++)i.push(new c(a,u));return i},c.getRsBlockTable=function(t,e){switch(e){case 1:return c.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return c.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return c.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return c.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},u.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var l=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof t&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var n=this.options.content,i=function(t,e){for(var r=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),n=1,i=0,s=0,o=l.length;s<=o;s++){var a=l[s];if(!a)throw new Error("Content too long: expected "+i+" but got "+r);switch(e){case"L":i=a[0];break;case"M":i=a[1];break;case"Q":i=a[2];break;case"H":i=a[3];break;default:throw new Error("Unknwon error correction level: "+e)}if(r<=i)break;n++}if(n>l.length)throw new Error("Content too long");return n}(n,this.options.ecl),s=function(t){switch(t){case"L":return 1;case"M":return 0;case"Q":return 3;case"H":return 2;default:throw new Error("Unknwon error correction level: "+t)}}(this.options.ecl);this.qrcode=new r(i,s),this.qrcode.addData(n),this.qrcode.make()}h.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;void 0===t&&(t={container:e.container||"svg"});for(var n=void 0===e.pretty||!!e.pretty,i=n?"  ":"",s=n?"\r\n":"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),h=void 0!==e.join&&!!e.join,d=void 0!==e.swap&&!!e.swap,f=void 0===e.xmlDeclaration||!!e.xmlDeclaration,p=void 0!==e.predefined&&!!e.predefined,g=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",m=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,y="",b="",w=0;w<c;w++)for(var v=0;v<c;v++)if(r[v][w]){var _=v*u+e.padding*u,E=w*l+e.padding*l;if(d){var A=_;_=E,E=A}if(h){var S=u+_,x=l+E;_=Number.isInteger(_)?Number(_):_.toFixed(2),E=Number.isInteger(E)?Number(E):E.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),b+="M"+_+","+E+" V"+(x=Number.isInteger(x)?Number(x):x.toFixed(2))+" H"+S+" V"+E+" H"+_+" Z "}else y+=p?i+'<use x="'+_.toString()+'" y="'+E.toString()+'" href="#qrmodule" />'+s:i+'<rect x="'+_.toString()+'" y="'+E.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}h&&(y=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+b+'" />');let k="";if(void 0!==this.options.image&&this.options.image.svg){const t=o*this.options.image.width/100,e=a*this.options.image.height/100;k+=`<svg x="${o/2-t/2}" y="${a/2-e/2}" width="${t}" height="${e}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,k+=this.options.image.svg+s,k+="</svg>"}var I="";switch(t.container){case"svg":f&&(I+='<?xml version="1.0" standalone="yes"?>'+s),I+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,I+=g+m+y,I+=k,I+="</svg>";break;case"svg-viewbox":f&&(I+='<?xml version="1.0" standalone="yes"?>'+s),I+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,I+=g+m+y,I+=k,I+="</svg>";break;case"g":I+='<g width="'+o+'" height="'+a+'">'+s,I+=g+m+y,I+=k,I+="</g>";break;default:I+=(g+m+y+k).replace(/^\s+/,"")}return I},t.exports=h},1797:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LIB_VERSION=void 0,e.LIB_VERSION="3.0.4"},8129:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ArgumentOutOfRangeError:()=>T.k,AsyncSubject:()=>l.h,BehaviorSubject:()=>c.t,ConnectableObservable:()=>i.G,EMPTY:()=>Y.w,EmptyError:()=>O.G,GroupedObservable:()=>s.k,NEVER:()=>ht,Notification:()=>x.E,NotificationKind:()=>x.I,ObjectUnsubscribedError:()=>R.P,Observable:()=>n.c,ReplaySubject:()=>u.m,Scheduler:()=>E._,Subject:()=>a.B7,Subscriber:()=>S.v,Subscription:()=>A.y,TimeoutError:()=>N.M,UnsubscriptionError:()=>P.Z,VirtualAction:()=>_,VirtualTimeScheduler:()=>v,animationFrame:()=>w,animationFrameScheduler:()=>b,asap:()=>h.I,asapScheduler:()=>h.$,async:()=>d.b,asyncScheduler:()=>d.E,bindCallback:()=>j,bindNodeCallback:()=>q,combineLatest:()=>$.zV,concat:()=>K.x,config:()=>Ct.$,defer:()=>G.v,empty:()=>Y.I,forkJoin:()=>Q,from:()=>J.H,fromEvent:()=>et,fromEventPattern:()=>nt,generate:()=>it,identity:()=>M.D,iif:()=>ot,interval:()=>ct,isObservable:()=>C,merge:()=>lt.h,never:()=>dt,noop:()=>I.l,observable:()=>o.s,of:()=>ft.of,onErrorResumeNext:()=>pt,pairs:()=>gt,partition:()=>vt,pipe:()=>k.F,queue:()=>f.g,queueScheduler:()=>f.T,race:()=>_t.O4,range:()=>Et,scheduled:()=>Mt.c,throwError:()=>St.$,timer:()=>xt.O,using:()=>kt,zip:()=>It.yU});var n=r(8143),i=r(6082),s=r(5851),o=r(8763),a=r(4767),c=r(5865),u=r(8614),l=r(4331),h=r(6834),d=r(837),f=r(3769),p=r(4064),g=r(9006),m=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return p.C6(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(g.R),y=r(9916),b=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p.C6(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(y.q))(m),w=b,v=function(t){function e(e,r){void 0===e&&(e=_),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return p.C6(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(y.q),_=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return p.C6(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(g.R),E=r(7366),A=r(4458),S=r(6129),x=r(5148),k=r(5902),I=r(1162),M=r(444);function C(t){return!!t&&(t instanceof n.c||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var T=r(6445),O=r(4643),R=r(6226),P=r(7256),N=r(7701),B=r(9939),L=r(3348),D=r(9325),U=r(4921);function j(t,e,r){if(e){if(!(0,U.m)(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return j(t,r).apply(void 0,n).pipe((0,B.T)((function(t){return(0,D.c)(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s,o=this,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new n.c((function(n){if(r){var i={args:e,subscriber:n,params:a};return r.schedule(F,0,i)}if(!s){s=new l.h;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.next(t.length<=1?t[0]:t),s.complete()}]))}catch(t){(0,L.H)(s)?s.error(t):console.warn(t)}}return s.subscribe(n)}))}}function F(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new l.h;try{s.apply(o,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(a.schedule(z,0,{value:n,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(n))}function z(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function q(t,e,r){if(e){if(!(0,U.m)(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return q(t,r).apply(void 0,n).pipe((0,B.T)((function(t){return(0,D.c)(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new n.c((function(n){var i=s.context,o=s.subject;if(r)return r.schedule(H,0,{params:s,subscriber:n,context:i});if(!o){o=s.subject=new l.h;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?o.error(r):(o.next(t.length<=1?t[0]:t),o.complete())}]))}catch(t){(0,L.H)(o)?o.error(t):console.warn(t)}}return o.subscribe(n)}))}}function H(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new l.h;try{s.apply(i,o.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(a.schedule(V,0,{err:n,subject:c}));else{var i=t.length<=1?t[0]:t;e.add(a.schedule(W,0,{value:i,subject:c}))}}]))}catch(t){this.add(a.schedule(V,0,{err:t,subject:c}))}}this.add(c.subscribe(n))}function W(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function V(t){var e=t.err;t.subject.error(e)}var $=r(6395),K=r(1621),G=r(2309),Y=r(1548),Z=r(4601),J=r(8433);function Q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if((0,D.c)(r))return X(r,null);if((0,Z.G)(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return X(n.map((function(t){return r[t]})),n)}}if("function"==typeof t[t.length-1]){var i=t.pop();return X(t=1===t.length&&(0,D.c)(t[0])?t[0]:t,null).pipe((0,B.T)((function(t){return i.apply(void 0,t)})))}return X(t,null)}function X(t,e){return new n.c((function(r){var n=t.length;if(0!==n)for(var i=new Array(n),s=0,o=0,a=function(a){var c=(0,J.H)(t[a]),u=!1;r.add(c.subscribe({next:function(t){u||(u=!0,o++),i[a]=t},error:function(t){return r.error(t)},complete:function(){++s!==n&&u||(o===n&&r.next(e?e.reduce((function(t,e,r){return t[e]=i[r],t}),{}):i),r.complete())}}))},c=0;c<n;c++)a(c);else r.complete()}))}var tt=r(5838);function et(t,e,r,i){return(0,tt.T)(r)&&(i=r,r=void 0),i?et(t,e,r).pipe((0,B.T)((function(t){return(0,D.c)(t)?i.apply(void 0,t):i(t)}))):new n.c((function(n){rt(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}function rt(t,e,r,n,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,l=t.length;u<l;u++)rt(t[u],e,r,n,i)}n.add(s)}function nt(t,e,r){return r?nt(t,e).pipe((0,B.T)((function(t){return(0,D.c)(t)?r.apply(void 0,t):r(t)}))):new n.c((function(r){var n,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{n=t(i)}catch(t){return void r.error(t)}if((0,tt.T)(e))return function(){return e(i,n)}}))}function it(t,e,r,i,s){var o,a;if(1==arguments.length){var c=t;a=c.initialState,e=c.condition,r=c.iterate,o=c.resultSelector||M.D,s=c.scheduler}else void 0===i||(0,U.m)(i)?(a=t,o=M.D,s=i):(a=t,o=i);return new n.c((function(t){var n=a;if(s)return s.schedule(st,0,{subscriber:t,iterate:r,condition:e,resultSelector:o,state:n});for(;;){if(e){var i=void 0;try{i=e(n)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var c=void 0;try{c=o(n)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{n=r(n)}catch(e){return void t.error(e)}}}))}function st(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function ot(t,e,r){return void 0===e&&(e=Y.w),void 0===r&&(r=Y.w),(0,G.v)((function(){return t()?e:r}))}var at=r(1907);function ct(t,e){return void 0===t&&(t=0),void 0===e&&(e=d.b),(!(0,at.k)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.b),new n.c((function(r){return r.add(e.schedule(ut,t,{subscriber:r,counter:0,period:t})),r}))}function ut(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}var lt=r(3421),ht=new n.c(I.l);function dt(){return ht}var ft=r(256);function pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return Y.w;var r=t[0],i=t.slice(1);return 1===t.length&&(0,D.c)(r)?pt.apply(void 0,r):new n.c((function(t){var e=function(){return t.add(pt.apply(void 0,i).subscribe(t))};return(0,J.H)(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function gt(t,e){return e?new n.c((function(r){var n=Object.keys(t),i=new A.y;return i.add(e.schedule(mt,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i})):new n.c((function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var i=r[n];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()}))}function mt(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}var yt=r(4825),bt=r(742),wt=r(2899);function vt(t,e,r){return[(0,wt.p)(e,r)(new n.c((0,bt.i)(t))),(0,wt.p)((0,yt.A)(e,r))(new n.c((0,bt.i)(t)))]}var _t=r(9340);function Et(t,e,r){return void 0===t&&(t=0),new n.c((function(n){void 0===e&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(At,0,{index:i,count:e,start:t,subscriber:n});for(;;){if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}}))}function At(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e),i.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}var St=r(6683),xt=r(5312);function kt(t,e){return new n.c((function(r){var n,i;try{n=t()}catch(t){return void r.error(t)}try{i=e(n)}catch(t){return void r.error(t)}var s=(i?(0,J.H)(i):Y.w).subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}}))}var It=r(6066),Mt=r(2628),Ct=r(7281)},4331:(t,e,r)=>{"use strict";r.d(e,{h:()=>o});var n=r(4064),i=r(4767),s=r(4458),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return n.C6(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),s.y.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),s.y.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.B7)},5865:(t,e,r)=>{"use strict";r.d(e,{t:()=>o});var n=r(4064),i=r(4767),s=r(6226),o=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return n.C6(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.P;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.B7)},5148:(t,e,r)=>{"use strict";r.d(e,{E:()=>a,I:()=>n});var n,i=r(1548),s=r(256),o=r(6683);n||(n={});var a=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,o.$)(this.error);case"C":return(0,i.I)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},8143:(t,e,r)=>{"use strict";r.d(e,{c:()=>l});var n=r(3348),i=r(6129),s=r(9118),o=r(2501),a=r(8763),c=r(5902),u=r(7281),l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,a=function(t,e,r){if(t){if(t instanceof i.v)return t;if(t[s.D])return t[s.D]()}return t||e||r?new i.v(t,e,r):new i.v(o.I)}(t,e,r);if(n?a.add(n.call(a,this.source)):a.add(this.source||u.$.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.$.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.$.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),(0,n.H)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=h(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.s]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:(0,c.m)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function h(t){if(t||(t=u.$.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},2501:(t,e,r)=>{"use strict";r.d(e,{I:()=>s});var n=r(7281),i=r(3458),s={closed:!0,next:function(t){},error:function(t){if(n.$.useDeprecatedSynchronousErrorHandling)throw t;(0,i.T)(t)},complete:function(){}}},8062:(t,e,r)=>{"use strict";r.d(e,{E:()=>i});var n=r(4064),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.C6(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r(6129).v)},8614:(t,e,r)=>{"use strict";r.d(e,{m:()=>l});var n=r(4064),i=r(4767),s=r(3769),o=r(4458),a=r(7020),c=r(6226),u=r(1346),l=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return n.C6(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new h(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;if(this.closed)throw new c.P;if(this.isStopped||this.hasError?e=o.y.EMPTY:(this.observers.push(t),e=new u.Y(this,t)),i&&t.add(t=new a.YZ(t,i)),r)for(var l=0;l<s&&!t.closed;l++)t.next(n[l]);else for(l=0;l<s&&!t.closed;l++)t.next(n[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||s.g).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,s=0;s<i&&!(t-n[s].time<r);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&n.splice(0,s),n},e}(i.B7),h=function(){return function(t,e){this.time=t,this.value=e}}()},7366:(t,e,r)=>{"use strict";r.d(e,{_:()=>n});var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}()},4767:(t,e,r)=>{"use strict";r.d(e,{B7:()=>h,PJ:()=>l});var n=r(4064),i=r(8143),s=r(6129),o=r(4458),a=r(6226),c=r(1346),u=r(9118),l=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n.C6(e,t),e}(s.v),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.C6(e,t),e.prototype[u.D]=function(){return new l(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.P;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.P;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.P;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.P;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.P;return this.hasError?(t.error(this.thrownError),o.y.EMPTY):this.isStopped?(t.complete(),o.y.EMPTY):(this.observers.push(t),new c.Y(this,t))},e.prototype.asObservable=function(){var t=new i.c;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(i.c),d=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return n.C6(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.y.EMPTY},e}(h)},1346:(t,e,r)=>{"use strict";r.d(e,{Y:()=>i});var n=r(4064),i=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return n.C6(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(4458).y)},6129:(t,e,r)=>{"use strict";r.d(e,{v:()=>l});var n=r(4064),i=r(5838),s=r(2501),o=r(4458),a=r(9118),c=r(7281),u=r(3458),l=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.I;break;case 1:if(!r){o.destination=s.I;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new h(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new h(o,r,n,i)}return o}return n.C6(e,t),e.prototype[a.D]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(o.y),h=function(t){function e(e,r,n,o){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return(0,i.T)(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.I&&(u=Object.create(r),(0,i.T)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=n,c._complete=o,c}return n.C6(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.$.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.$.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.T)(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;(0,u.T)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.$.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.$.useDeprecatedSynchronousErrorHandling)throw t;(0,u.T)(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!c.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return c.$.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):((0,u.T)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},4458:(t,e,r)=>{"use strict";r.d(e,{y:()=>a});var n=r(9325),i=r(4601),s=r(5838),o=r(7256),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,a=r._parentOrParents,u=r._ctorUnsubscribe,l=r._unsubscribe,h=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d)a[d].remove(this);if((0,s.T)(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(t){e=t instanceof o.Z?c(t.errors):[t]}}if((0,n.c)(h)){d=-1;for(var f=h.length;++d<f;){var p=h[d];if((0,i.G)(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof o.Z?e=e.concat(c(t.errors)):e.push(t)}}}if(e)throw new o.Z(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof o.Z?e.errors:e)}),[])}},7281:(t,e,r)=>{"use strict";r.d(e,{$:()=>i});var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},487:(t,e,r)=>{"use strict";r.d(e,{gn:()=>c,tS:()=>u,zA:()=>a});var n=r(4064),i=r(6129),s=r(8143),o=r(742),a=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,r}return n.C6(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(i.v),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.C6(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(i.v);function u(t,e){if(!e.closed){if(t instanceof s.c)return t.subscribe(e);var r;try{r=(0,o.i)(t)(e)}catch(t){e.error(t)}return r}}},6082:(t,e,r)=>{"use strict";r.d(e,{G:()=>c,f:()=>u});var n=r(4064),i=r(4767),s=r(8143),o=r(4458),a=r(7949),c=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return n.C6(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new o.y).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.y.EMPTY)),t},e.prototype.refCount=function(){return(0,a.B)()(this)},e}(s.c),u=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),l=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.C6(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.PJ)},6395:(t,e,r)=>{"use strict";r.d(e,{ZS:()=>h,zV:()=>l});var n=r(4064),i=r(4921),s=r(9325),o=r(8062),a=r(4089),c=r(372),u={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return(0,i.m)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,s.c)(t[0])&&(t=t[0]),(0,c.c)(t,n).lift(new h(r))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return n.C6(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add((0,a.F)(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,i=n[r],s=this.toRespond?i===u?--this.toRespond:this.toRespond:0;n[r]=e,0===s&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.E)},1621:(t,e,r)=>{"use strict";r.d(e,{x:()=>s});var n=r(256),i=r(6770);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,i.K)()(n.of.apply(void 0,t))}},2309:(t,e,r)=>{"use strict";r.d(e,{v:()=>o});var n=r(8143),i=r(8433),s=r(1548);function o(t){return new n.c((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?(0,i.H)(r):(0,s.I)()).subscribe(e)}))}},1548:(t,e,r)=>{"use strict";r.d(e,{I:()=>s,w:()=>i});var n=r(8143),i=new n.c((function(t){return t.complete()}));function s(t){return t?function(t){return new n.c((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},8433:(t,e,r)=>{"use strict";r.d(e,{H:()=>o});var n=r(8143),i=r(742),s=r(2628);function o(t,e){return e?(0,s.c)(t,e):t instanceof n.c?t:new n.c((0,i.i)(t))}},372:(t,e,r)=>{"use strict";r.d(e,{c:()=>o});var n=r(8143),i=r(3328),s=r(3213);function o(t,e){return e?(0,s.V)(t,e):new n.c((0,i.v)(t))}},3421:(t,e,r)=>{"use strict";r.d(e,{h:()=>a});var n=r(8143),i=r(4921),s=r(5562),o=r(372);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,a=null,c=t[t.length-1];return(0,i.m)(c)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof c&&(r=t.pop()),null===a&&1===t.length&&t[0]instanceof n.c?t[0]:(0,s.U)(r)((0,o.c)(t,a))}},256:(t,e,r)=>{"use strict";r.d(e,{of:()=>o});var n=r(4921),i=r(372),s=r(3213);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return(0,n.m)(r)?(t.pop(),(0,s.V)(t,r)):(0,i.c)(t)}},9340:(t,e,r)=>{"use strict";r.d(e,{O4:()=>c});var n=r(4064),i=r(9325),s=r(372),o=r(8062),a=r(4089);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!(0,i.c)(t[0]))return t[0];t=t[0]}return(0,s.c)(t,void 0).lift(new u)}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return n.C6(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=(0,a.F)(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(o.E)},6683:(t,e,r)=>{"use strict";r.d(e,{$:()=>i});var n=r(8143);function i(t,e){return e?new n.c((function(r){return e.schedule(s,0,{error:t,subscriber:r})})):new n.c((function(e){return e.error(t)}))}function s(t){var e=t.error;t.subscriber.error(e)}},5312:(t,e,r)=>{"use strict";r.d(e,{O:()=>a});var n=r(8143),i=r(837),s=r(1907),o=r(4921);function a(t,e,r){void 0===t&&(t=0);var a=-1;return(0,s.k)(e)?a=Number(e)<1?1:Number(e):(0,o.m)(e)&&(r=e),(0,o.m)(r)||(r=i.b),new n.c((function(e){var n=(0,s.k)(t)?t:+t-r.now();return r.schedule(c,n,{index:0,period:a,subscriber:e})}))}function c(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}},6066:(t,e,r)=>{"use strict";r.d(e,{ee:()=>l,yU:()=>u});var n=r(4064),i=r(372),s=r(9325),o=r(6129),a=r(6848),c=r(487);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),(0,i.c)(t,void 0).lift(new l(r))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return n.C6(e,t),e.prototype._next=function(t){var e=this.iterators;(0,s.c)(t)?e.push(new f(t)):"function"==typeof t[a.lJ]?e.push(new d(t[a.lJ]())):e.push(new p(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++)if("function"==typeof(o=t[n]).hasValue&&!o.hasValue())return;var i=!1,s=[];for(n=0;n<e;n++){var o,a=(o=t[n]).next();if(o.hasCompleted()&&(i=!0),a.done)return void r.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):r.next(s),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.v),d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),f=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[a.lJ]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),p=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return n.C6(e,t),e.prototype[a.lJ]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return(0,c.tS)(this.observable,new c.zA(this))},e}(c.gn)},6770:(t,e,r)=>{"use strict";r.d(e,{K:()=>i});var n=r(5562);function i(){return(0,n.U)(1)}},2899:(t,e,r)=>{"use strict";r.d(e,{p:()=>s});var n=r(4064),i=r(6129);function s(t,e){return function(r){return r.lift(new o(t,e))}}var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n.C6(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.v)},5851:(t,e,r)=>{"use strict";r.d(e,{$:()=>c,k:()=>d});var n=r(4064),i=r(6129),s=r(4458),o=r(8143),a=r(4767);function c(t,e,r,n){return function(i){return i.lift(new u(t,e,r,n))}}var u=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,r,n,i,s){var o=t.call(this,e)||this;return o.keySelector=r,o.elementSelector=n,o.durationSelector=i,o.subjectSelector=s,o.groups=null,o.attemptedToUnsubscribe=!1,o.count=0,o}return n.C6(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.B7,r.set(e,i);var s=new d(e,i,this);if(this.destination.next(s),this.durationSelector){var o=void 0;try{o=this.durationSelector(new d(e,i))}catch(t){return void this.error(t)}this.add(o.subscribe(new h(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,r){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.v),h=function(t){function e(e,r,n){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=n,i}return n.C6(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.v),d=function(t){function e(e,r,n){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=n,i}return n.C6(e,t),e.prototype._subscribe=function(t){var e=new s.y,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new f(r)),e.add(n.subscribe(t)),e},e}(o.c),f=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return n.C6(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.y)},9939:(t,e,r)=>{"use strict";r.d(e,{T:()=>s});var n=r(4064),i=r(6129);function s(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(t,e))}}var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n.C6(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.v)},5562:(t,e,r)=>{"use strict";r.d(e,{U:()=>s});var n=r(6147),i=r(444);function s(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),(0,n.ZZ)(i.D,t)}},6147:(t,e,r)=>{"use strict";r.d(e,{ZZ:()=>a,qI:()=>l});var n=r(4064),i=r(9939),s=r(8433),o=r(487);function a(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(a((function(r,n){return(0,s.H)(t(r,n)).pipe((0,i.T)((function(t,i){return e(r,t,n,i)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new c(t,r))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))},t}(),u=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n.C6(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new o.zA(this),r=this.destination;r.add(e);var n=(0,o.tS)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.gn),l=a},7020:(t,e,r)=>{"use strict";r.d(e,{QE:()=>o,YZ:()=>c});var n=r(4064),i=r(6129),s=r(5148);function o(t,e){return void 0===e&&(e=0),function(r){return r.lift(new a(t,e))}}var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}(),c=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return n.C6(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.E.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.E.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(s.E.createComplete()),this.unsubscribe()},e}(i.v),u=function(){return function(t,e){this.notification=t,this.destination=e}}()},7949:(t,e,r)=>{"use strict";r.d(e,{B:()=>s});var n=r(4064),i=r(6129);function s(){return function(t){return t.lift(new o(t))}}var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new a(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return n.C6(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(i.v)},3213:(t,e,r)=>{"use strict";r.d(e,{V:()=>s});var n=r(8143),i=r(4458);function s(t,e){return new n.c((function(r){var n=new i.y,s=0;return n.add(e.schedule((function(){s!==t.length?(r.next(t[s++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},2628:(t,e,r)=>{"use strict";r.d(e,{c:()=>l});var n=r(8143),i=r(4458),s=r(8763),o=r(3213),a=r(6848),c=r(769),u=r(9594);function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.s]}(t))return function(t,e){return new n.c((function(r){var n=new i.y;return n.add(e.schedule((function(){var i=t[s.s]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}(t,e);if((0,c.y)(t))return function(t,e){return new n.c((function(r){var n=new i.y;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}(t,e);if((0,u.X)(t))return(0,o.V)(t,e);if(function(t){return t&&"function"==typeof t[a.lJ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.c((function(r){var n,s=new i.y;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(e.schedule((function(){n=t[a.lJ](),s.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),s}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},9006:(t,e,r)=>{"use strict";r.d(e,{R:()=>i});var n=r(4064),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return n.C6(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return n.C6(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r(4458).y))},9916:(t,e,r)=>{"use strict";r.d(e,{q:()=>s});var n=r(4064),i=r(7366),s=function(t){function e(r,n){void 0===n&&(n=i._.now);var s=t.call(this,r,(function(){return e.delegate&&e.delegate!==s?e.delegate.now():n()}))||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return n.C6(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(i._)},6834:(t,e,r)=>{"use strict";r.d(e,{I:()=>l,$:()=>u});var n=r(4064),i=1,s=function(){return Promise.resolve()}(),o={};function a(t){return t in o&&(delete o[t],!0)}var c=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.C6(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=(c=e.flush.bind(e,null),u=i++,o[u]=!0,s.then((function(){return a(u)&&c()})),u)));var c,u},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(a(r),e.scheduled=void 0)},e}(r(9006).R),u=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.C6(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(9916).q))(c),l=u},837:(t,e,r)=>{"use strict";r.d(e,{E:()=>i,b:()=>s});var n=r(9006),i=new(r(9916).q)(n.R),s=i},3769:(t,e,r)=>{"use strict";r.d(e,{g:()=>o,T:()=>s});var n=r(4064),i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return n.C6(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(r(9006).R),s=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.C6(e,t),e}(r(9916).q))(i),o=s},6848:(t,e,r)=>{"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.d(e,{lJ:()=>i});var i=n()},8763:(t,e,r)=>{"use strict";r.d(e,{s:()=>n});var n=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},9118:(t,e,r)=>{"use strict";r.d(e,{D:()=>n});var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},6445:(t,e,r)=>{"use strict";r.d(e,{k:()=>n});var n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},4643:(t,e,r)=>{"use strict";r.d(e,{G:()=>n});var n=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},6226:(t,e,r)=>{"use strict";r.d(e,{P:()=>n});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},7701:(t,e,r)=>{"use strict";r.d(e,{M:()=>n});var n=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},7256:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var n=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},3348:(t,e,r)=>{"use strict";r.d(e,{H:()=>i});var n=r(6129);function i(t){for(;t;){var e=t,r=e.closed,i=e.destination,s=e.isStopped;if(r||s)return!1;t=i&&i instanceof n.v?i:null}return!0}},3458:(t,e,r)=>{"use strict";function n(t){setTimeout((function(){throw t}),0)}r.d(e,{T:()=>n})},444:(t,e,r)=>{"use strict";function n(t){return t}r.d(e,{D:()=>n})},9325:(t,e,r)=>{"use strict";r.d(e,{c:()=>n});var n=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},9594:(t,e,r)=>{"use strict";r.d(e,{X:()=>n});var n=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},5838:(t,e,r)=>{"use strict";function n(t){return"function"==typeof t}r.d(e,{T:()=>n})},1907:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});var n=r(9325);function i(t){return!(0,n.c)(t)&&t-parseFloat(t)+1>=0}},4601:(t,e,r)=>{"use strict";function n(t){return null!==t&&"object"==typeof t}r.d(e,{G:()=>n})},769:(t,e,r)=>{"use strict";function n(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}r.d(e,{y:()=>n})},4921:(t,e,r)=>{"use strict";function n(t){return t&&"function"==typeof t.schedule}r.d(e,{m:()=>n})},1162:(t,e,r)=>{"use strict";function n(){}r.d(e,{l:()=>n})},4825:(t,e,r)=>{"use strict";function n(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}r.d(e,{A:()=>n})},5902:(t,e,r)=>{"use strict";r.d(e,{F:()=>i,m:()=>s});var n=r(444);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}function s(t){return 0===t.length?n.D:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},742:(t,e,r)=>{"use strict";r.d(e,{i:()=>l});var n=r(3328),i=r(3458),s=r(6848),o=r(8763),a=r(9594),c=r(769),u=r(4601),l=function(t){if(t&&"function"==typeof t[o.s])return l=t,function(t){var e=l[o.s]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.X)(t))return(0,n.v)(t);if((0,c.y)(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.T),t};if(t&&"function"==typeof t[s.lJ])return e=t,function(t){for(var r=e[s.lJ]();;){var n=void 0;try{n=r.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,l,h=(0,u.G)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+h+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},3328:(t,e,r)=>{"use strict";r.d(e,{v:()=>n});var n=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}},4089:(t,e,r)=>{"use strict";r.d(e,{F:()=>a});var n=r(4064),i=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return n.C6(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r(6129).v),s=r(742),o=r(8143);function a(t,e,r,n,a){if(void 0===a&&(a=new i(t,r,n)),!a.closed)return e instanceof o.c?e.subscribe(a):(0,s.i)(e)(a)}},6397:(t,e,r)=>{"use strict";r.r(e),r.d(e,{audit:()=>s,auditTime:()=>l,buffer:()=>h,bufferCount:()=>g,bufferTime:()=>v,bufferToggle:()=>T,bufferWhen:()=>P,catchError:()=>L,combineAll:()=>F,combineLatest:()=>H,concat:()=>V,concatAll:()=>$.K,concatMap:()=>G,concatMapTo:()=>Y,count:()=>Z,debounce:()=>X,debounceTime:()=>rt,defaultIfEmpty:()=>ot,delay:()=>ht,delayWhen:()=>mt,dematerialize:()=>_t,distinct:()=>St,distinctUntilChanged:()=>It,distinctUntilKeyChanged:()=>Tt,elementAt:()=>qt,endWith:()=>Wt,every:()=>Vt,exhaust:()=>Gt,exhaustMap:()=>Qt,expand:()=>ee,filter:()=>Rt.p,finalize:()=>ie,find:()=>ae,findIndex:()=>le,first:()=>de,flatMap:()=>K.qI,groupBy:()=>fe.$,ignoreElements:()=>pe,isEmpty:()=>ye,last:()=>Ae,map:()=>Jt.T,mapTo:()=>Se,materialize:()=>Ie,max:()=>Be,merge:()=>De,mergeAll:()=>Ue.U,mergeMap:()=>K.ZZ,mergeMapTo:()=>je,mergeScan:()=>Fe,min:()=>He,multicast:()=>Ve,observeOn:()=>Ke.QE,onErrorResumeNext:()=>Ge,pairwise:()=>Je,partition:()=>er,pluck:()=>rr,publish:()=>ir,publishBehavior:()=>or,publishLast:()=>cr,publishReplay:()=>lr,race:()=>dr,reduce:()=>Ne,refCount:()=>xr.B,repeat:()=>fr,repeatWhen:()=>mr,retry:()=>wr,retryWhen:()=>Er,sample:()=>kr,sampleTime:()=>Cr,scan:()=>Te,sequenceEqual:()=>Pr,share:()=>Ur,shareReplay:()=>jr,single:()=>Fr,skip:()=>Hr,skipLast:()=>$r,skipUntil:()=>Yr,skipWhile:()=>Qr,startWith:()=>en,subscribeOn:()=>on,switchAll:()=>hn,switchMap:()=>cn,switchMapTo:()=>dn,take:()=>jt,takeLast:()=>ve,takeUntil:()=>fn,takeWhile:()=>mn,tap:()=>_n,throttle:()=>xn,throttleTime:()=>Mn,throwIfEmpty:()=>Nt,timeInterval:()=>Pn,timeout:()=>Fn,timeoutWith:()=>Ln,timestamp:()=>zn,toArray:()=>Wn,window:()=>Vn,windowCount:()=>Gn,windowTime:()=>Jn,windowToggle:()=>ii,windowWhen:()=>ai,withLatestFrom:()=>li,zip:()=>pi,zipAll:()=>gi});var n=r(4064),i=r(487);function s(t){return function(e){return e.lift(new o(t))}}var o=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return n.C6(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var r=(0,i.tS)(e,new i.zA(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.gn),c=r(837),u=r(5312);function l(t,e){return void 0===e&&(e=c.b),s((function(){return(0,u.O)(t,e)}))}function h(t){return function(e){return e.lift(new d(t))}}var d=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.closingNotifier))},t}(),f=function(t){function e(e,r){var n=t.call(this,e)||this;return n.buffer=[],n.add((0,i.tS)(r,new i.zA(n))),n}return n.C6(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(i.gn),p=r(6129);function g(t,e){return void 0===e&&(e=null),function(r){return r.lift(new m(t,e))}}var m=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?b:y}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),y=function(t){function e(e,r){var n=t.call(this,e)||this;return n.bufferSize=r,n.buffer=[],n}return n.C6(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(p.v),b=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return n.C6(e,t),e.prototype._next=function(t){var e=this,r=e.bufferSize,n=e.startBufferEvery,i=e.buffers,s=e.count;this.count++,s%n==0&&i.push([]);for(var o=i.length;o--;){var a=i[o];a.push(t),a.length===r&&(i.splice(o,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var n=e.shift();n.length>0&&r.next(n)}t.prototype._complete.call(this)},e}(p.v),w=r(4921);function v(t){var e=arguments.length,r=c.b;(0,w.m)(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new _(t,n,i,r))}}var _=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new A(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),E=function(){return function(){this.buffer=[]}}(),A=function(t){function e(e,r,n,i,s){var o=t.call(this,e)||this;o.bufferTimeSpan=r,o.bufferCreationInterval=n,o.maxBufferSize=i,o.scheduler=s,o.contexts=[];var a=o.openContext();if(o.timespanOnly=null==n||n<0,o.timespanOnly){var c={subscriber:o,context:a,bufferTimeSpan:r};o.add(a.closeAction=s.schedule(S,r,c))}else{var u={subscriber:o,context:a},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:o,scheduler:s};o.add(a.closeAction=s.schedule(k,r,u)),o.add(s.schedule(x,n,l))}return o}return n.C6(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var s=r[i],o=s.buffer;o.push(t),o.length==this.maxBufferSize&&(e=s)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var n=e.shift();r.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(S,r,n))}},e.prototype.openContext=function(){var t=new E;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(p.v);function S(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function x(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext();n.closed||(n.add(s.closeAction=i.schedule(k,r,{subscriber:n,context:s})),this.schedule(t,e))}function k(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var I=r(4458),M=r(4089),C=r(8062);function T(t,e){return function(r){return r.lift(new O(t,e))}}var O=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.openings,this.closingSelector))},t}(),R=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.closingSelector=n,i.contexts=[],i.add((0,M.F)(i,r)),i}return n.C6(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new I.y,n={buffer:[],subscription:r};e.push(n);var i=(0,M.F)(this,t,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},e}(C.E);function P(t){return function(e){return e.lift(new N(t))}}var N=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new B(t,this.closingSelector))},t}(),B=function(t){function e(e,r){var n=t.call(this,e)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return n.C6(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new I.y,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add((0,i.tS)(e,new i.zA(this))),this.subscribing=!1},e}(i.gn);function L(t){return function(e){var r=new D(t),n=e.lift(r);return r.caught=n}}var D=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.selector,this.caught))},t}(),U=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.selector=r,i.caught=n,i}return n.C6(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new i.zA(this);this.add(n);var s=(0,i.tS)(r,n);s!==n&&this.add(s)}},e}(i.gn),j=r(6395);function F(t){return function(e){return e.lift(new j.ZS(t))}}var z=r(9325),q=r(8433);function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,z.c)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call((0,q.H)([e].concat(t)),new j.ZS(r))}}var W=r(1621);function V(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(W.x.apply(void 0,[e].concat(t)))}}var $=r(6770),K=r(6147);function G(t,e){return(0,K.ZZ)(t,e,1)}function Y(t,e){return G((function(){return t}),e)}function Z(t){return function(e){return e.lift(new J(t,e))}}var J=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.predicate,this.source))},t}(),Q=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return n.C6(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(p.v);function X(t){return function(e){return e.lift(new tt(t))}}var tt=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.durationSelector))},t}(),et=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return n.C6(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=(0,i.tS)(e,new i.zA(this)))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.gn);function rt(t,e){return void 0===e&&(e=c.b),function(r){return r.lift(new nt(t,e))}}var nt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.dueTime,this.scheduler))},t}(),it=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return n.C6(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(st,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(p.v);function st(t){t.debouncedNext()}function ot(t){return void 0===t&&(t=null),function(e){return e.lift(new at(t))}}var at=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.defaultValue))},t}(),ct=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return n.C6(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(p.v);function ut(t){return t instanceof Date&&!isNaN(+t)}var lt=r(5148);function ht(t,e){void 0===e&&(e=c.b);var r=ut(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new dt(r,e))}}var dt=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.delay,this.scheduler))},t}(),ft=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return n.C6(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var s=Math.max(0,r[0].time-n.now());this.schedule(t,s)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new pt(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(lt.E.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(lt.E.createComplete()),this.unsubscribe()},e}(p.v),pt=function(){return function(t,e){this.time=t,this.notification=e}}(),gt=r(8143);function mt(t,e){return e?function(r){return new wt(r,e).lift(new yt(t))}:function(e){return e.lift(new yt(t))}}var yt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new bt(t,this.delayDurationSelector))},t}(),bt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return n.C6(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var r=(0,M.F)(this,t,e);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(C.E),wt=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subscriptionDelay=r,n}return n.C6(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new vt(t,this.source))},e}(gt.c),vt=function(t){function e(e,r){var n=t.call(this)||this;return n.parent=e,n.source=r,n.sourceSubscribed=!1,n}return n.C6(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(p.v);function _t(){return function(t){return t.lift(new Et)}}var Et=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new At(t))},t}(),At=function(t){function e(e){return t.call(this,e)||this}return n.C6(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(p.v);function St(t,e){return function(r){return r.lift(new xt(t,e))}}var xt=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.keySelector,this.flushes))},t}(),kt=function(t){function e(e,r,n){var s=t.call(this,e)||this;return s.keySelector=r,s.values=new Set,n&&s.add((0,i.tS)(n,new i.zA(s))),s}return n.C6(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(i.gn);function It(t,e){return function(r){return r.lift(new Mt(t,e))}}var Mt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.compare,this.keySelector))},t}(),Ct=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return n.C6(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(t){return this.destination.error(t)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))},e}(p.v);function Tt(t,e){return It((function(r,n){return e?e(r[t],n[t]):r[t]===n[t]}))}var Ot=r(6445),Rt=r(2899),Pt=r(4643);function Nt(t){return void 0===t&&(t=Dt),function(e){return e.lift(new Bt(t))}}var Bt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Lt(t,this.errorFactory))},t}(),Lt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.errorFactory=r,n.hasValue=!1,n}return n.C6(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(p.v);function Dt(){return new Pt.G}var Ut=r(1548);function jt(t){return function(e){return 0===t?(0,Ut.I)():e.lift(new Ft(t))}}var Ft=function(){function t(t){if(this.total=t,this.total<0)throw new Ot.k}return t.prototype.call=function(t,e){return e.subscribe(new zt(t,this.total))},t}(),zt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return n.C6(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(p.v);function qt(t,e){if(t<0)throw new Ot.k;var r=arguments.length>=2;return function(n){return n.pipe((0,Rt.p)((function(e,r){return r===t})),jt(1),r?ot(e):Nt((function(){return new Ot.k})))}}var Ht=r(256);function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return(0,W.x)(e,Ht.of.apply(void 0,t))}}function Vt(t,e){return function(r){return r.lift(new $t(t,e,r))}}var $t=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg,this.source))},t}(),Kt=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.predicate=r,s.thisArg=n,s.source=i,s.index=0,s.thisArg=n||s,s}return n.C6(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(p.v);function Gt(){return function(t){return t.lift(new Yt)}}var Yt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Zt(t))},t}(),Zt=function(t){function e(e){var r=t.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return n.C6(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add((0,i.tS)(t,new i.zA(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.gn),Jt=r(9939);function Qt(t,e){return e?function(r){return r.pipe(Qt((function(r,n){return(0,q.H)(t(r,n)).pipe((0,Jt.T)((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new Xt(t))}}var Xt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.project))},t}(),te=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return n.C6(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new i.zA(this),r=this.destination;r.add(e);var n=(0,i.tS)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.gn);function ee(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new re(t,e,r))}}var re=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ne(t,this.project,this.concurrent,this.scheduler))},t}(),ne=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.project=r,s.concurrent=n,s.scheduler=i,s.index=0,s.active=0,s.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return n.C6(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(t);try{var i=(0,this.project)(t,n);if(this.scheduler){var s={subscriber:this,result:i,value:t,index:n};this.destination.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(i,t,n)}catch(t){r.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add((0,i.tS)(t,new i.zA(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.gn);function ie(t){return function(e){return e.lift(new se(t))}}var se=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new oe(t,this.callback))},t}(),oe=function(t){function e(e,r){var n=t.call(this,e)||this;return n.add(new I.y(r)),n}return n.C6(e,t),e}(p.v);function ae(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new ce(t,r,!1,e))}}var ce=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ue=function(t){function e(e,r,n,i,s){var o=t.call(this,e)||this;return o.predicate=r,o.source=n,o.yieldIndex=i,o.thisArg=s,o.index=0,o}return n.C6(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,n=this.index++;try{e.call(r||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(p.v);function le(t,e){return function(r){return r.lift(new ce(t,r,!0,e))}}var he=r(444);function de(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?(0,Rt.p)((function(e,r){return t(e,r,n)})):he.D,jt(1),r?ot(e):Nt((function(){return new Pt.G})))}}var fe=r(5851);function pe(){return function(t){return t.lift(new ge)}}var ge=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new me(t))},t}(),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.C6(e,t),e.prototype._next=function(t){},e}(p.v);function ye(){return function(t){return t.lift(new be)}}var be=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new we(t))},t}(),we=function(t){function e(e){return t.call(this,e)||this}return n.C6(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(p.v);function ve(t){return function(e){return 0===t?(0,Ut.I)():e.lift(new _e(t))}}var _e=function(){function t(t){if(this.total=t,this.total<0)throw new Ot.k}return t.prototype.call=function(t,e){return e.subscribe(new Ee(t,this.total))},t}(),Ee=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.ring=new Array,n.count=0,n}return n.C6(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var s=e++%r;t.next(n[s])}t.complete()},e}(p.v);function Ae(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?(0,Rt.p)((function(e,r){return t(e,r,n)})):he.D,ve(1),r?ot(e):Nt((function(){return new Pt.G})))}}function Se(t){return function(e){return e.lift(new xe(t))}}var xe=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new ke(t,this.value))},t}(),ke=function(t){function e(e,r){var n=t.call(this,e)||this;return n.value=r,n}return n.C6(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(p.v);function Ie(){return function(t){return t.lift(new Me)}}var Me=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ce(t))},t}(),Ce=function(t){function e(e){return t.call(this,e)||this}return n.C6(e,t),e.prototype._next=function(t){this.destination.next(lt.E.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(lt.E.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(lt.E.createComplete()),t.complete()},e}(p.v);function Te(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Oe(t,e,r))}}var Oe=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new Re(t,this.accumulator,this.seed,this.hasSeed))},t}(),Re=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=n,s.hasSeed=i,s.index=0,s}return n.C6(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(p.v),Pe=r(5902);function Ne(t,e){return arguments.length>=2?function(r){return(0,Pe.F)(Te(t,e),ve(1),ot(e))(r)}:function(e){return(0,Pe.F)(Te((function(e,r,n){return t(e,r,n+1)})),ve(1))(e)}}function Be(t){return Ne("function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e})}var Le=r(3421);function De(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Le.h.apply(void 0,[e].concat(t)))}}var Ue=r(5562);function je(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?(0,K.ZZ)((function(){return t}),e,r):("number"==typeof e&&(r=e),(0,K.ZZ)((function(){return t}),r))}function Fe(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new ze(t,e,r))}}var ze=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new qe(t,this.accumulator,this.seed,this.concurrent))},t}(),qe=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.accumulator=r,s.acc=n,s.concurrent=i,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return n.C6(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,t,e)}catch(t){return r.error(t)}this.active++,this._innerSub(n)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new i.zA(this),r=this.destination;r.add(e);var n=(0,i.tS)(t,e);n!==e&&r.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(i.gn);function He(t){return Ne("function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e})}var We=r(6082);function Ve(t,e){return function(r){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new $e(n,e));var i=Object.create(r,We.f);return i.source=r,i.subjectFactory=n,i}}var $e=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}(),Ke=r(7020);function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&(0,z.c)(t[0])&&(t=t[0]),function(e){return e.lift(new Ye(t))}}var Ye=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new Ze(t,this.nextSources))},t}(),Ze=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.nextSources=r,n}return n.C6(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new i.zA(this),r=this.destination;r.add(e);var n=(0,i.tS)(t,e);n!==e&&r.add(n)}else this.destination.complete()},e}(i.gn);function Je(){return function(t){return t.lift(new Qe)}}var Qe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Xe(t))},t}(),Xe=function(t){function e(e){var r=t.call(this,e)||this;return r.hasPrev=!1,r}return n.C6(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(p.v),tr=r(4825);function er(t,e){return function(r){return[(0,Rt.p)(t,e)(r),(0,Rt.p)((0,tr.A)(t,e))(r)]}}function rr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return(0,Jt.T)(function(t,e){return function(r){for(var n=r,i=0;i<e;i++){var s=null!=n?n[t[i]]:void 0;if(void 0===s)return;n=s}return n}}(t,r))(e)}}var nr=r(4767);function ir(t){return t?Ve((function(){return new nr.B7}),t):Ve(new nr.B7)}var sr=r(5865);function or(t){return function(e){return Ve(new sr.t(t))(e)}}var ar=r(4331);function cr(){return function(t){return Ve(new ar.h)(t)}}var ur=r(8614);function lr(t,e,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,s=new ur.m(t,e,n);return function(t){return Ve((function(){return s}),i)(t)}}var hr=r(9340);function dr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&(0,z.c)(t[0])&&(t=t[0]),e.lift.call(hr.O4.apply(void 0,[e].concat(t)))}}function fr(t){return void 0===t&&(t=-1),function(e){return 0===t?(0,Ut.I)():t<0?e.lift(new pr(-1,e)):e.lift(new pr(t-1,e))}}var pr=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new gr(t,this.count,this.source))},t}(),gr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return n.C6(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(p.v);function mr(t){return function(e){return e.lift(new yr(t))}}var yr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new br(t,this.notifier,e))},t}(),br=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return n.C6(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new nr.B7;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=(0,i.tS)(e,new i.zA(this))},e}(i.gn);function wr(t){return void 0===t&&(t=-1),function(e){return e.lift(new vr(t,e))}}var vr=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new _r(t,this.count,this.source))},t}(),_r=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return n.C6(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(p.v);function Er(t){return function(e){return e.lift(new Ar(t,e))}}var Ar=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Sr(t,this.notifier,this.source))},t}(),Sr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i}return n.C6(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,s=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{r=new nr.B7;try{n=(0,this.notifier)(r)}catch(e){return t.prototype.error.call(this,e)}s=(0,i.tS)(n,new i.zA(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=s,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(i.gn),xr=r(7949);function kr(t){return function(e){return e.lift(new Ir(t))}}var Ir=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new Mr(t),n=e.subscribe(r);return n.add((0,i.tS)(this.notifier,new i.zA(r))),n},t}(),Mr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return n.C6(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.gn);function Cr(t,e){return void 0===e&&(e=c.b),function(r){return r.lift(new Tr(t,e))}}var Tr=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Or(t,this.period,this.scheduler))},t}(),Or=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(Rr,r,{subscriber:i,period:r})),i}return n.C6(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(p.v);function Rr(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function Pr(t,e){return function(r){return r.lift(new Nr(t,e))}}var Nr=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new Br(t,this.compareTo,this.comparator))},t}(),Br=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.compareTo=r,i.comparator=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new Lr(e,i))),i}return n.C6(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,e=t._a,r=t._b,n=t.comparator;e.length>0&&r.length>0;){var i=e.shift(),s=r.shift(),o=!1;try{o=n?n(i,s):i===s}catch(t){this.destination.error(t)}o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(p.v),Lr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.parent=r,n}return n.C6(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(p.v);function Dr(){return new nr.B7}function Ur(){return function(t){return(0,xr.B)()(Ve(Dr)(t))}}function jr(t,e,r){var n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,n=t.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,s=t.windowTime,o=void 0===s?Number.POSITIVE_INFINITY:s,a=t.refCount,c=t.scheduler,u=0,l=!1,h=!1;return function(t){var n;u++,!e||l?(l=!1,e=new ur.m(i,o,c),n=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,r=void 0,e.complete()}}),h&&(r=void 0)):n=e.subscribe(this),this.add((function(){u--,n.unsubscribe(),n=void 0,r&&!h&&a&&0===u&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(n))}}function Fr(t){return function(e){return e.lift(new zr(t,e))}}var zr=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new qr(t,this.predicate,this.source))},t}(),qr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return n.C6(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Pt.G)},e}(p.v);function Hr(t){return function(e){return e.lift(new Wr(t))}}var Wr=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Vr(t,this.total))},t}(),Vr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return n.C6(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(p.v);function $r(t){return function(e){return e.lift(new Kr(t))}}var Kr=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Ot.k}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new p.v(t)):e.subscribe(new Gr(t,this._skipCount))},t}(),Gr=function(t){function e(e,r){var n=t.call(this,e)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return n.C6(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,s=i[n];i[n]=t,this.destination.next(s)}},e}(p.v);function Yr(t){return function(e){return e.lift(new Zr(t))}}var Zr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Jr(t,this.notifier))},t}(),Jr=function(t){function e(e,r){var n=t.call(this,e)||this;n.hasValue=!1;var s=new i.zA(n);n.add(s),n.innerSubscription=s;var o=(0,i.tS)(r,s);return o!==s&&(n.add(o),n.innerSubscription=o),n}return n.C6(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(i.gn);function Qr(t){return function(e){return e.lift(new Xr(t))}}var Xr=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new tn(t,this.predicate))},t}(),tn=function(t){function e(e,r){var n=t.call(this,e)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return n.C6(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(p.v);function en(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return(0,w.m)(r)?(t.pop(),function(e){return(0,W.x)(t,e,r)}):function(e){return(0,W.x)(t,e)}}var rn=r(6834),nn=r(1907),sn=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=rn.I);var i=t.call(this)||this;return i.source=e,i.delayTime=r,i.scheduler=n,(!(0,nn.k)(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=rn.I),i}return n.C6(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=rn.I),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source;return this.scheduler.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(gt.c);function on(t,e){return void 0===e&&(e=0),function(r){return r.lift(new an(t,e))}}var an=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new sn(e,this.delay,this.scheduler).subscribe(t)},t}();function cn(t,e){return"function"==typeof e?function(r){return r.pipe(cn((function(r,n){return(0,q.H)(t(r,n)).pipe((0,Jt.T)((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new un(t))}}var un=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ln(t,this.project))},t}(),ln=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return n.C6(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new i.zA(this),n=this.destination;n.add(r),this.innerSubscription=(0,i.tS)(t,r),this.innerSubscription!==r&&n.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(i.gn);function hn(){return cn(he.D)}function dn(t,e){return e?cn((function(){return t}),e):cn((function(){return t}))}function fn(t){return function(e){return e.lift(new pn(t))}}var pn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new gn(t),n=(0,i.tS)(this.notifier,new i.zA(r));return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r},t}(),gn=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return n.C6(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.gn);function mn(t,e){return void 0===e&&(e=!1),function(r){return r.lift(new yn(t,e))}}var yn=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new bn(t,this.predicate,this.inclusive))},t}(),bn=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return n.C6(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},e}(p.v),wn=r(1162),vn=r(5838);function _n(t,e,r){return function(n){return n.lift(new En(t,e,r))}}var En=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new An(t,this.nextOrObserver,this.error,this.complete))},t}(),An=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s._tapNext=wn.l,s._tapError=wn.l,s._tapComplete=wn.l,s._tapError=n||wn.l,s._tapComplete=i||wn.l,(0,vn.T)(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||wn.l,s._tapError=r.error||wn.l,s._tapComplete=r.complete||wn.l),s}return n.C6(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(p.v),Sn={leading:!0,trailing:!1};function xn(t,e){return void 0===e&&(e=Sn),function(r){return r.lift(new kn(t,!!e.leading,!!e.trailing))}}var kn=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new In(t,this.durationSelector,this.leading,this.trailing))},t}(),In=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.destination=e,s.durationSelector=r,s._leading=n,s._trailing=i,s._hasValue=!1,s}return n.C6(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=(0,i.tS)(e,new i.zA(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.gn);function Mn(t,e,r){return void 0===e&&(e=c.b),void 0===r&&(r=Sn),function(n){return n.lift(new Cn(t,e,r.leading,r.trailing))}}var Cn=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new Tn(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Tn=function(t){function e(e,r,n,i,s){var o=t.call(this,e)||this;return o.duration=r,o.scheduler=n,o.leading=i,o.trailing=s,o._hasTrailingValue=!1,o._trailingValue=null,o}return n.C6(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(On,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(p.v);function On(t){t.subscriber.clearThrottle()}var Rn=r(2309);function Pn(t){return void 0===t&&(t=c.b),function(e){return(0,Rn.v)((function(){return e.pipe(Te((function(e,r){var n=e.current;return{value:r,current:t.now(),last:n}}),{current:t.now(),value:void 0,last:void 0}),(0,Jt.T)((function(t){var e=t.current,r=t.last,n=t.value;return new Nn(n,e-r)})))}))}}var Nn=function(){return function(t,e){this.value=t,this.interval=e}}(),Bn=r(7701);function Ln(t,e,r){return void 0===r&&(r=c.b),function(n){var i=ut(t),s=i?+t-r.now():Math.abs(t);return n.lift(new Dn(s,i,e,r))}}var Dn=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new Un(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Un=function(t){function e(e,r,n,i,s){var o=t.call(this,e)||this;return o.absoluteTimeout=r,o.waitFor=n,o.withObservable=i,o.scheduler=s,o.scheduleTimeout(),o}return n.C6(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add((0,i.tS)(e,new i.zA(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(i.gn),jn=r(6683);function Fn(t,e){return void 0===e&&(e=c.b),Ln(t,(0,jn.$)(new Bn.M),e)}function zn(t){return void 0===t&&(t=c.b),(0,Jt.T)((function(e){return new qn(e,t.now())}))}var qn=function(){return function(t,e){this.value=t,this.timestamp=e}}();function Hn(t,e,r){return 0===r?[e]:(t.push(e),t)}function Wn(){return Ne(Hn,[])}function Vn(t){return function(e){return e.lift(new $n(t))}}var $n=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new Kn(t),n=e.subscribe(r);return n.closed||r.add((0,i.tS)(this.windowBoundaries,new i.zA(r))),n},t}(),Kn=function(t){function e(e){var r=t.call(this,e)||this;return r.window=new nr.B7,e.next(r.window),r}return n.C6(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new nr.B7;e.next(r)},e}(i.gn);function Gn(t,e){return void 0===e&&(e=0),function(r){return r.lift(new Yn(t,e))}}var Yn=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Zn(t,this.windowSize,this.startWindowEvery))},t}(),Zn=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=r,i.startWindowEvery=n,i.windows=[new nr.B7],i.count=0,e.next(i.windows[0]),i}return n.C6(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,s=i.length,o=0;o<s&&!this.closed;o++)i[o].next(t);var a=this.count-n+1;if(a>=0&&a%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new nr.B7;i.push(c),r.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(p.v);function Jn(t){var e=c.b,r=null,n=Number.POSITIVE_INFINITY;return(0,w.m)(arguments[3])&&(e=arguments[3]),(0,w.m)(arguments[2])?e=arguments[2]:(0,nn.k)(arguments[2])&&(n=Number(arguments[2])),(0,w.m)(arguments[1])?e=arguments[1]:(0,nn.k)(arguments[1])&&(r=Number(arguments[1])),function(i){return i.lift(new Qn(t,r,n,e))}}var Qn=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new ti(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return n.C6(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(nr.B7),ti=function(t){function e(e,r,n,i,s){var o=t.call(this,e)||this;o.destination=e,o.windowTimeSpan=r,o.windowCreationInterval=n,o.maxWindowSize=i,o.scheduler=s,o.windows=[];var a=o.openWindow();if(null!==n&&n>=0){var c={subscriber:o,window:a,context:null},u={windowTimeSpan:r,windowCreationInterval:n,subscriber:o,scheduler:s};o.add(s.schedule(ni,r,c)),o.add(s.schedule(ri,n,u))}else{var l={subscriber:o,window:a,windowTimeSpan:r};o.add(s.schedule(ei,r,l))}return o}return n.C6(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Xn;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(p.v);function ei(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function ri(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(ni,e,c),o.add(a.subscription),o.schedule(t,i)}function ni(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function ii(t,e){return function(r){return r.lift(new si(t,e))}}var si=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new oi(t,this.openings,this.closingSelector))},t}(),oi=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=(0,M.F)(i,r,r)),i}return n.C6(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.error(e),s.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var s=void 0;try{s=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var o=new nr.B7,a=new I.y,c={window:o,subscription:a};this.contexts.push(c);var u=(0,M.F)(this,s,c);u.closed?this.closeWindow(this.contexts.length-1):(u.context=c,a.add(u)),this.destination.next(o)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(C.E);function ai(t){return function(e){return e.lift(new ci(t))}}var ci=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ui(t,this.closingSelector))},t}(),ui=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.closingSelector=r,n.openWindow(),n}return n.C6(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r,n=this.window=new nr.B7;this.destination.next(n);try{r=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=(0,M.F)(this,r))},e}(C.E);function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new hi(n,r))}}var hi=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new di(t,this.observables,this.project))},t}(),di=function(t){function e(e,r,n){var i=t.call(this,e)||this;i.observables=r,i.project=n,i.toRespond=[];var s=r.length;i.values=new Array(s);for(var o=0;o<s;o++)i.toRespond.push(o);for(o=0;o<s;o++){var a=r[o];i.add((0,M.F)(i,a,void 0,o))}return i}return n.C6(e,t),e.prototype.notifyNext=function(t,e,r){this.values[r]=e;var n=this.toRespond;if(n.length>0){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(C.E),fi=r(6066);function pi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(fi.yU.apply(void 0,[e].concat(t)))}}function gi(t){return function(e){return e.lift(new fi.ee(t))}}},4064:(t,e,r)=>{"use strict";r.d(e,{C6:()=>i});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}},1658:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const i=r(2828),s=r(591),o=n(r(9404));var a=r(2828);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return a.struct}});class c extends i.Layout{constructor(t,e,r){super(t,r),this.blob=(0,i.blob)(t),this.signed=e}decode(t,e=0){const r=new o.default(this.blob.decode(t,e),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(t,e,r=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),e,r)}}function u(t){return new c(8,!1,t)}e.u64=u,e.i64=function(t){return new c(8,!0,t)},e.u128=function(t){return new c(16,!1,t)},e.i128=function(t){return new c(16,!0,t)},e.u256=function(t){return new c(32,!1,t)},e.i256=function(t){return new c(32,!0,t)};class l extends i.Layout{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new l((0,i.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends i.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,i.u8)()}encode(t,e,r=0){return null==t?this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+1)+1)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return 1;if(1===r)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function d(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function f(t){return t?1:0}function p(t){const e=(0,i.u32)("length"),r=(0,i.struct)([e,(0,i.blob)((0,i.offset)(e,-e.span),"data")]);return new l(r,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new l((0,i.u8)(),d,f,t)},e.vec=function(t,e){const r=(0,i.u32)("length"),n=(0,i.struct)([r,(0,i.seq)(t,(0,i.offset)(r,-r.span),"values")]);return new l(n,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,r){const n=(0,i.struct)([u("tag"),e.replicate("data")]);return new l(n,(function({tag:e,data:r}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return r}),(e=>({tag:t,data:e})),r)},e.vecU8=p,e.str=function(t){return new l(p(),(t=>t.toString("utf-8")),(t=>Buffer.from(t,"utf-8")),t)},e.rustEnum=function(t,e,r){const n=(0,i.union)(null!=r?r:(0,i.u8)(),e);return t.forEach(((t,e)=>n.addVariant(e,t,t.property))),n},e.array=function(t,e,r){const n=(0,i.struct)([(0,i.seq)(t,e,"values")]);return new l(n,(({values:t})=>t),(t=>({values:t})),r)};class g extends i.Layout{constructor(t,e,r){super(t.span+e.span,r),this.keyLayout=t,this.valueLayout=e}decode(t,e){return e=e||0,[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,r){r=r||0;const n=this.keyLayout.encode(t[0],e,r);return n+this.valueLayout.encode(t[1],e,r+n)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,r){const n=(0,i.u32)("length"),s=(0,i.struct)([n,(0,i.seq)(new g(t,e),(0,i.offset)(n,-n.span),"values")]);return new l(s,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),r)}},2673:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(255!==e[s])throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var s=(t.length-r)*c+1>>>0,u=new Uint8Array(s);t[r];){var l=e[t.charCodeAt(r)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=o*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,r++}for(var f=s-i;f!==s&&0===u[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=u[f++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var c=(s-i)*u+1>>>0,l=new Uint8Array(c);i!==s;){for(var h=e[i],d=0,f=c-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var g=a.repeat(r);p<c;++p)g+=t.charAt(l[p]);return g},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+o+" character")}}}},3686:(t,e,r)=>{const n=r(2673);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1975:t=>{"use strict";t.exports=function({mustBeMetaMask:t=!1,silent:e=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function s(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",s);const{ethereum:r}=window;if(!r||t&&!r.isMetaMask){const n=t&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!e&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?s():(window.addEventListener("ethereum#initialized",s,{once:!0}),setTimeout((()=>{s()}),r))}))}},516:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7007);function i(t,e,r){try{Reflect.apply(t,e,r)}catch(t){setTimeout((()=>{throw t}))}}class s extends n.EventEmitter{emit(t,...e){let r="error"===t;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let t;if(e.length>0&&([t]=e),t instanceof Error)throw t;const r=new Error("Unhandled error."+(t?` (${t.message})`:""));throw r.context=t,r}const s=n[t];if(void 0===s)return!1;if("function"==typeof s)i(s,this,e);else{const t=s.length,r=function(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}(s);for(let n=0;n<t;n+=1)i(r[n],this,e)}return!0}}e.default=s},591:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Account:()=>wr,AddressLookupTableAccount:()=>Rn,AddressLookupTableInstruction:()=>Cs,AddressLookupTableProgram:()=>Ts,Authorized:()=>zs,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Un,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>vr,BPF_LOADER_PROGRAM_ID:()=>_n,BpfLoader:()=>En,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Rs,ComputeBudgetInstruction:()=>Os,ComputeBudgetProgram:()=>Ps,Connection:()=>ks,Ed25519Program:()=>Bs,Enum:()=>dr,EpochSchedule:()=>Cn,FeeCalculatorLayout:()=>hn,Keypair:()=>Is,LAMPORTS_PER_SOL:()=>lo,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>Ms,Loader:()=>vn,Lockup:()=>qs,MAX_SEED_LENGTH:()=>gr,Message:()=>jr,MessageAccountKeys:()=>Ir,MessageV0:()=>Fr,NONCE_ACCOUNT_LENGTH:()=>fn,NonceAccount:()=>pn,PACKET_DATA_SIZE:()=>_r,PUBLIC_KEY_LENGTH:()=>mr,PublicKey:()=>br,SIGNATURE_LENGTH_IN_BYTES:()=>Ar,SOLANA_SCHEMA:()=>fr,STAKE_CONFIG_ID:()=>Fs,STAKE_INSTRUCTION_LAYOUTS:()=>Ws,SYSTEM_INSTRUCTION_LAYOUTS:()=>yn,SYSVAR_CLOCK_PUBKEY:()=>Gr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Yr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Zr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Jr,SYSVAR_RENT_PUBKEY:()=>Qr,SYSVAR_REWARDS_PUBKEY:()=>Xr,SYSVAR_SLOT_HASHES_PUBKEY:()=>tn,SYSVAR_SLOT_HISTORY_PUBKEY:()=>en,SYSVAR_STAKE_HISTORY_PUBKEY:()=>rn,Secp256k1Program:()=>Us,SendTransactionError:()=>nn,SolanaJSONRPCError:()=>on,SolanaJSONRPCErrorCode:()=>sn,StakeAuthorizationLayout:()=>Vs,StakeInstruction:()=>Hs,StakeProgram:()=>$s,Struct:()=>hr,SystemInstruction:()=>mn,SystemProgram:()=>bn,Transaction:()=>Vr,TransactionExpiredBlockheightExceededError:()=>Sr,TransactionExpiredNonceInvalidError:()=>kr,TransactionExpiredTimeoutError:()=>xr,TransactionInstruction:()=>Wr,TransactionMessage:()=>$r,TransactionStatus:()=>qr,VALIDATOR_INFO_KEY:()=>Qs,VERSION_PREFIX_MASK:()=>Er,VOTE_PROGRAM_ID:()=>eo,ValidatorInfo:()=>to,VersionedMessage:()=>zr,VersionedTransaction:()=>Kr,VoteAccount:()=>no,VoteAuthorizationLayout:()=>Zs,VoteInit:()=>Ks,VoteInstruction:()=>Gs,VoteProgram:()=>Js,clusterApiUrl:()=>co,sendAndConfirmRawTransaction:()=>uo,sendAndConfirmTransaction:()=>an});var n={};r.r(n),r.d(n,{aK:()=>H,e8:()=>I,DO:()=>k,dJ:()=>W,OG:()=>V,My:()=>C,Ph:()=>B,lX:()=>L,Id:()=>F,fg:()=>G,qj:()=>j,aT:()=>N,r4:()=>q,aY:()=>x,x:()=>J,lq:()=>D,z:()=>U,zW:()=>T,Q5:()=>Z});var i=r(8287),s=r(6013);const o=BigInt(2**32-1),a=BigInt(32);function c(t,e=!1){return e?{h:Number(t&o),l:Number(t>>a&o)}:{h:0|Number(t>>a&o),l:0|Number(t&o)}}function u(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=c(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const l=(t,e,r)=>t<<r|e>>>32-r,h=(t,e,r)=>e<<r|t>>>32-r,d=(t,e,r)=>e<<r-32|t>>>64-r,f=(t,e,r)=>t<<r-32|e>>>64-r,p={fromBig:c,split:u,toBig:(t,e)=>BigInt(t>>>0)<<a|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:l,rotlSL:h,rotlBH:d,rotlBL:f,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};var g=r(2531);const[m,y]=(()=>p.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),b=new Uint32Array(80),w=new Uint32Array(80);class v extends s.ol{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[t,e,r,n,i,s,o,a,c,u,l,h,d,f,p,g]}set(t,e,r,n,i,s,o,a,c,u,l,h,d,f,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)b[r]=t.getUint32(e),w[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|b[t-15],r=0|w[t-15],n=p.rotrSH(e,r,1)^p.rotrSH(e,r,8)^p.shrSH(e,r,7),i=p.rotrSL(e,r,1)^p.rotrSL(e,r,8)^p.shrSL(e,r,7),s=0|b[t-2],o=0|w[t-2],a=p.rotrSH(s,o,19)^p.rotrBH(s,o,61)^p.shrSH(s,o,6),c=p.rotrSL(s,o,19)^p.rotrBL(s,o,61)^p.shrSL(s,o,6),u=p.add4L(i,c,w[t-7],w[t-16]),l=p.add4H(u,n,a,b[t-7],b[t-16]);b[t]=0|l,w[t]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:h,Fh:d,Fl:f,Gh:g,Gl:v,Hh:_,Hl:E}=this;for(let t=0;t<80;t++){const e=p.rotrSH(l,h,14)^p.rotrSH(l,h,18)^p.rotrBH(l,h,41),A=p.rotrSL(l,h,14)^p.rotrSL(l,h,18)^p.rotrBL(l,h,41),S=l&d^~l&g,x=h&f^~h&v,k=p.add5L(E,A,x,y[t],w[t]),I=p.add5H(k,_,e,S,m[t],b[t]),M=0|k,C=p.rotrSH(r,n,28)^p.rotrBH(r,n,34)^p.rotrBH(r,n,39),T=p.rotrSL(r,n,28)^p.rotrBL(r,n,34)^p.rotrBL(r,n,39),O=r&i^r&o^i&o,R=n&s^n&a^s&a;_=0|g,E=0|v,g=0|d,v=0|f,d=0|l,f=0|h,({h:l,l:h}=p.add(0|c,0|u,0|I,0|M)),c=0|o,u=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const P=p.add3L(M,T,R);r=p.add3H(P,I,C,O),n=0|P}({h:r,l:n}=p.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=p.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=p.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=p.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=p.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=p.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:g,l:v}=p.add(0|this.Gh,0|this.Gl,0|g,0|v)),({h:_,l:E}=p.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(r,n,i,s,o,a,c,u,l,h,d,f,g,v,_,E)}roundClean(){b.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const _=(0,g.ld)((()=>new v)),E=BigInt(0),A=BigInt(1),S=BigInt(2);function x(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}function k(t){if(!x(t))throw new Error("Uint8Array expected")}function I(t,e){if("boolean"!=typeof e)throw new Error(`${t} must be valid boolean, got "${e}".`)}const M=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function C(t){k(t);let e="";for(let r=0;r<t.length;r++)e+=M[t[r]];return e}function T(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function O(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}const R={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function P(t){return t>=R._0&&t<=R._9?t-R._0:t>=R._A&&t<=R._F?t-(R._A-10):t>=R._a&&t<=R._f?t-(R._a-10):void 0}function N(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){const r=P(t.charCodeAt(i)),s=P(t.charCodeAt(i+1));if(void 0===r||void 0===s){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}n[e]=16*r+s}return n}function B(t){return O(C(t))}function L(t){return k(t),O(C(Uint8Array.from(t).reverse()))}function D(t,e){return N(t.toString(16).padStart(2*e,"0"))}function U(t,e){return D(t,e).reverse()}function j(t,e,r){let n;if("string"==typeof e)try{n=N(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!x(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function F(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];k(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}const z=t=>"bigint"==typeof t&&E<=t;function q(t,e,r){return z(t)&&z(e)&&z(r)&&e<=t&&t<r}function H(t,e,r,n){if(!q(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function W(t){let e;for(e=0;t>E;t>>=A,e+=1);return e}const V=t=>(S<<BigInt(t-1))-A,$=t=>new Uint8Array(t),K=t=>Uint8Array.from(t);function G(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=$(t),i=$(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),c=(t=$())=>{i=a(K([0]),t),n=a(),0!==t.length&&(i=a(K([1]),t),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return F(...r)};return(t,e)=>{let r;for(o(),c(t);!(r=e(u()));)c();return o(),r}}const Y={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||x(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function Z(t,e,r={}){const n=(e,r,n)=>{const i=Y[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=t[e];if(!(n&&void 0===s||i(s,t)))throw new Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}function J(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(void 0!==i)return i;const s=t(r,...n);return e.set(r,s),s}}const Q=BigInt(0),X=BigInt(1),tt=BigInt(2),et=BigInt(3),rt=BigInt(4),nt=BigInt(5),it=BigInt(8);function st(t,e){const r=t%e;return r>=Q?r:e+r}function ot(t,e,r){if(r<=Q||e<Q)throw new Error("Expected power/modulo > 0");if(r===X)return Q;let n=X;for(;e>Q;)e&X&&(n=n*t%r),t=t*t%r,e>>=X;return n}function at(t,e,r){let n=t;for(;e-- >Q;)n*=n,n%=r;return n}function ct(t,e){if(t===Q||e<=Q)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=st(t,e),n=e,i=Q,s=X,o=X,a=Q;for(;r!==Q;){const t=n/r,e=n%r,c=i-o*t,u=s-a*t;n=r,r=e,i=o,s=a,o=c,a=u}if(n!==X)throw new Error("invert: does not exist");return st(i,e)}BigInt(9),BigInt(16);const ut=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lt(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ht(t,e,r=!1,n={}){if(t<=Q)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=lt(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=function(t){if(t%rt===et){const e=(t+X)/rt;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%it===nt){const e=(t-nt)/it;return function(t,r){const n=t.mul(r,tt),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,tt),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-X)/tt;let r,n,i;for(r=t-X,n=0;r%tt===Q;r/=tt,n++);for(i=tt;i<t&&ot(i,e,t)!==t-X;i++);if(1===n){const e=(t+X)/rt;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+X)/tt;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,c=t.pow(t.mul(t.ONE,i),r),u=t.pow(o,s),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(l);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(c,X<<BigInt(a-e-1));c=t.sqr(r),u=t.mul(u,r),l=t.mul(l,c),a=e}return u}}(t)}(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:V(i),ZERO:Q,ONE:X,create:e=>st(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return Q<=e&&e<t},is0:t=>t===Q,isOdd:t=>(t&X)===X,neg:e=>st(-e,t),eql:(t,e)=>t===e,sqr:e=>st(e*e,t),add:(e,r)=>st(e+r,t),sub:(e,r)=>st(e-r,t),mul:(e,r)=>st(e*r,t),pow:(t,e)=>function(t,e,r){if(r<Q)throw new Error("Expected power > 0");if(r===Q)return t.ONE;if(r===X)return e;let n=t.ONE,i=e;for(;r>Q;)r&X&&(n=t.mul(n,i)),i=t.sqr(i),r>>=X;return n}(a,t,e),div:(e,r)=>st(e*ct(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>ct(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?U(t,s):D(t,s),fromBytes:t=>{if(t.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?L(t):B(t)}});return Object.freeze(a)}function dt(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ft(t){const e=dt(t);return e+Math.ceil(e/2)}const pt=BigInt(0),gt=BigInt(1),mt=new WeakMap,yt=new WeakMap;function bt(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>{if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(`Wrong window size=${t}, should be [1..${e}]`)},i=t=>(n(t),{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>pt;)r&gt&&(n=n.add(i)),i=i.double(),r>>=gt;return n},precomputeWindow(t,e){const{windows:r,windowSize:n}=i(e),s=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<n;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,n,s){const{windows:o,windowSize:a}=i(e);let c=t.ZERO,u=t.BASE;const l=BigInt(2**e-1),h=2**e,d=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let i=Number(s&l);s>>=d,i>a&&(i-=h,s+=gt);const o=e,f=e+Math.abs(i)-1,p=t%2!=0,g=i<0;0===i?u=u.add(r(p,n[o])):c=c.add(r(g,n[f]))}return{p:c,f:u}},wNAFCached(t,e,r){const n=yt.get(t)||1;let i=mt.get(t);return i||(i=this.precomputeWindow(t,n),1!==n&&mt.set(t,r(i))),this.wNAF(n,i,e)},setWindowSize(t,e){n(e),yt.set(t,e),mt.delete(t)}}}function wt(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach(((t,r)=>{if(!e.isValid(t))throw new Error(`wrong scalar at index ${r}`)})),r.forEach(((e,r)=>{if(!(e instanceof t))throw new Error(`wrong point at index ${r}`)}));const i=W(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,o=(1<<s)-1,a=new Array(o+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/s)*s;let u=t.ZERO;for(let e=c;e>=0;e-=s){a.fill(t.ZERO);for(let t=0;t<n.length;t++){const i=n[t],s=Number(i>>BigInt(e)&BigInt(o));a[s]=a[s].add(r[t])}let i=t.ZERO;for(let e=a.length-1,r=t.ZERO;e>0;e--)r=r.add(a[e]),i=i.add(r);if(u=u.add(i),0!==e)for(let t=0;t<s;t++)u=u.double()}return u}function vt(t){return Z(t.Fp,ut.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Z(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lt(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const _t=BigInt(0),Et=BigInt(1),At=BigInt(2),St=BigInt(8),xt={zip215:!0};const kt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),It=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Mt=(BigInt(0),BigInt(1)),Ct=BigInt(2),Tt=(BigInt(3),BigInt(5)),Ot=BigInt(8);function Rt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Pt(t,e){const r=kt,n=st(e*e*e,r),i=st(n*n*e,r);let s=st(t*n*function(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=kt,o=t*t%s*t%s,a=at(o,Ct,s)*o%s,c=at(a,Mt,s)*t%s,u=at(c,Tt,s)*c%s,l=at(u,e,s)*u%s,h=at(l,r,s)*l%s,d=at(h,n,s)*h%s,f=at(d,i,s)*d%s,p=at(f,i,s)*d%s,g=at(p,e,s)*u%s;return{pow_p_5_8:at(g,Ct,s)*t%s,b2:o}}(t*i).pow_p_5_8,r);const o=st(e*s*s,r),a=s,c=st(s*It,r),u=o===t,l=o===st(-t,r),h=o===st(-t*It,r);return u&&(s=a),(l||h)&&(s=c),(st(s,r)&X)===X&&(s=st(-s,r)),{isValid:u||l,value:s}}const Nt=(()=>ht(kt,void 0,!0))(),Bt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Nt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ot,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:_,randomBytes:g.po,adjustScalarBytes:Rt,uvRatio:Pt}))(),Lt=(()=>function(t){const e=function(t){const e=vt(t);return Z(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=At<<BigInt(8*a)-Et,l=r.create,h=ht(e.n,e.nBitLength),d=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(t){return{isValid:!1,value:_t}}}),f=e.adjustScalarBytes||(t=>t),p=e.domain||((t,e,r)=>{if(I("phflag",r),e.length||r)throw new Error("Contexts/pre-hash are not supported");return t});function g(t,e){H("coordinate "+t,e,_t,u)}function m(t){if(!(t instanceof w))throw new Error("ExtendedPoint expected")}const y=J(((t,e)=>{const{ex:n,ey:i,ez:s}=t,o=t.is0();null==e&&(e=o?St:r.inv(s));const a=l(n*e),c=l(i*e),u=l(s*e);if(o)return{x:_t,y:Et};if(u!==Et)throw new Error("invZ was invalid");return{x:a,y:c}})),b=J((t=>{const{a:r,d:n}=e;if(t.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=t,c=l(i*i),u=l(s*s),h=l(o*o),d=l(h*h),f=l(c*r);if(l(h*l(f+u))!==l(d+l(n*l(c*u))))throw new Error("bad point: equation left != right (1)");if(l(i*s)!==l(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class w{constructor(t,e,r,n){this.ex=t,this.ey=e,this.ez=r,this.et=n,g("x",t),g("y",e),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof w)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};return g("x",e),g("y",r),new w(e,r,Et,l(e*r))}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(w.fromAffine)}static msm(t,e){return wt(w,h,t,e)}_setWindowSize(t){E.setWindowSize(this,t)}assertValidity(){b(this)}equals(t){m(t);const{ex:e,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=t,a=l(e*o),c=l(i*n),u=l(r*o),h=l(s*n);return a===c&&u===h}is0(){return this.equals(w.ZERO)}negate(){return new w(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:t}=e,{ex:r,ey:n,ez:i}=this,s=l(r*r),o=l(n*n),a=l(At*l(i*i)),c=l(t*s),u=r+n,h=l(l(u*u)-s-o),d=c+o,f=d-a,p=c-o,g=l(h*f),m=l(d*p),y=l(h*p),b=l(f*d);return new w(g,m,b,y)}add(t){m(t);const{a:r,d:n}=e,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:u,ez:h,et:d}=t;if(r===BigInt(-1)){const t=l((s-i)*(u+c)),e=l((s+i)*(u-c)),r=l(e-t);if(r===_t)return this.double();const n=l(o*At*d),f=l(a*At*h),p=f+n,g=e+t,m=f-n,y=l(p*r),b=l(g*m),v=l(p*m),_=l(r*g);return new w(y,b,_,v)}const f=l(i*c),p=l(s*u),g=l(a*n*d),y=l(o*h),b=l((i+s)*(c+u)-f-p),v=y-g,_=y+g,E=l(p-r*f),A=l(b*v),S=l(_*E),x=l(b*E),k=l(v*_);return new w(A,S,k,x)}subtract(t){return this.add(t.negate())}wNAF(t){return E.wNAFCached(this,t,w.normalizeZ)}multiply(t){const e=t;H("scalar",e,Et,n);const{p:r,f:i}=this.wNAF(e);return w.normalizeZ([r,i])[0]}multiplyUnsafe(t){const e=t;return H("scalar",e,_t,n),e===_t?_:this.equals(_)||e===Et?this:this.equals(v)?this.wNAF(e).p:E.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,n).is0()}toAffine(t){return y(this,t)}clearCofactor(){const{h:t}=e;return t===Et?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){const{d:i,a:s}=e,o=r.BYTES;t=j("pointHex",t,o),I("zip215",n);const a=t.slice(),c=t[o-1];a[o-1]=-129&c;const h=L(a),f=n?u:r.ORDER;H("pointHex.y",h,_t,f);const p=l(h*h),g=l(p-Et),m=l(i*p-s);let{isValid:y,value:b}=d(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(b&Et)===Et,_=!!(128&c);if(!n&&b===_t&&_)throw new Error("Point.fromHex: x=0 and x_0=1");return _!==v&&(b=l(-b)),w.fromAffine({x:b,y:h})}static fromPrivateKey(t){return x(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),n=U(e,r.BYTES);return n[n.length-1]|=t&Et?128:0,n}toHex(){return C(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,Et,l(e.Gx*e.Gy)),w.ZERO=new w(_t,Et,Et,_t);const{BASE:v,ZERO:_}=w,E=bt(w,8*a);function A(t){return st(t,n)}function S(t){return A(L(t))}function x(t){const e=a;t=j("private key",t,e);const r=j("hashed private key",s(t),2*e),n=f(r.slice(0,e)),i=r.slice(e,2*e),o=S(n),c=v.multiply(o),u=c.toRawBytes();return{head:n,prefix:i,scalar:o,point:c,pointBytes:u}}function k(t=new Uint8Array,...e){const r=F(...e);return S(s(p(r,j("context",t),!!i)))}const M=xt;return v._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return x(t).pointBytes},sign:function(t,e,s={}){t=j("message",t),i&&(t=i(t));const{prefix:o,scalar:c,pointBytes:u}=x(e),l=k(s.context,o,t),h=v.multiply(l).toRawBytes(),d=A(l+k(s.context,h,u,t)*c);return H("signature.s",d,_t,n),j("result",F(h,U(d,r.BYTES)),2*a)},verify:function(t,e,n,s=M){const{context:o,zip215:a}=s,c=r.BYTES;t=j("signature",t,2*c),e=j("message",e),void 0!==a&&I("zip215",a),i&&(e=i(e));const u=L(t.slice(c,2*c));let l,h,d;try{l=w.fromHex(n,a),h=w.fromHex(t.slice(0,c),a),d=v.multiplyUnsafe(u)}catch(t){return!1}if(!a&&l.isSmallOrder())return!1;const f=k(o,h.toRawBytes(),l.toRawBytes(),e);return h.add(l.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>o(r.BYTES),precompute:(t=8,e=w.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}(Bt))();var Dt=r(9404),Ut=r.n(Dt),jt=r(6763),Ft=r.n(jt),zt=r(8226),qt=r(2755),Ht=r(2900),Wt=r(184);class Vt extends TypeError{constructor(t,e){let r;const{message:n,explanation:i,...s}=t,{path:o}=t,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function $t(t){return"object"==typeof t&&null!=t}function Kt(t){return $t(t)&&!Array.isArray(t)}function Gt(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function Yt(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Gt(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Zt(t,e,r,n){var i;$t(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=Yt(i,e,r,n);t&&(yield t)}}function*Jt(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const n of e.validator(t,a))n.explanation=r.message,c="not_valid",yield[n,void 0];for(let[u,l,h]of e.entries(t,a)){const e=Jt(l,h,{path:void 0===u?n:[...n,u],branch:void 0===u?i:[...i,l],coerce:s,mask:o,message:r.message});for(const r of e)r[0]?(c=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(l=r[1],void 0===u?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):$t(t)&&(void 0!==l||u in t)&&(t[u]=l))}if("not_valid"!==c)for(const n of e.refiner(t,a))n.explanation=r.message,c="not_refined",yield[n,void 0];"valid"===c&&(yield[void 0,t])}class Qt{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(t,e)=>Zt(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Zt(i(t,e),e,this,t):()=>[]}assert(t,e){return Xt(t,this,e)}create(t,e){return te(t,this,e)}is(t){return ee(t,this)}mask(t,e){return function(t,e,r){const n=re(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(t,this,e)}validate(t,e={}){return re(t,this,e)}}function Xt(t,e,r){const n=re(t,e,{message:r});if(n[0])throw n[0]}function te(t,e,r){const n=re(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function ee(t,e){return!re(t,e)[0]}function re(t,e,r={}){const n=Jt(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);return i[0]?[new Vt(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function ne(t,e){return new Qt({type:t,schema:null,validator:e})}function ie(t){return new Qt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${Gt(t)}`})}function se(){return ne("boolean",(t=>"boolean"==typeof t))}function oe(t){return ne("instance",(e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Gt(e)}`))}function ae(t){const e=Gt(t),r=typeof t;return new Qt({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${Gt(r)}`})}function ce(t){return new Qt({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function ue(){return ne("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${Gt(t)}`))}function le(t){return new Qt({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function he(t,e){return new Qt({type:"record",schema:null,*entries(r){if($t(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>Kt(t)||`Expected an object, but received: ${Gt(t)}`,coercer:t=>Kt(t)?{...t}:t})}function de(){return ne("string",(t=>"string"==typeof t||`Expected a string, but received: ${Gt(t)}`))}function fe(t){const e=ne("never",(()=>!1));return new Qt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${Gt(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function pe(t){const e=Object.keys(t);return new Qt({type:"type",schema:t,*entries(r){if($t(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>Kt(t)||`Expected an object, but received: ${Gt(t)}`,coercer:t=>Kt(t)?{...t}:t})}function ge(t){const e=t.map((t=>t.type)).join(" | ");return new Qt({type:"union",schema:null,coercer(e,r){for(const n of t){const[t,i]=n.validate(e,{coerce:!0,mask:r.mask});if(!t)return i}return e},validator(r,n){const i=[];for(const e of t){const[...t]=Jt(r,e,n),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Gt(r)}`,...i]}})}function me(){return ne("unknown",(()=>!0))}function ye(t,e,r){return new Qt({...t,coercer:(n,i)=>ee(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var be=r(22),we=r.n(be),ve=r(3678),_e=class extends ve{socket;constructor(t,e,r){super(),this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,r){const n=r||e;try{this.socket.send(t),n()}catch(t){n(t)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};var Ee=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Ae=class extends ve{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,c){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.dataPack=c||new Ee,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise(((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,(t=>{if(t)return s(t);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout((()=>{delete this.queue[o],s(new Error("reply timeout"))}),r))}))}))}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise(((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),(t=>{if(t)return n(t);r()}))}))}async subscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:t})=>{t instanceof ArrayBuffer&&(t=i.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(t){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let r=0;r<t.params.length;r++)e.push(t.params[r]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{this.emit(t.method,t?.params)})):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(t=>this.emit("error",t))),this.socket.addEventListener("close",(({code:r,reason:n})=>{this.ready&&setTimeout((()=>this.emit("close",r,n)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(t,e)),this.reconnect_interval)))}))}},Se=r(9190);const xe=[],ke=[],Ie=[],Me=BigInt(0),Ce=BigInt(1),Te=BigInt(2),Oe=BigInt(7),Re=BigInt(256),Pe=BigInt(113);for(let t=0,e=Ce,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],xe.push(2*(5*n+r)),ke.push((t+1)*(t+2)/2%64);let i=Me;for(let t=0;t<7;t++)e=(e<<Ce^(e>>Oe)*Pe)%Re,e&Te&&(i^=Ce<<(Ce<<BigInt(t))-Ce);Ie.push(i)}const[Ne,Be]=u(Ie,!0),Le=(t,e,r)=>r>32?d(t,e,r):l(t,e,r),De=(t,e,r)=>r>32?f(t,e,r):h(t,e,r);class Ue extends g.Vw{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Se.ai)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,g.DH)(this.state)}keccak(){g.qv||(0,g.Fc)(this.state32),function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,s=r[i],o=r[i+1],a=Le(s,o,1)^r[n],c=De(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=c}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=ke[r],s=Le(e,i,n),o=De(e,i,n),a=xe[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=Ne[n],t[1]^=Be[n]}r.fill(0)}(this.state32,this.rounds),g.qv||(0,g.Fc)(this.state32),this.posOut=0,this.pos=0}update(t){(0,Se.t2)(this);const{blockLen:e,state:r}=this,n=(t=(0,g.ZJ)(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){(0,Se.t2)(this,!1),(0,Se.ee)(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Se.ai)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Se.CG)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new Ue(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const je=((t,e,r)=>(0,g.ld)((()=>new Ue(e,t,r))))(1,136,32);class Fe extends g.Vw{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,Se.tW)(t);const r=(0,g.ZJ)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return(0,Se.t2)(this),this.iHash.update(t),this}digestInto(t){(0,Se.t2)(this),(0,Se.ee)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ze=(t,e,r)=>new Fe(t,e).update(r).digest();function qe(t){void 0!==t.lowS&&I("lowS",t.lowS),void 0!==t.prehash&&I("prehash",t.prehash)}ze.create=(t,e)=>new Fe(t,e);const{Ph:He,aT:We}=n,Ve={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(t,e)=>{const{Err:r}=Ve;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(1&e.length)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=T(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?T(i.length/2|128):"";return`${T(t)}${s}${i}${e}`},decode(t,e){const{Err:r}=Ve;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++];let s=0;if(128&i){const t=127&i;if(!t)throw new r("tlv.decode(long): indefinite length not supported");if(t>4)throw new r("tlv.decode(long): byte length is too big");const o=e.subarray(n,n+t);if(o.length!==t)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(n+=t,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=e.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=Ve;if(t<$e)throw new e("integer: negative integers are not allowed");let r=T(t);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new e("unexpected assertion");return r},decode(t){const{Err:e}=Ve;if(128&t[0])throw new e("Invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("Invalid signature integer: unnecessary leading zero");return He(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Ve,i="string"==typeof t?We(t):t;k(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("Invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=Ve,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}},$e=BigInt(0),Ke=BigInt(1),Ge=(BigInt(2),BigInt(3));function Ye(t){const e=function(t){const e=vt(t);return Z(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return st(t,n)}function a(t){return ct(t,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=function(t){const e=function(t){const e=vt(t);Z(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=ht(e.n,e.nBitLength),i=e.toBytes||((t,e,n)=>{const i=e.toAffine();return F(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function o(t){const{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=e;if(r&&"bigint"!=typeof t){if(x(t)&&(t=C(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let o;try{o="bigint"==typeof t?t:B(j("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(o=st(o,s)),H("private key",o,Ke,s),o}function c(t){if(!(t instanceof h))throw new Error("ProjectivePoint expected")}const u=J(((t,e)=>{const{px:n,py:i,pz:s}=t;if(r.eql(s,r.ONE))return{x:n,y:i};const o=t.is0();null==e&&(e=o?r.ONE:r.inv(s));const a=r.mul(n,e),c=r.mul(i,e),u=r.mul(s,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),l=J((t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const s=r.sqr(i),a=o(n);if(!r.eql(s,a))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof h)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}static fromHex(t){const e=h.fromAffine(s(j("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(a(t))}static msm(t,e){return wt(h,n,t,e)}_setWindowSize(t){f.setWindowSize(this,t)}assertValidity(){l(this)}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){c(t);const{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,u=r.eql(r.mul(e,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return u&&l}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,Ge),{px:s,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),l=r.mul(s,a),l=r.add(l,l),c=r.mul(t,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(g,c),l=r.mul(i,l),p=r.mul(t,p),g=r.sub(d,p),g=r.mul(t,g),g=r.add(g,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,g),u=r.add(u,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),c=r.sub(c,d),l=r.mul(p,f),l=r.add(l,l),l=r.add(l,l),new h(c,u,l)}add(t){c(t);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=t;let l=r.ZERO,d=r.ZERO,f=r.ZERO;const p=e.a,g=r.mul(e.b,Ge);let m=r.mul(n,o),y=r.mul(i,a),b=r.mul(s,u),w=r.add(n,i),v=r.add(o,a);w=r.mul(w,v),v=r.add(m,y),w=r.sub(w,v),v=r.add(n,s);let _=r.add(o,u);return v=r.mul(v,_),_=r.add(m,b),v=r.sub(v,_),_=r.add(i,s),l=r.add(a,u),_=r.mul(_,l),l=r.add(y,b),_=r.sub(_,l),f=r.mul(p,v),l=r.mul(g,b),f=r.add(l,f),l=r.sub(y,f),f=r.add(y,f),d=r.mul(l,f),y=r.add(m,m),y=r.add(y,m),b=r.mul(p,b),v=r.mul(g,v),y=r.add(y,b),b=r.sub(m,b),b=r.mul(p,b),v=r.add(v,b),m=r.mul(y,v),d=r.add(d,m),m=r.mul(_,v),l=r.mul(w,l),l=r.sub(l,m),m=r.mul(w,y),f=r.mul(_,f),f=r.add(f,m),new h(l,d,f)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return f.wNAFCached(this,t,h.normalizeZ)}multiplyUnsafe(t){H("scalar",t,$e,e.n);const n=h.ZERO;if(t===$e)return n;if(t===Ke)return this;const{endo:i}=e;if(!i)return f.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:a,k2:c}=i.splitScalar(t),u=n,l=n,d=this;for(;o>$e||c>$e;)o&Ke&&(u=u.add(d)),c&Ke&&(l=l.add(d)),d=d.double(),o>>=Ke,c>>=Ke;return s&&(u=u.negate()),a&&(l=l.negate()),l=new h(r.mul(l.px,i.beta),l.py,l.pz),u.add(l)}multiply(t){const{endo:n,n:i}=e;let s,o;if(H("scalar",t,Ke,i),n){const{k1neg:e,k1:i,k2neg:a,k2:c}=n.splitScalar(t);let{p:u,f:l}=this.wNAF(i),{p:d,f:p}=this.wNAF(c);u=f.constTimeNegate(e,u),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,n.beta),d.py,d.pz),s=u.add(d),o=l.add(p)}else{const{p:e,f:r}=this.wNAF(t);s=e,o=r}return h.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(t,e,r){const n=h.BASE,i=(t,e)=>e!==$e&&e!==Ke&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){return u(this,t)}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===Ke)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===Ke?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return I("isCompressed",t),this.assertValidity(),i(h,this,t)}toHex(t=!0){return I("isCompressed",t),C(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,f=bt(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(t){return q(t,Ke,e.n)}}}({...e,toBytes(t,e,n){const i=e.toAffine(),s=r.toBytes(i.x),o=F;return I("isCompressed",n),n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===s&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const t=B(o);if(!q(t,Ke,r.ORDER))throw new Error("Point is not on curve");const e=l(t);let i;try{i=r.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("Point is not on curve"+e)}return!(1&~n)!=((i&Ke)===Ke)&&(i=r.neg(i)),{x:t,y:i}}}}),d=t=>C(D(t,e.nByteLength));function f(t){return t>n>>Ke}const p=(t,e,r)=>B(t.slice(e,r));class g{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=j("compactSignature",t,2*r),new g(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Ve.toSig(j("DER",t));return new g(e,r)}assertValidity(){H("r",this.r,Ke,n),H("s",this.s,Ke,n)}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:s}=this,u=w(j("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const l=2===s||3===s?n+e.n:n;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=1&s?"03":"02",f=c.fromHex(h+d(l)),p=a(l),g=o(-u*p),m=o(i*p),y=c.BASE.multiplyAndAddUnsafe(f,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return N(this.toDERHex())}toDERHex(){return Ve.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return N(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=ft(e.n);return function(t,e,r=!1){const n=t.length,i=dt(e),s=ft(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=st(r?B(t):L(t),e-X)+X;return r?U(o,i):D(o,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=x(t),r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof c}const b=e.bits2int||function(t){const r=B(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},w=e.bits2int_modN||function(t){return o(b(t))},v=V(e.nBitLength);function _(t){return H(`num < 2^${e.nBitLength}`,t,$e,v),D(t,e.nByteLength)}const E={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return c.fromHex(e).multiply(u(t)).toRawBytes(r)},sign:function(t,n,i=E){const{seed:s,k2sig:l}=function(t,n,i=E){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=e;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),t=j("msgHash",t),qe(i),p&&(t=j("prehashed msgHash",s(t)));const y=w(t),v=u(n),A=[_(v),_(y)];if(null!=m&&!1!==m){const t=!0===m?l(r.BYTES):m;A.push(j("extraEntropy",t))}const S=F(...A),x=y;return{seed:S,k2sig:function(t){const e=b(t);if(!h(e))return;const r=a(e),n=c.BASE.multiply(e).toAffine(),i=o(n.x);if(i===$e)return;const s=o(r*o(x+i*v));if(s===$e)return;let u=(n.x===i?0:2)|Number(n.y&Ke),l=s;return d&&f(s)&&(l=function(t){return f(t)?o(-t):t}(s),u^=1),new g(i,l,u)}}}(t,n,i),d=e;return G(d.hash.outputLen,d.nByteLength,d.hmac)(s,l)},verify:function(t,r,n,i=A){const s=t;if(r=j("msgHash",r),n=j("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");qe(i);const{lowS:u,prehash:l}=i;let h,d;try{if("string"==typeof s||x(s))try{h=g.fromDER(s)}catch(t){if(!(t instanceof Ve.Err))throw t;h=g.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw new Error("PARSE");{const{r:t,s:e}=s;h=new g(t,e)}}d=c.fromHex(n)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;l&&(r=e.hash(r));const{r:f,s:p}=h,m=w(r),y=a(p),b=o(m*y),v=o(f*y),_=c.BASE.multiplyAndAddUnsafe(d,b,v)?.toAffine();return!!_&&o(_.x)===f},ProjectivePoint:c,Signature:g,utils:m}}function Ze(t){return{hash:t,hmac:(e,...r)=>ze(t,e,(0,g.Id)(...r)),randomBytes:g.po}}BigInt(4);const Je=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xe=BigInt(1),tr=BigInt(2),er=(t,e)=>(t+e/tr)/e;const rr=ht(Je,void 0,void 0,{sqrt:function(t){const e=Je,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,h=at(l,r,e)*l%e,d=at(h,r,e)*l%e,f=at(d,tr,e)*u%e,p=at(f,i,e)*f%e,g=at(p,s,e)*p%e,m=at(g,a,e)*g%e,y=at(m,c,e)*m%e,b=at(y,a,e)*g%e,w=at(b,r,e)*l%e,v=at(w,o,e)*p%e,_=at(v,n,e)*u%e,E=at(_,tr,e);if(!rr.eql(rr.sqr(E),t))throw new Error("Cannot find square root");return E}}),nr=function(t,e){const r=e=>Ye({...t,...Ze(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:rr,n:Qe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Qe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Xe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=er(s*t,e),c=er(-n*t,e);let u=st(t-a*r-c*i,e),l=st(-a*n-c*s,e);const h=u>o,d=l>o;if(h&&(u=e-u),d&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:d,k2:l}}}},zt.sc);BigInt(0),nr.ProjectivePoint;const ir=Lt.utils.randomPrivateKey,sr=()=>{const t=Lt.utils.randomPrivateKey(),e=or(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},or=Lt.getPublicKey;function ar(t){try{return Lt.ExtendedPoint.fromHex(t),!0}catch{return!1}}const cr=(t,e)=>Lt.sign(t,e.slice(0,32)),ur=Lt.verify,lr=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class hr{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,qt.serialize)(fr,this))}static decode(t){return(0,qt.deserialize)(fr,this,t)}static decodeUnchecked(t){return(0,qt.deserializeUnchecked)(fr,this,t)}}class dr extends hr{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const fr=new Map;var pr;const gr=32,mr=32;let yr=1;class br extends hr{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Ft().decode(t);if(e.length!=mr)throw new Error("Invalid public key input");this._bn=new(Ut())(e)}else this._bn=new(Ut())(t);if(this._bn.byteLength()>mr)throw new Error("Invalid public key input")}}static unique(){const t=new br(yr);return yr+=1,new br(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ft().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===mr)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),r.toBuffer()]),s=(0,zt.sc)(n);return new br(s)}static createProgramAddressSync(t,e){let r=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>gr)throw new TypeError("Max seed length exceeded");r=i.Buffer.concat([r,lr(t)])})),r=i.Buffer.concat([r,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const n=(0,zt.sc)(r);if(ar(n))throw new Error("Invalid seeds, address must fall off the curve");return new br(n)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{const s=t.concat(i.Buffer.from([n]));r=this.createProgramAddressSync(s,e)}catch(t){if(t instanceof TypeError)throw t;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return ar(new br(t).toBytes())}}pr=br,br.default=new pr("11111111111111111111111111111111"),fr.set(br,{kind:"struct",fields:[["_bn","u256"]]});class wr{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=lr(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=lr(ir()),this._publicKey=lr(or(this._secretKey))}get publicKey(){return new br(this._publicKey)}get secretKey(){return i.Buffer.concat([this._secretKey,this._publicKey],64)}}const vr=new br("BPFLoader1111111111111111111111111111111111"),_r=1232,Er=127,Ar=64;class Sr extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Sr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class xr extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(xr.prototype,"name",{value:"TransactionExpiredTimeoutError"});class kr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(kr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ir{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,r)=>{e.set(t.toBase58(),r)}));const r=t=>{const r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((t=>({programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((t=>r(t.pubkey))),data:t.data})))}}const Mr=(t="publicKey")=>Ht.av(32,t),Cr=(t="signature")=>Ht.av(64,t),Tr=(t="string")=>{const e=Ht.w3([Ht.DH("length"),Ht.DH("lengthPadding"),Ht.av(Ht.cY(Ht.DH(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(t,e)=>r(t,e).chars.toString(),s.encode=(t,e,r)=>{const s={chars:i.Buffer.from(t,"utf8")};return n(s,e,r)},s.alloc=t=>Ht.DH().span+Ht.DH().span+i.Buffer.from(t,"utf8").length,s};function Or(t,e){const r=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const n=e[t.property];if(Array.isArray(n))return n.length*r(t.elementLayout)}else if("fields"in t)return Or({layout:t},e[t.property]);return 0};let n=0;return t.layout.fields.forEach((t=>{n+=r(t)})),n}function Rr(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,!(128&n))break}return e}function Pr(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}function Nr(t,e){if(!t)throw new Error(e||"Assertion failed")}class Br{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,n=t=>{const e=t.toBase58();let n=r.get(e);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,n)),n},i=n(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){n(e.programId).isInvoked=!0;for(const t of e.keys){const e=n(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new Br(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Nr(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),r=t.filter((([,t])=>t.isSigner&&!t.isWritable)),n=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Nr(e.length>0,"Expected at least one writable signer key");const[t]=e[0];Nr(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...e.map((([t])=>new br(t))),...r.map((([t])=>new br(t))),...n.map((([t])=>new br(t))),...i.map((([t])=>new br(t)))]]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==n.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const e=new br(i),s=t.findIndex((t=>t.equals(e)));s>=0&&(Nr(s<256,"Max lookup table index exceeded"),r.push(s),n.push(e),this.keyMetaMap.delete(i))}return[r,n]}}const Lr="Reached end of buffer unexpectedly";function Dr(t){if(0===t.length)throw new Error(Lr);return t.shift()}function Ur(t,...e){const[r]=e;if(2===e.length?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Lr);return t.splice(...e)}class jr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new br(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ft().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Ir(this.staticAccountKeys)}static compile(t){const e=Br.compile(t.instructions,t.payerKey),[r,n]=e.getMessageComponents(),i=new Ir(n).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Ft().encode(t.data)})));return new jr({header:r,accountKeys:n,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];Pr(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,n=Array.from(Ft().decode(t.data));let s=[];Pr(s,e.length);let o=[];return Pr(o,n.length),{programIdIndex:r,keyIndicesCount:i.Buffer.from(s),keyIndices:e,dataLength:i.Buffer.from(o),data:n}}));let n=[];Pr(n,r.length);let s=i.Buffer.alloc(_r);i.Buffer.from(n).copy(s);let o=n.length;r.forEach((t=>{const e=Ht.w3([Ht.u8("programIdIndex"),Ht.av(t.keyIndicesCount.length,"keyIndicesCount"),Ht.O6(Ht.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Ht.av(t.dataLength.length,"dataLength"),Ht.O6(Ht.u8("userdatum"),t.data.length,"data")]).encode(t,s,o);o+=e})),s=s.slice(0,o);const a=Ht.w3([Ht.av(1,"numRequiredSignatures"),Ht.av(1,"numReadonlySignedAccounts"),Ht.av(1,"numReadonlyUnsignedAccounts"),Ht.av(e.length,"keyCount"),Ht.O6(Mr("key"),t,"keys"),Mr("recentBlockhash")]),c={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>lr(t.toBytes()))),recentBlockhash:Ft().decode(this.recentBlockhash)};let u=i.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(t){let e=[...t];const r=Dr(e);if(r!==(r&Er))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=Dr(e),s=Dr(e),o=Rr(e);let a=[];for(let t=0;t<o;t++){const t=Ur(e,0,mr);a.push(new br(i.Buffer.from(t)))}const c=Ur(e,0,mr),u=Rr(e);let l=[];for(let t=0;t<u;t++){const t=Dr(e),r=Ur(e,0,Rr(e)),n=Ur(e,0,Rr(e)),s=Ft().encode(i.Buffer.from(n));l.push({programIdIndex:t,accounts:r,data:s})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:s},recentBlockhash:Ft().encode(i.Buffer.from(c)),accountKeys:a,instructions:l};return new jr(h)}}class Fr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ir(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return t>=r?t-r<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0):t>=this.header.numRequiredSignatures?t-e<r-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=t.find((t=>t.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const t of r.writableIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.writable.push(n.state.addresses[t])}for(const t of r.readonlyIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.readonly.push(n.state.addresses[t])}}return e}static compile(t){const e=Br.compile(t.instructions,t.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const t of i){const i=e.extractTableLookup(t);if(void 0!==i){const[t,{writable:e,readonly:s}]=i;r.push(t),n.writable.push(...e),n.readonly.push(...s)}}const[s,o]=e.getMessageComponents(),a=new Ir(o,n).compileInstructions(t.instructions);return new Fr({header:s,staticAccountKeys:o,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const t=Array();Pr(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Pr(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();Pr(i,this.addressTableLookups.length);const s=Ht.w3([Ht.u8("prefix"),Ht.w3([Ht.u8("numRequiredSignatures"),Ht.u8("numReadonlySignedAccounts"),Ht.u8("numReadonlyUnsignedAccounts")],"header"),Ht.av(t.length,"staticAccountKeysLength"),Ht.O6(Mr(),this.staticAccountKeys.length,"staticAccountKeys"),Mr("recentBlockhash"),Ht.av(r.length,"instructionsLength"),Ht.av(e.length,"serializedInstructions"),Ht.av(i.length,"addressTableLookupsLength"),Ht.av(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(_r),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Ft().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(_r);for(const r of this.compiledInstructions){const n=Array();Pr(n,r.accountKeyIndexes.length);const i=Array();Pr(i,r.data.length),t+=Ht.w3([Ht.u8("programIdIndex"),Ht.av(n.length,"encodedAccountKeyIndexesLength"),Ht.O6(Ht.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ht.av(i.length,"encodedDataLength"),Ht.av(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(_r);for(const r of this.addressTableLookups){const n=Array();Pr(n,r.writableIndexes.length);const i=Array();Pr(i,r.readonlyIndexes.length),t+=Ht.w3([Mr("accountKey"),Ht.av(n.length,"encodedWritableIndexesLength"),Ht.O6(Ht.u8(),r.writableIndexes.length,"writableIndexes"),Ht.av(i.length,"encodedReadonlyIndexesLength"),Ht.O6(Ht.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=Dr(e),n=r&Er;Nr(r!==n,"Expected versioned message but received legacy message"),Nr(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:Dr(e),numReadonlySignedAccounts:Dr(e),numReadonlyUnsignedAccounts:Dr(e)},s=[],o=Rr(e);for(let t=0;t<o;t++)s.push(new br(Ur(e,0,mr)));const a=Ft().encode(Ur(e,0,mr)),c=Rr(e),u=[];for(let t=0;t<c;t++){const t=Dr(e),r=Ur(e,0,Rr(e)),n=Rr(e),i=new Uint8Array(Ur(e,0,n));u.push({programIdIndex:t,accountKeyIndexes:r,data:i})}const l=Rr(e),h=[];for(let t=0;t<l;t++){const t=new br(Ur(e,0,mr)),r=Ur(e,0,Rr(e)),n=Ur(e,0,Rr(e));h.push({accountKey:t,writableIndexes:r,readonlyIndexes:n})}return new Fr({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:u,addressTableLookups:h})}}const zr={deserializeMessageVersion(t){const e=t[0],r=e&Er;return r===e?"legacy":r},deserialize:t=>{const e=zr.deserializeMessageVersion(t);if("legacy"===e)return jr.from(t);if(0===e)return Fr.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let qr=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Hr=i.Buffer.alloc(Ar).fill(0);class Wr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Vr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Wr(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const n=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{i.push({pubkey:new br(t),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((t=>{const e=t.pubkey.toString(),r=s.findIndex((t=>t.pubkey.toString()===e));r>-1?(s[r].isWritable=s[r].isWritable||t.isWritable,s[r].isSigner=s[r].isSigner||t.isSigner):s.push(t)})),s.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((t=>t.pubkey.equals(r)));if(o>-1){const[t]=s.splice(o,1);t.isSigner=!0,t.isWritable=!0,s.unshift(t)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],h=[];s.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(l.push(t.toString()),a+=1,r||(c+=1)):(h.push(t.toString()),r||(u+=1))}));const d=l.concat(h),f=e.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:Ft().encode(e)}}));return f.forEach((t=>{Nr(t.programIdIndex>=0),t.accounts.forEach((t=>Nr(t>=0)))})),new jr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(((t,r)=>e[r].equals(t.publicKey)))||(this.signatures=e.map((t=>({signature:null,publicKey:t})))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=cr(r,t.secretKey);this._addSignature(t.publicKey,lr(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Nr(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=i.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?e&&(r.missing||=[]).push(i):ur(n,t,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r){const t=this._getMessageSignednessErrors(n,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];Pr(r,e.length);const n=r.length+64*e.length+t.length,s=i.Buffer.alloc(n);return Nr(e.length<256),i.Buffer.from(r).copy(s,0),e.forEach((({signature:t},e)=>{null!==t&&(Nr(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(s,r.length+64*e))})),t.copy(s,r.length+64*e.length),Nr(s.length<=_r,`Transaction too large: ${s.length} > ${_r}`),s}get keys(){return Nr(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return Nr(1===this.instructions.length),this.instructions[0].programId}get data(){return Nr(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Rr(e);let n=[];for(let t=0;t<r;t++){const t=Ur(e,0,Ar);n.push(Ft().encode(i.Buffer.from(t)))}return Vr.populate(jr.from(e),n)}static populate(t,e=[]){const r=new Vr;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const i={signature:e==Ft().encode(Hr)?null:Ft().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new Wr({keys:n,programId:t.accountKeys[e.programIdIndex],data:Ft().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}class $r{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:r,compiledInstructions:n,recentBlockhash:i}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=r,c=s-o;Nr(c>0,"Message header is invalid");const u=t.staticAccountKeys.length-s-a;Nr(u>=0,"Message header is invalid");const l=t.getAccountKeys(e),h=l.get(0);if(void 0===h)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const t of n){const e=[];for(const n of t.accountKeyIndexes){const t=l.get(n);if(void 0===t)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<s?n<c:n<l.staticAccountKeys.length?n-s<u:n-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:n<r.numRequiredSignatures,isWritable:i})}const n=l.get(t.programIdIndex);if(void 0===n)throw new Error(`Failed to find program id for program id index ${t.programIdIndex}`);d.push(new Wr({programId:n,data:lr(t.data),keys:e}))}return new $r({payerKey:h,instructions:d,recentBlockhash:i})}compileToLegacyMessage(){return jr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Fr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class Kr{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)Nr(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let r=0;r<t.header.numRequiredSignatures;r++)e.push(new Uint8Array(Ar));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Pr(e,this.signatures.length);const r=Ht.w3([Ht.av(e.length,"encodedSignaturesLength"),Ht.O6(Cr(),this.signatures.length,"signatures"),Ht.av(t.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},n);return n.slice(0,i)}static deserialize(t){let e=[...t];const r=[],n=Rr(e);for(let t=0;t<n;t++)r.push(new Uint8Array(Ur(e,0,Ar)));const i=zr.deserialize(new Uint8Array(e));return new Kr(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of t){const t=r.findIndex((t=>t.equals(n.publicKey)));Nr(t>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[t]=cr(e,n.secretKey)}}addSignature(t,e){Nr(64===e.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));Nr(r>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=e}}const Gr=new br("SysvarC1ock11111111111111111111111111111111"),Yr=new br("SysvarEpochSchedu1e111111111111111111111111"),Zr=new br("Sysvar1nstructions1111111111111111111111111"),Jr=new br("SysvarRecentB1ockHashes11111111111111111111"),Qr=new br("SysvarRent111111111111111111111111111111111"),Xr=new br("SysvarRewards111111111111111111111111111111"),tn=new br("SysvarS1otHashes111111111111111111111111111"),en=new br("SysvarS1otHistory11111111111111111111111111"),rn=new br("SysvarStakeHistory1111111111111111111111111");class nn extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(t){case"send":o=`Transaction ${e} resulted in an error. \n${r}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+i+s;break;default:o=`Unknown action '${t}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((e,r)=>{t.getTransaction(this.signature).then((t=>{if(t&&t.meta&&t.meta.logMessages){const r=t.meta.logMessages;this.transactionLogs=r,e(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}const sn={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class on extends Error{constructor({code:t,message:e,data:r},n){super(null!=n?`${n}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}async function an(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)o=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:r}=e.nonceInfo,i=r.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err){if(null!=s)throw new nn({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function cn(t){return new Promise((e=>setTimeout(e,t)))}function un(t,e){const r=t.layout.span>=0?t.layout.span:Or(t,e),n=i.Buffer.alloc(r),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,n),n}function ln(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const hn=Ht.I0("lamportsPerSignature"),dn=Ht.w3([Ht.DH("version"),Ht.DH("state"),Mr("authorizedPubkey"),Mr("nonce"),Ht.w3([hn],"feeCalculator")]),fn=dn.span;class pn{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=dn.decode(lr(t),0);return new pn({authorizedPubkey:new br(e.authorizedPubkey),nonce:new br(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const gn=t=>{const e=(0,Ht.av)(8,t),{encode:r,decode:n}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),s=e;return s.decode=(t,e)=>{const r=n(t,e);return(0,Wt.k5)(i.Buffer.from(r))},s.encode=(t,e,n)=>{const i=(0,Wt.Bq)(t,8);return r(i,e,n)},s};class mn{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Ht.DH("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(yn))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:r,programId:n}=ln(yn.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new br(n)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=ln(yn.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:r,programId:n}=ln(yn.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new br(n)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=ln(yn.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,space:n,programId:i}=ln(yn.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new br(e),seed:r,space:n,programId:new br(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=ln(yn.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new br(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,programId:n}=ln(yn.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new br(e),seed:r,programId:new br(n)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:r,lamports:n,space:i,programId:s}=ln(yn.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new br(e),seed:r,lamports:n,space:i,programId:new br(s)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=ln(yn.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new br(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),ln(yn.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=ln(yn.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=ln(yn.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new br(e)}}static checkProgramId(t){if(!t.equals(bn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const yn=Object.freeze({Create:{index:0,layout:Ht.w3([Ht.DH("instruction"),Ht.Wg("lamports"),Ht.Wg("space"),Mr("programId")])},Assign:{index:1,layout:Ht.w3([Ht.DH("instruction"),Mr("programId")])},Transfer:{index:2,layout:Ht.w3([Ht.DH("instruction"),gn("lamports")])},CreateWithSeed:{index:3,layout:Ht.w3([Ht.DH("instruction"),Mr("base"),Tr("seed"),Ht.Wg("lamports"),Ht.Wg("space"),Mr("programId")])},AdvanceNonceAccount:{index:4,layout:Ht.w3([Ht.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Ht.w3([Ht.DH("instruction"),Ht.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Ht.w3([Ht.DH("instruction"),Mr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ht.w3([Ht.DH("instruction"),Mr("authorized")])},Allocate:{index:8,layout:Ht.w3([Ht.DH("instruction"),Ht.Wg("space")])},AllocateWithSeed:{index:9,layout:Ht.w3([Ht.DH("instruction"),Mr("base"),Tr("seed"),Ht.Wg("space"),Mr("programId")])},AssignWithSeed:{index:10,layout:Ht.w3([Ht.DH("instruction"),Mr("base"),Tr("seed"),Mr("programId")])},TransferWithSeed:{index:11,layout:Ht.w3([Ht.DH("instruction"),gn("lamports"),Tr("seed"),Mr("programId")])},UpgradeNonceAccount:{index:12,layout:Ht.w3([Ht.DH("instruction")])}});class bn{constructor(){}static createAccount(t){const e=un(yn.Create,{lamports:t.lamports,space:t.space,programId:lr(t.programId.toBuffer())});return new Wr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;return"basePubkey"in t?(e=un(yn.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:lr(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=un(yn.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Wr({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;return"basePubkey"in t?(e=un(yn.AssignWithSeed,{base:lr(t.basePubkey.toBuffer()),seed:t.seed,programId:lr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=un(yn.Assign,{programId:lr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Wr({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=un(yn.CreateWithSeed,{base:lr(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:lr(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Wr({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Vr;"basePubkey"in t&&"seed"in t?e.add(bn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:fn,programId:this.programId})):e.add(bn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:fn,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=un(yn.InitializeNonceAccount,{authorized:lr(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Jr,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new Wr(r)}static nonceAdvance(t){const e=un(yn.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Jr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new Wr(r)}static nonceWithdraw(t){const e=un(yn.WithdrawNonceAccount,{lamports:t.lamports});return new Wr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Jr,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=un(yn.AuthorizeNonceAccount,{authorized:lr(t.newAuthorizedPubkey.toBuffer())});return new Wr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;return"basePubkey"in t?(e=un(yn.AllocateWithSeed,{base:lr(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:lr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=un(yn.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Wr({keys:r,programId:this.programId,data:e})}}bn.programId=new br("11111111111111111111111111111111");const wn=_r-300;class vn{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/vn.chunkSize)+1+1)}static async load(t,e,r,n,s){{const i=await t.getMinimumBalanceForRentExemption(s.length),o=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new Vr,a.add(bn.allocate({accountPubkey:r.publicKey,space:s.length}))),o.owner.equals(n)||(a=a||new Vr,a.add(bn.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<i&&(a=a||new Vr,a.add(bn.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:i-o.lamports})))}else a=(new Vr).add(bn.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:s.length,programId:n}));null!==a&&await an(t,a,[e,r],{commitment:"confirmed"})}const o=Ht.w3([Ht.DH("instruction"),Ht.DH("offset"),Ht.DH("bytesLength"),Ht.DH("bytesLengthPadding"),Ht.O6(Ht.u8("byte"),Ht.cY(Ht.DH(),-8),"bytes")]),a=vn.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const s=u.slice(0,a),h=i.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:s,bytesLength:0,bytesLengthPadding:0},h);const d=(new Vr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(an(t,d,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await cn(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const s=Ht.w3([Ht.DH("instruction")]),o=i.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new Vr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1}],programId:n,data:o}),c="processed",u=await t.sendTransaction(a,[e,r],{preflightCommitment:c}),{context:l,value:h}=await t.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:c})>l.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}vn.chunkSize=wn;const _n=new br("BPFLoader2111111111111111111111111111111111");class En{static getMinNumSignatures(t){return vn.getMinNumSignatures(t)}static load(t,e,r,n,i){return vn.load(t,e,r,i,n)}}function An(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sn=Object.prototype.toString,xn=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function kn(t,e){var r,n,i,s,o,a,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return kn(t.toJSON(),e);if("[object Array]"===(c=Sn.call(t))){for(i="[",n=t.length-1,r=0;r<n;r++)i+=kn(t[r],!0)+",";return n>-1&&(i+=kn(t[r],!0)),i+"]"}if("[object Object]"===c){for(n=(s=xn(t).sort()).length,i="",r=0;r<n;)void 0!==(a=kn(t[o=s[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var In=An((function(t){var e=kn(t,!1);if(void 0!==e)return""+e}));function Mn(t){let e=0;for(;t>1;)t/=2,e++;return e}class Cn{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=Mn(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-Mn(32)-1;return[r,t-(this.getSlotsInEpoch(r)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Mn(32)):this.slotsPerEpoch}}var Tn=globalThis.fetch;class On extends Ae{constructor(t,e,r){super((t=>{const r=function(t,e){return new _e(t,e)}(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class Rn{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(Pn,t),r=t.length-56;Nr(r>=0,"lookup table is invalid"),Nr(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=Ht.w3([Ht.O6(Mr(),n,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new br(e.authority[0]):void 0,addresses:i.map((t=>new br(t)))}}}const Pn={index:1,layout:Ht.w3([Ht.DH("typeIndex"),gn("deactivationSlot"),Ht.I0("lastExtendedSlot"),Ht.u8("lastExtendedStartIndex"),Ht.u8(),Ht.O6(Mr(),Ht.cY(Ht.u8(),-1),"authority")])},Nn=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,Bn=ye(oe(br),de(),(t=>new br(t))),Ln=fe([de(),ae("base64")]),Dn=ye(oe(i.Buffer),Ln,(t=>i.Buffer.from(t[0],"base64"))),Un=3e4;function jn(t){let e,r;if("string"==typeof t)e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function Fn(t){return t.map((t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t))}function zn(t){return ge([pe({jsonrpc:ae("2.0"),id:de(),result:t}),pe({jsonrpc:ae("2.0"),id:de(),error:pe({code:me(),message:de(),data:le(ne("any",(()=>!0)))})})])}const qn=zn(me());function Hn(t){return ye(zn(t),qn,(e=>"error"in e?e:{...e,result:te(e.result,t)}))}function Wn(t){return Hn(pe({context:pe({slot:ue()}),value:t}))}function Vn(t){return pe({context:pe({slot:ue()}),value:t})}function $n(t,e){return 0===t?new Fr({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new br(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ft().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new jr(e)}const Kn=pe({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),Gn=Hn(ie(ce(pe({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:le(ce(ue()))})))),Yn=ie(pe({slot:ue(),prioritizationFee:ue()})),Zn=pe({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),Jn=pe({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:le(ue()),transactionCount:le(ue())}),Qn=pe({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:se(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),Xn=he(de(),ie(ue())),ti=ce(ge([pe({}),de()])),ei=pe({err:ti}),ri=ae("receivedSignature"),ni=pe({"solana-core":de(),"feature-set":le(ue())}),ii=pe({program:de(),programId:Bn,parsed:me()}),si=pe({programId:Bn,accounts:ie(Bn),data:de()}),oi=Wn(pe({err:ce(ge([pe({}),de()])),logs:ce(ie(de())),accounts:le(ce(ie(ce(pe({executable:se(),owner:de(),lamports:ue(),data:ie(de()),rentEpoch:le(ue())}))))),unitsConsumed:le(ue()),returnData:le(ce(pe({programId:de(),data:fe([de(),ae("base64")])}))),innerInstructions:le(ce(ie(pe({index:ue(),instructions:ie(ge([ii,si]))}))))})),ai=Wn(pe({byIdentity:he(de(),ie(ue())),range:pe({firstSlot:ue(),lastSlot:ue()})})),ci=Hn(Kn),ui=Hn(Zn),li=Hn(Yn),hi=Hn(Jn),di=Hn(Qn),fi=Hn(Xn),pi=Hn(ue()),gi=Wn(pe({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:ie(Bn)})),mi=pe({amount:de(),uiAmount:ce(ue()),decimals:ue(),uiAmountString:le(de())}),yi=Wn(ie(pe({address:Bn,amount:de(),uiAmount:ce(ue()),decimals:ue(),uiAmountString:le(de())}))),bi=Wn(ie(pe({pubkey:Bn,account:pe({executable:se(),owner:Bn,lamports:ue(),data:Dn,rentEpoch:ue()})}))),wi=pe({program:de(),parsed:me(),space:ue()}),vi=Wn(ie(pe({pubkey:Bn,account:pe({executable:se(),owner:Bn,lamports:ue(),data:wi,rentEpoch:ue()})}))),_i=Wn(ie(pe({lamports:ue(),address:Bn}))),Ei=pe({executable:se(),owner:Bn,lamports:ue(),data:Dn,rentEpoch:ue()}),Ai=pe({pubkey:Bn,account:Ei}),Si=ye(ge([oe(i.Buffer),wi]),ge([Ln,wi]),(t=>Array.isArray(t)?te(t,Dn):t)),xi=pe({executable:se(),owner:Bn,lamports:ue(),data:Si,rentEpoch:ue()}),ki=pe({pubkey:Bn,account:xi}),Ii=pe({state:ge([ae("active"),ae("inactive"),ae("activating"),ae("deactivating")]),active:ue(),inactive:ue()}),Mi=Hn(ie(pe({signature:de(),slot:ue(),err:ti,memo:ce(de()),blockTime:le(ce(ue()))}))),Ci=Hn(ie(pe({signature:de(),slot:ue(),err:ti,memo:ce(de()),blockTime:le(ce(ue()))}))),Ti=pe({subscription:ue(),result:Vn(Ei)}),Oi=pe({pubkey:Bn,account:Ei}),Ri=pe({subscription:ue(),result:Vn(Oi)}),Pi=pe({parent:ue(),slot:ue(),root:ue()}),Ni=pe({subscription:ue(),result:Pi}),Bi=ge([pe({type:ge([ae("firstShredReceived"),ae("completed"),ae("optimisticConfirmation"),ae("root")]),slot:ue(),timestamp:ue()}),pe({type:ae("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),pe({type:ae("frozen"),slot:ue(),timestamp:ue(),stats:pe({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),pe({type:ae("dead"),slot:ue(),timestamp:ue(),err:de()})]),Li=pe({subscription:ue(),result:Bi}),Di=pe({subscription:ue(),result:Vn(ge([ei,ri]))}),Ui=pe({subscription:ue(),result:ue()}),ji=pe({pubkey:de(),gossip:ce(de()),tpu:ce(de()),rpc:ce(de()),version:ce(de())}),Fi=pe({votePubkey:de(),nodePubkey:de(),activatedStake:ue(),epochVoteAccount:se(),epochCredits:ie(fe([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:ce(ue())}),zi=Hn(pe({current:ie(Fi),delinquent:ie(Fi)})),qi=ge([ae("processed"),ae("confirmed"),ae("finalized")]),Hi=pe({slot:ue(),confirmations:ce(ue()),err:ti,confirmationStatus:le(qi)}),Wi=Wn(ie(ce(Hi))),Vi=Hn(ue()),$i=pe({accountKey:Bn,writableIndexes:ie(ue()),readonlyIndexes:ie(ue())}),Ki=pe({signatures:ie(de()),message:pe({accountKeys:ie(de()),header:pe({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:ie(pe({accounts:ie(ue()),data:de(),programIdIndex:ue()})),recentBlockhash:de(),addressTableLookups:le(ie($i))})}),Gi=pe({pubkey:Bn,signer:se(),writable:se(),source:le(ge([ae("transaction"),ae("lookupTable")]))}),Yi=pe({accountKeys:ie(Gi),signatures:ie(de())}),Zi=pe({parsed:me(),program:de(),programId:Bn}),Ji=pe({accounts:ie(Bn),data:de(),programId:Bn}),Qi=ye(ge([Ji,Zi]),ge([pe({parsed:me(),program:de(),programId:de()}),pe({accounts:ie(de()),data:de(),programId:de()})]),(t=>te(t,"accounts"in t?Ji:Zi))),Xi=pe({signatures:ie(de()),message:pe({accountKeys:ie(Gi),instructions:ie(Qi),recentBlockhash:de(),addressTableLookups:le(ce(ie($i)))})}),ts=pe({accountIndex:ue(),mint:de(),owner:le(de()),uiTokenAmount:mi}),es=pe({writable:ie(Bn),readonly:ie(Bn)}),rs=pe({err:ti,fee:ue(),innerInstructions:le(ce(ie(pe({index:ue(),instructions:ie(pe({accounts:ie(ue()),data:de(),programIdIndex:ue()}))})))),preBalances:ie(ue()),postBalances:ie(ue()),logMessages:le(ce(ie(de()))),preTokenBalances:le(ce(ie(ts))),postTokenBalances:le(ce(ie(ts))),loadedAddresses:le(es),computeUnitsConsumed:le(ue())}),ns=pe({err:ti,fee:ue(),innerInstructions:le(ce(ie(pe({index:ue(),instructions:ie(Qi)})))),preBalances:ie(ue()),postBalances:ie(ue()),logMessages:le(ce(ie(de()))),preTokenBalances:le(ce(ie(ts))),postTokenBalances:le(ce(ie(ts))),loadedAddresses:le(es),computeUnitsConsumed:le(ue())}),is=ge([ae(0),ae("legacy")]),ss=pe({pubkey:de(),lamports:ue(),postBalance:ce(ue()),rewardType:ce(de()),commission:le(ce(ue()))}),os=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),transactions:ie(pe({transaction:Ki,meta:ce(rs),version:le(is)})),rewards:le(ie(ss)),blockTime:ce(ue()),blockHeight:ce(ue())}))),as=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),rewards:le(ie(ss)),blockTime:ce(ue()),blockHeight:ce(ue())}))),cs=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),transactions:ie(pe({transaction:Yi,meta:ce(rs),version:le(is)})),rewards:le(ie(ss)),blockTime:ce(ue()),blockHeight:ce(ue())}))),us=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),transactions:ie(pe({transaction:Xi,meta:ce(ns),version:le(is)})),rewards:le(ie(ss)),blockTime:ce(ue()),blockHeight:ce(ue())}))),ls=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),transactions:ie(pe({transaction:Yi,meta:ce(ns),version:le(is)})),rewards:le(ie(ss)),blockTime:ce(ue()),blockHeight:ce(ue())}))),hs=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),rewards:le(ie(ss)),blockTime:ce(ue()),blockHeight:ce(ue())}))),ds=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),transactions:ie(pe({transaction:Ki,meta:ce(rs)})),rewards:le(ie(ss)),blockTime:ce(ue())}))),fs=Hn(ce(pe({blockhash:de(),previousBlockhash:de(),parentSlot:ue(),signatures:ie(de()),blockTime:ce(ue())}))),ps=Hn(ce(pe({slot:ue(),meta:ce(rs),blockTime:le(ce(ue())),transaction:Ki,version:le(is)}))),gs=Hn(ce(pe({slot:ue(),transaction:Xi,meta:ce(ns),blockTime:le(ce(ue())),version:le(is)}))),ms=Wn(pe({blockhash:de(),feeCalculator:pe({lamportsPerSignature:ue()})})),ys=Wn(pe({blockhash:de(),lastValidBlockHeight:ue()})),bs=Wn(se()),ws=Hn(ie(pe({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}))),vs=Wn(ce(pe({feeCalculator:pe({lamportsPerSignature:ue()})}))),_s=Hn(de()),Es=Hn(de()),As=pe({err:ti,logs:ie(de()),signature:de()}),Ss=pe({result:Vn(As),subscription:ue()}),xs={"solana-client":"js/1.0.0-maintenance"};class ks{constructor(t,e){let r,n,i,s,o,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:r,config:n}=jn(e),i=this._buildArgs([],r,void 0,n),s=In(i);return t[s]=t[s]??(async()=>{try{const t=te(await this._rpcRequest("getBlockHeight",i),Hn(ue()));if("error"in t)throw new on(t.error,"failed to get block height information");return t.result}finally{delete t[s]}})(),await t[s]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,n=e.httpHeaders,i=e.fetch,s=e.fetchMiddleware,o=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){const e=t.match(Nn);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${n}${null==a?"":`:${a+1}`}${s}`}(t),this._rpcClient=function(t,e,r,n,i,s){const o=r||Tn;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(t,e)=>{const r=await new Promise(((r,i)=>{try{n(t,e,((t,e)=>r([t,e])))}catch(t){i(t)}}));return await o(...r)}),new(we())((async(r,n)=>{const s={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},xs)};try{let e,r=5,c=500;for(;e=a?await a(t,s):await o(t,s),429===e.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${c}ms delay...`),await cn(c),c*=2;const u=await e.text();e.ok?n(null,u):n(new Error(`${e.status} ${e.statusText}: ${u}`))}catch(t){t instanceof Error&&n(t)}}),{})}(t,n,i,s,o,a),this._rpcRequest=(c=this._rpcClient,(t,e)=>new Promise(((r,n)=>{c.request(t,e,((t,e)=>{t?n(t):r(e)}))}))),this._rpcBatchRequest=function(t){return e=>new Promise(((r,n)=>{0===e.length&&r([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?n(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new On(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgs([t.toBase58()],r,void 0,n),s=te(await this._rpcRequest("getBalance",i),Wn(ue()));if("error"in s)throw new on(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=te(await this._rpcRequest("getBlockTime",[t]),Hn(ce(ue())));if("error"in e)throw new on(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=te(await this._rpcRequest("minimumLedgerSlot",[]),Hn(ue()));if("error"in t)throw new on(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=te(await this._rpcRequest("getFirstAvailableBlock",[]),pi);if("error"in t)throw new on(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=te(await this._rpcRequest("getSupply",[e]),gi);if("error"in r)throw new on(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=te(await this._rpcRequest("getTokenSupply",r),Wn(mi));if("error"in n)throw new on(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=te(await this._rpcRequest("getTokenAccountBalance",r),Wn(mi));if("error"in n)throw new on(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(t,e,r){const{commitment:n,config:i}=jn(r);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,n,"base64",i),a=te(await this._rpcRequest("getTokenAccountsByOwner",o),bi);if("error"in a)throw new on(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=te(await this._rpcRequest("getTokenAccountsByOwner",i),vi);if("error"in s)throw new on(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=te(await this._rpcRequest("getLargestAccounts",r),_i);if("error"in n)throw new on(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=te(await this._rpcRequest("getTokenLargestAccounts",r),yi);if("error"in n)throw new on(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgs([t.toBase58()],r,"base64",n),s=te(await this._rpcRequest("getAccountInfo",i),Wn(ce(Ei)));if("error"in s)throw new on(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),s=te(await this._rpcRequest("getAccountInfo",i),Wn(ce(xi)));if("error"in s)throw new on(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:n}=jn(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],r,"jsonParsed",n),o=te(await this._rpcRequest("getMultipleAccounts",s),Wn(ie(ce(xi))));if("error"in o)throw new on(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:n}=jn(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],r,"base64",n),o=te(await this._rpcRequest("getMultipleAccounts",s),Wn(ie(ce(Ei))));if("error"in o)throw new on(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:n,config:i}=jn(e),s=this._buildArgs([t.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),o=te(await this._rpcRequest("getStakeActivation",s),Hn(Ii));if("error"in o)throw new on(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,e){const{commitment:r,config:n}=jn(e),{encoding:i,...s}=n||{},o=this._buildArgs([t.toBase58()],r,i||"base64",{...s,...s.filters?{filters:Fn(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),c=ie(Ai),u=!0===s.withContext?te(a,Wn(c)):te(a,Hn(c));if("error"in u)throw new on(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),s=te(await this._rpcRequest("getProgramAccounts",i),Hn(ie(ki)));if("error"in s)throw new on(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let r,n;if("string"==typeof t)r=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=Ft().decode(r)}catch(t){throw new Error("signature must be base58 encoded: "+r)}return Nr(64===n.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(()=>{r(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((s,o)=>{try{r=this.onSignature(e,((t,e)=>{r=void 0;const n={context:e,value:t};s({__type:qr.PROCESSED,response:n})}),t);const a=new Promise((t=>{null==r?t():n=this._onSubscriptionStateChange(r,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(e);if(i)return;if(null==r)return;const{context:n,value:c}=r;if(null!=c)if(c?.err)o(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,s({__type:qr.PROCESSED,response:{context:n,value:c}})}})()}catch(t){o(t)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:n}}){let i=!1;const s=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(t){return-1}};(async()=>{let t=await n();if(!i){for(;t<=r;){if(await cn(1e3),i)return;if(t=await n(),i)return}e({__type:qr.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:n}),c=this.getCancellationPromise(e);let u;try{const t=await Promise.race([c,a,s]);if(t.__type!==qr.PROCESSED)throw new Sr(n);u=t.response}finally{i=!0,o()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:s}}){let o=!1;const a=new Promise((e=>{let s=i,a=null;const c=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(n,{commitment:t,minContextSlot:r});return a=e.slot,i?.nonce}catch(t){return s}};(async()=>{if(s=await c(),!o)for(;;){if(i!==s)return void e({__type:qr.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await cn(2e3),o)return;if(s=await c(),o)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),l=this.getCancellationPromise(e);let h;try{const e=await Promise.race([l,u,a]);if(e.__type===qr.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await cn(400)}if(!n?.value)throw new kr(s);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new kr(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new kr(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new kr(s)}h={context:n.context,value:{err:n.value.err}}}}}finally{o=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const n=new Promise((e=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>e({__type:qr.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let o;try{const t=await Promise.race([s,n]);if(t.__type!==qr.PROCESSED)throw new xr(e,t.timeoutMs/1e3);o=t.response}finally{clearTimeout(r),i()}return o}async getClusterNodes(){const t=te(await this._rpcRequest("getClusterNodes",[]),Hn(ie(ji)));if("error"in t)throw new on(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=te(await this._rpcRequest("getVoteAccounts",e),zi);if("error"in r)throw new on(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:r}=jn(t),n=this._buildArgs([],e,void 0,r),i=te(await this._rpcRequest("getSlot",n),Hn(ue()));if("error"in i)throw new on(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:r}=jn(t),n=this._buildArgs([],e,void 0,r),i=te(await this._rpcRequest("getSlotLeader",n),Hn(de()));if("error"in i)throw new on(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const r=[t,e],n=te(await this._rpcRequest("getSlotLeaders",r),Hn(ie(Bn)));if("error"in n)throw new on(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);return Nr(1===n.length),{context:r,value:n[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=te(await this._rpcRequest("getSignatureStatuses",r),Wi);if("error"in n)throw new on(n.error,"failed to get signature status");return n.result}async getTransactionCount(t){const{commitment:e,config:r}=jn(t),n=this._buildArgs([],e,void 0,r),i=te(await this._rpcRequest("getTransactionCount",n),Hn(ue()));if("error"in i)throw new on(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=te(await this._rpcRequest("getInflationGovernor",e),ci);if("error"in r)throw new on(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,r){const{commitment:n,config:i}=jn(r),s=this._buildArgs([t.map((t=>t.toBase58()))],n,void 0,{...i,epoch:null!=e?e:i?.epoch}),o=te(await this._rpcRequest("getInflationReward",s),Gn);if("error"in o)throw new on(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=te(await this._rpcRequest("getInflationRate",[]),ui);if("error"in t)throw new on(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:r}=jn(t),n=this._buildArgs([],e,void 0,r),i=te(await this._rpcRequest("getEpochInfo",n),hi);if("error"in i)throw new on(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=te(await this._rpcRequest("getEpochSchedule",[]),di);if("error"in t)throw new on(t.error,"failed to get epoch schedule");const e=t.result;return new Cn(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=te(await this._rpcRequest("getLeaderSchedule",[]),fi);if("error"in t)throw new on(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=te(await this._rpcRequest("getMinimumBalanceForRentExemption",r),Vi);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=te(await this._rpcRequest("getRecentBlockhash",e),ms);if("error"in r)throw new on(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(t){const e=te(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),ws);if("error"in e)throw new on(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=te(await this._rpcRequest("getFeeCalculatorForBlockhash",r),vs);if("error"in n)throw new on(n.error,"failed to get fee calculator");const{context:i,value:s}=n.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const r=lr(t.serialize()).toString("base64"),n=this._buildArgs([r],e),i=te(await this._rpcRequest("getFeeForMessage",n),Wn(ce(ue())));if("error"in i)throw new on(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),r=e?.length?[e]:[],n=te(await this._rpcRequest("getRecentPrioritizationFees",r),li);if("error"in n)throw new on(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=jn(t),n=this._buildArgs([],e,void 0,r),i=te(await this._rpcRequest("getLatestBlockhash",n),ys);if("error"in i)throw new on(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgs([t],r,void 0,n),s=te(await this._rpcRequest("isBlockhashValid",i),bs);if("error"in s)throw new on(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){const t=te(await this._rpcRequest("getVersion",[]),Hn(ni));if("error"in t)throw new on(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=te(await this._rpcRequest("getGenesisHash",[]),Hn(de()));if("error"in t)throw new on(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=te(s,cs);if("error"in t)throw t.error;return t.result}case"none":{const t=te(s,as);if("error"in t)throw t.error;return t.result}default:{const t=te(s,os);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:$n(r,t.message)},version:r})))}:null}}}catch(t){throw new on(t,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=te(s,ls);if("error"in t)throw t.error;return t.result}case"none":{const t=te(s,hs);if("error"in t)throw t.error;return t.result}default:{const t=te(s,us);if("error"in t)throw t.error;return t.result}}}catch(t){throw new on(t,"failed to get block")}}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){const{commitment:n,...i}=t;r=n,e=i}const n=this._buildArgs([],r,"base64",e),i=te(await this._rpcRequest("getBlockProduction",n),ai);if("error"in i)throw new on(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),s=te(await this._rpcRequest("getTransaction",i),ps);if("error"in s)throw new on(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:$n(o.version,o.transaction.message)}}:o}async getParsedTransaction(t,e){const{commitment:r,config:n}=jn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),s=te(await this._rpcRequest("getTransaction",i),gs);if("error"in s)throw new on(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:r,config:n}=jn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=te(t,gs);if("error"in e)throw new on(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:r,config:n}=jn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=te(t,ps);if("error"in e)throw new on(e.error,"failed to get transactions");const r=e.result;return r?{...r,transaction:{...r.transaction,message:$n(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=te(await this._rpcRequest("getConfirmedBlock",r),ds);if("error"in n)throw new on(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");const s={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const r=new jr(t.message);return{meta:e,transaction:{...t,message:r}}}))};return{...s,transactions:s.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Vr.populate(t.message,t.signatures)})))}}async getBlocks(t,e,r){const n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=te(await this._rpcRequest("getBlocks",n),Hn(ie(ue())));if("error"in i)throw new on(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=te(await this._rpcRequest("getBlock",r),fs);if("error"in n)throw new on(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=te(await this._rpcRequest("getConfirmedBlock",r),fs);if("error"in n)throw new on(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=te(await this._rpcRequest("getConfirmedTransaction",r),ps);if("error"in n)throw new on(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const s=new jr(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:Vr.populate(s,o)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=te(await this._rpcRequest("getConfirmedTransaction",r),gs);if("error"in n)throw new on(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=te(t,gs);if("error"in e)throw new on(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let s=await this.getSlot("finalized");for(;!("before"in n||++r>s);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(t,n)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=te(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),Mi);if("error"in i)throw new on(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=te(await this._rpcRequest("getSignaturesForAddress",n),Ci);if("error"in i)throw new on(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=new Rn({key:t,state:Rn.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=pn.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=te(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),_s);if("error"in r)throw new on(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await cn(100);const t=Date.now()-this._blockhashInfo.lastFetch>=Un;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let t=0;t<50;t++){const t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await cn(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=jn(t),n=this._buildArgs([],e,"base64",r),i=te(await this._rpcRequest("getStakeMinimumDelegation",n),Wn(ue()));if("error"in i)throw new on(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,r){if("message"in t){const n=t.serialize(),s=i.Buffer.from(n).toString("base64");if(Array.isArray(e)||void 0!==r)throw new Error("Invalid arguments");const o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(o.innerInstructions=e.innerInstructions);const a=[s,o],c=te(await this._rpcRequest("simulateTransaction",a),oi);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let n;if(t instanceof Vr){let e=t;n=new Vr,n.feePayer=e.feePayer,n.instructions=t.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures}else n=Vr.populate(t),n._message=n._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(n.nonceInfo&&s)n.sign(...s);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(n.lastValidBlockHeight=e.lastValidBlockHeight,n.recentBlockhash=e.blockhash,!s)break;if(n.sign(...s),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const o=n._compile(),a=o.serialize(),c=n._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:o.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}s&&(u.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(u.innerInstructions=e.innerInstructions);const l=[c,u],h=te(await this._rpcRequest("simulateTransaction",l),oi);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new nn({action:"simulate",signature:"",transactionMessage:h.error.message,logs:t})}return h.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const r=t.serialize();return await this.sendRawTransaction(r,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const n=e;if(t.nonceInfo)t.sign(...n);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=r.lastValidBlockHeight,t.recentBlockhash=r.blockhash,t.sign(...n),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=lr(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,i=!0===n?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[t,r],o=te(await this._rpcRequest("sendTransaction",s),Es);if("error"in o){let t;throw"data"in o.error&&(t=o.error.data.logs),new nn({action:n?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:t})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(e),()=>{n.delete(e),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(t,{...r,state:"subscribing"});const e=await this._rpcWebSocket.call(i,n);this._setSubscription(t,{...r,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!e())return;this._setSubscription(t,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(t,{...r,state:"unsubscribing"}),this._setSubscription(t,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!e())return;return this._setSubscription(t,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(t,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(t){console.error(t)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=te(t,Ti);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,n=In([t.method,e]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const e=this._subscriptionsByHash[n];Nr(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:n,config:i}=jn(r),s=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=te(t,Ri);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){const{commitment:i,config:s}=jn(r),o=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s||(n?{filters:Fn(n)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const n=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=te(t,Ss);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=te(t,Ni);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=te(t,Li);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){const i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=te(t,Di);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],n,void 0,i),o=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(o)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=te(t,Ui);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Is{constructor(t){this._keypair=void 0,this._keypair=t??sr()}static generate(){return new Is(sr())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),n=or(e);for(let t=0;t<32;t++)if(r[t]!==n[t])throw new Error("provided secretKey is invalid")}return new Is({publicKey:r,secretKey:t})}static fromSeed(t){const e=or(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Is({publicKey:e,secretKey:r})}get publicKey(){return new br(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ms=Object.freeze({CreateLookupTable:{index:0,layout:Ht.w3([Ht.DH("instruction"),gn("recentSlot"),Ht.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ht.w3([Ht.DH("instruction")])},ExtendLookupTable:{index:2,layout:Ht.w3([Ht.DH("instruction"),gn(),Ht.O6(Mr(),Ht.cY(Ht.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ht.w3([Ht.DH("instruction")])},CloseLookupTable:{index:4,layout:Ht.w3([Ht.DH("instruction")])}});class Cs{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Ht.DH("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Ms))if(n.index==e){r=t;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=ln(Ms.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=ln(Ms.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new br(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Ts.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class Ts{constructor(){}static createLookupTable(t){const[e,r]=br.findProgramAddressSync([t.authority.toBuffer(),(0,Wt.Bq)(BigInt(t.recentSlot),8)],this.programId),n=un(Ms.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:bn.programId,isSigner:!1,isWritable:!1}];return[new Wr({programId:this.programId,keys:i,data:n}),e]}static freezeLookupTable(t){const e=un(Ms.FreezeLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Wr({programId:this.programId,keys:r,data:e})}static extendLookupTable(t){const e=un(Ms.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&r.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:bn.programId,isSigner:!1,isWritable:!1}),new Wr({programId:this.programId,keys:r,data:e})}static deactivateLookupTable(t){const e=un(Ms.DeactivateLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Wr({programId:this.programId,keys:r,data:e})}static closeLookupTable(t){const e=un(Ms.CloseLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Wr({programId:this.programId,keys:r,data:e})}}Ts.programId=new br("AddressLookupTab1e1111111111111111111111111");class Os{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Ht.u8("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Rs))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:r}=ln(Rs.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=ln(Rs.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=ln(Rs.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=ln(Rs.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(Ps.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Rs=Object.freeze({RequestUnits:{index:0,layout:Ht.w3([Ht.u8("instruction"),Ht.DH("units"),Ht.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Ht.w3([Ht.u8("instruction"),Ht.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Ht.w3([Ht.u8("instruction"),Ht.DH("units")])},SetComputeUnitPrice:{index:3,layout:Ht.w3([Ht.u8("instruction"),gn("microLamports")])}});class Ps{constructor(){}static requestUnits(t){const e=un(Rs.RequestUnits,t);return new Wr({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=un(Rs.RequestHeapFrame,t);return new Wr({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=un(Rs.SetComputeUnitLimit,t);return new Wr({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=un(Rs.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new Wr({keys:[],programId:this.programId,data:e})}}Ps.programId=new br("ComputeBudget111111111111111111111111111111");const Ns=Ht.w3([Ht.u8("numSignatures"),Ht.u8("padding"),Ht.NX("signatureOffset"),Ht.NX("signatureInstructionIndex"),Ht.NX("publicKeyOffset"),Ht.NX("publicKeyInstructionIndex"),Ht.NX("messageDataOffset"),Ht.NX("messageDataSize"),Ht.NX("messageInstructionIndex")]);class Bs{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:s}=t;Nr(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),Nr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=Ns.span,a=o+e.length,c=a+n.length,u=i.Buffer.alloc(c+r.length),l=null==s?65535:s;return Ns.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(e,o),u.fill(n,a),u.fill(r,c),new Wr({keys:[],programId:Bs.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Nr(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Is.fromSecretKey(e),i=t.publicKey.toBytes(),s=cr(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}Bs.programId=new br("Ed25519SigVerify111111111111111111111111111"),nr.utils.isValidPrivateKey;const Ls=nr.getPublicKey,Ds=Ht.w3([Ht.u8("numSignatures"),Ht.NX("signatureOffset"),Ht.u8("signatureInstructionIndex"),Ht.NX("ethAddressOffset"),Ht.u8("ethAddressInstructionIndex"),Ht.NX("messageDataOffset"),Ht.NX("messageDataSize"),Ht.u8("messageInstructionIndex"),Ht.av(20,"ethAddress"),Ht.av(64,"signature"),Ht.u8("recoveryId")]);class Us{constructor(){}static publicKeyToEthAddress(t){Nr(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from(je(lr(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:s}=t;return Us.createInstructionWithEthAddress({ethAddress:Us.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:s,instructionIndex:o=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,Nr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+n.length+1,l=i.Buffer.alloc(Ds.span+r.length);return Ds.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:o,signature:lr(n),ethAddress:lr(a),recoveryId:s},l),l.fill(lr(r),Ds.span),new Wr({keys:[],programId:Us.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Nr(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=lr(e),s=Ls(t,!1).slice(1),o=i.Buffer.from(je(lr(r))),[a,c]=((t,e)=>{const r=nr.sign(t,e);return[r.toCompactRawBytes(),r.recovery]})(o,t);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}var js;Us.programId=new br("KeccakSecp256k11111111111111111111111111111");const Fs=new br("StakeConfig11111111111111111111111111111111");class zs{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class qs{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}js=qs,qs.default=new js(0,0,br.default);class Hs{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Ht.DH("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Ws))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:r}=ln(Ws.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new zs(new br(e.staker),new br(e.withdrawer)),lockup:new qs(r.unixTimestamp,r.epoch,new br(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),ln(Ws.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:r}=ln(Ws.Authorize,t.data),n={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new br(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(n.custodianPubkey=t.keys[3].pubkey),n}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=ln(Ws.AuthorizeWithSeed,t.data),s={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:n,authorityOwner:new br(i),newAuthorizedPubkey:new br(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=ln(Ws.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),ln(Ws.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=ln(Ws.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),ln(Ws.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals($s.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Ws=Object.freeze({Initialize:{index:0,layout:Ht.w3([Ht.DH("instruction"),((t="authorized")=>Ht.w3([Mr("staker"),Mr("withdrawer")],t))(),((t="lockup")=>Ht.w3([Ht.Wg("unixTimestamp"),Ht.Wg("epoch"),Mr("custodian")],t))()])},Authorize:{index:1,layout:Ht.w3([Ht.DH("instruction"),Mr("newAuthorized"),Ht.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Ht.w3([Ht.DH("instruction")])},Split:{index:3,layout:Ht.w3([Ht.DH("instruction"),Ht.Wg("lamports")])},Withdraw:{index:4,layout:Ht.w3([Ht.DH("instruction"),Ht.Wg("lamports")])},Deactivate:{index:5,layout:Ht.w3([Ht.DH("instruction")])},Merge:{index:7,layout:Ht.w3([Ht.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Ht.w3([Ht.DH("instruction"),Mr("newAuthorized"),Ht.DH("stakeAuthorizationType"),Tr("authoritySeed"),Mr("authorityOwner")])}}),Vs=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class $s{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,i=n||qs.default,s=un(Ws.Initialize,{authorized:{staker:lr(r.staker.toBuffer()),withdrawer:lr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:lr(i.custodian.toBuffer())}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Wr(o)}static createAccountWithSeed(t){const e=new Vr;e.add(bn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){const e=new Vr;e.add(bn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=un(Ws.Delegate);return(new Vr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:Fs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=t,o=un(Ws.Authorize,{newAuthorized:lr(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Gr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Vr).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=t,c=un(Ws.AuthorizeWithSeed,{newAuthorized:lr(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:lr(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Gr,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Vr).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,s=un(Ws.Split,{lamports:i});return new Wr({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(t,e){const r=new Vr;return r.add(bn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=t,c=new Vr;return c.add(bn.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),e&&e>0&&c.add(bn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=un(Ws.Merge);return(new Vr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=t,o=un(Ws.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:rn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Vr).add({keys:a,programId:this.programId,data:o})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=un(Ws.Deactivate);return(new Vr).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}$s.programId=new br("Stake11111111111111111111111111111111111111"),$s.space=200;class Ks{constructor(t,e,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=n}}class Gs{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Ht.DH("instruction").decode(t.data);let r;for(const[t,n]of Object.entries(Ys))if(n.index==e){r=t;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=ln(Ys.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Ks(new br(e.nodePubkey),new br(e.authorizedVoter),new br(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:r}=ln(Ys.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new br(e),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=ln(Ys.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new br(e),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new br(n),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=ln(Ys.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Js.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Ys=Object.freeze({InitializeAccount:{index:0,layout:Ht.w3([Ht.DH("instruction"),((t="voteInit")=>Ht.w3([Mr("nodePubkey"),Mr("authorizedVoter"),Mr("authorizedWithdrawer"),Ht.u8("commission")],t))()])},Authorize:{index:1,layout:Ht.w3([Ht.DH("instruction"),Mr("newAuthorized"),Ht.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Ht.w3([Ht.DH("instruction"),Ht.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ht.w3([Ht.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Ht.w3([Ht.DH("instruction"),((t="voteAuthorizeWithSeedArgs")=>Ht.w3([Ht.DH("voteAuthorizationType"),Mr("currentAuthorityDerivedKeyOwnerPubkey"),Tr("currentAuthorityDerivedKeySeed"),Mr("newAuthorized")],t))()])}}),Zs=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Js{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=un(Ys.InitializeAccount,{voteInit:{nodePubkey:lr(n.nodePubkey.toBuffer()),authorizedVoter:lr(n.authorizedVoter.toBuffer()),authorizedWithdrawer:lr(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Wr(s)}static createAccount(t){const e=new Vr;return e.add(bn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,s=un(Ys.Authorize,{newAuthorized:lr(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Vr).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=t,a=un(Ys.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:lr(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:lr(i.toBuffer()),voteAuthorizationType:s.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Vr).add({keys:c,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,s=un(Ys.Withdraw,{lamports:n}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Vr).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Js.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:n}=t,i=un(Ys.UpdateValidatorIdentity),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Vr).add({keys:s,programId:this.programId,data:i})}}Js.programId=new br("Vote111111111111111111111111111111111111111"),Js.space=3762;const Qs=new br("Va1idator1nfo111111111111111111111111111111"),Xs=pe({name:de(),website:le(de()),details:le(de()),iconUrl:le(de()),keybaseUsername:le(de())});class to{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==Rr(e))return null;const r=[];for(let t=0;t<2;t++){const t=new br(Ur(e,0,mr)),n=1===Dr(e);r.push({publicKey:t,isSigner:n})}if(r[0].publicKey.equals(Qs)&&r[1].isSigner){const t=Tr().decode(i.Buffer.from(e)),n=JSON.parse(t);return Xt(n,Xs),new to(r[1].publicKey,n)}return null}}const eo=new br("Vote111111111111111111111111111111111111111"),ro=Ht.w3([Mr("nodePubkey"),Mr("authorizedWithdrawer"),Ht.u8("commission"),Ht.I0(),Ht.O6(Ht.w3([Ht.I0("slot"),Ht.DH("confirmationCount")]),Ht.cY(Ht.DH(),-8),"votes"),Ht.u8("rootSlotValid"),Ht.I0("rootSlot"),Ht.I0(),Ht.O6(Ht.w3([Ht.I0("epoch"),Mr("authorizedVoter")]),Ht.cY(Ht.DH(),-8),"authorizedVoters"),Ht.w3([Ht.O6(Ht.w3([Mr("authorizedPubkey"),Ht.I0("epochOfLastAuthorizedSwitch"),Ht.I0("targetEpoch")]),32,"buf"),Ht.I0("idx"),Ht.u8("isEmpty")],"priorVoters"),Ht.I0(),Ht.O6(Ht.w3([Ht.I0("epoch"),Ht.I0("credits"),Ht.I0("prevCredits")]),Ht.cY(Ht.DH(),-8),"epochCredits"),Ht.w3([Ht.I0("slot"),Ht.I0("timestamp")],"lastTimestamp")]);class no{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=ro.decode(lr(t),4);let r=e.rootSlot;return e.rootSlotValid||(r=null),new no({nodePubkey:new br(e.nodePubkey),authorizedWithdrawer:new br(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:r,authorizedVoters:e.authorizedVoters.map(io),priorVoters:oo(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function io({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new br(t)}}function so({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new br(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function oo({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(so),...t.slice(0,e).map(so)]}const ao={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function co(t,e){const r=!1===e?"http":"https";if(!t)return ao[r].devnet;const n=ao[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function uo(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),c=s&&s.commitment,u=i?t.confirmTransaction(i,c):t.confirmTransaction(a,c),l=(await u).value;if(l.err){if(null!=a)throw new nn({action:o?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`)}return a}const lo=1e9},2900:(t,e,r)=>{"use strict";e.I0=e.DH=e.NX=e.u8=e.cY=void 0,e.av=e.O6=e.w3=e.Wg=void 0;const n=r(8287);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class o{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class c extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(t,e=0,r){if(!(t instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class l extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntLE(t,r,this.span),this.span}}class h extends o{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntBE(t,r,this.span),this.span}}const d=Math.pow(2,32);function f(t){const e=Math.floor(t/d);return{hi32:e,lo32:t-e*d}}function p(t,e){return t*d+e}class g extends o{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return p(r.readUInt32LE(e+4),n)}encode(t,e,r=0){const n=f(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class m extends o{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return p(r.readInt32LE(e+4),n)}encode(t,e,r=0){const n=f(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class y extends o{constructor(t,e,r){if(!(t instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof c)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let n=0,i=this.count;for(i instanceof c&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof c&&this.count.encode(t.length,e,r),i}}class b extends o{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e=0){i(t);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const n=r;let i=0,s=0;for(const n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(s=n.encode(i,e,r),0>o&&(o=n.getSpan(e,r)))}i=r,r+=o}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class w extends o{constructor(t,e){if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof c||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),s(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof c&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");const i=s(t);return s(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,e,r),n}}e.cY=(t,e,r)=>new u(t,e,r),e.u8=t=>new l(1,t),e.NX=t=>new l(2,t),e.DH=t=>new l(4,t),e.I0=t=>new g(t),e.Wg=t=>new m(t),e.w3=(t,e,r)=>new b(t,e,r),e.O6=(t,e,r)=>new y(t,e,r),e.av=(t,e)=>new w(t,e)},972:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4512);function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function s(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function o(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function c(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function u(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function l(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function h(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),l(t/4294967296>>>0,e,r),l(t>>>0,e,r+4),e}function f(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),h(t>>>0,e,r),h(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=i,e.writeInt16BE=i,e.writeUint16LE=s,e.writeInt16LE=s,e.readInt32BE=o,e.readUint32BE=a,e.readInt32LE=c,e.readUint32LE=u,e.writeUint32BE=l,e.writeInt32BE=l,e.writeUint32LE=h,e.writeInt32LE=h,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=o(t,e),n=o(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=u(t,e);return 4294967296*u(t,e+4)+r},e.writeUint64BE=d,e.writeInt64BE=d,e.writeUint64LE=f,e.writeInt64LE=f,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n},e.writeUintBE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,o=t/8+i-1;o>=i;o--)r[o]=e/s&255,s*=256;return r},e.writeUintLE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+t/8;o++)r[o]=e/s&255,s*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},9918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(972),i=r(6228);function s(t,e,r){for(var i=1634760805,s=857760878,o=2036477234,a=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],m=e[3]<<24|e[2]<<16|e[1]<<8|e[0],y=e[7]<<24|e[6]<<16|e[5]<<8|e[4],b=e[11]<<24|e[10]<<16|e[9]<<8|e[8],w=e[15]<<24|e[14]<<16|e[13]<<8|e[12],v=i,_=s,E=o,A=a,S=c,x=u,k=l,I=h,M=d,C=f,T=p,O=g,R=m,P=y,N=b,B=w,L=0;L<20;L+=2)S=(S^=M=M+(R=(R^=v=v+S|0)>>>16|R<<16)|0)>>>20|S<<12,x=(x^=C=C+(P=(P^=_=_+x|0)>>>16|P<<16)|0)>>>20|x<<12,k=(k^=T=T+(N=(N^=E=E+k|0)>>>16|N<<16)|0)>>>20|k<<12,I=(I^=O=O+(B=(B^=A=A+I|0)>>>16|B<<16)|0)>>>20|I<<12,k=(k^=T=T+(N=(N^=E=E+k|0)>>>24|N<<8)|0)>>>25|k<<7,I=(I^=O=O+(B=(B^=A=A+I|0)>>>24|B<<8)|0)>>>25|I<<7,x=(x^=C=C+(P=(P^=_=_+x|0)>>>24|P<<8)|0)>>>25|x<<7,S=(S^=M=M+(R=(R^=v=v+S|0)>>>24|R<<8)|0)>>>25|S<<7,x=(x^=T=T+(B=(B^=v=v+x|0)>>>16|B<<16)|0)>>>20|x<<12,k=(k^=O=O+(R=(R^=_=_+k|0)>>>16|R<<16)|0)>>>20|k<<12,I=(I^=M=M+(P=(P^=E=E+I|0)>>>16|P<<16)|0)>>>20|I<<12,S=(S^=C=C+(N=(N^=A=A+S|0)>>>16|N<<16)|0)>>>20|S<<12,I=(I^=M=M+(P=(P^=E=E+I|0)>>>24|P<<8)|0)>>>25|I<<7,S=(S^=C=C+(N=(N^=A=A+S|0)>>>24|N<<8)|0)>>>25|S<<7,k=(k^=O=O+(R=(R^=_=_+k|0)>>>24|R<<8)|0)>>>25|k<<7,x=(x^=T=T+(B=(B^=v=v+x|0)>>>24|B<<8)|0)>>>25|x<<7;n.writeUint32LE(v+i|0,t,0),n.writeUint32LE(_+s|0,t,4),n.writeUint32LE(E+o|0,t,8),n.writeUint32LE(A+a|0,t,12),n.writeUint32LE(S+c|0,t,16),n.writeUint32LE(x+u|0,t,20),n.writeUint32LE(k+l|0,t,24),n.writeUint32LE(I+h|0,t,28),n.writeUint32LE(M+d|0,t,32),n.writeUint32LE(C+f|0,t,36),n.writeUint32LE(T+p|0,t,40),n.writeUint32LE(O+g|0,t,44),n.writeUint32LE(R+m|0,t,48),n.writeUint32LE(P+y|0,t,52),n.writeUint32LE(N+b|0,t,56),n.writeUint32LE(B+w|0,t,60)}function o(t,e,r,n,o){if(void 0===o&&(o=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var c,u;if(0===o){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(c=new Uint8Array(16)).length-e.length,c.set(e,u)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");c=e,u=o}for(var l=new Uint8Array(64),h=0;h<r.length;h+=64){s(l,c,t);for(var d=h;d<h+64&&d<r.length;d++)n[d]=r[d]^l[d-h];a(c,0,u)}return i.wipe(l),0===o&&i.wipe(c),n}function a(t,e,r){for(var n=1;r--;)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=o,e.stream=function(t,e,r,n){return void 0===n&&(n=0),i.wipe(r),o(t,e,r,r,n)}},1612:(t,e,r)=>{"use strict";var n=r(9918),i=r(7360),s=r(6228),o=r(972),a=r(6452);e.J4=32,e.PX=12,e.iW=16;var c=new Uint8Array(16),u=function(){function t(t){if(this.nonceLength=e.PX,this.tagLength=e.iW,t.length!==e.J4)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(t,o.length-t.length);var a=new Uint8Array(32);n.stream(this._key,o,a,4);var c,u=e.length+this.tagLength;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return n.streamXOR(this._key,o,e,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),r),s.wipe(o),c},t.prototype.open=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(t,o.length-t.length);var c=new Uint8Array(32);n.stream(this._key,o,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,e.subarray(0,e.length-this.tagLength),r),!a.equal(u,e.subarray(e.length-this.tagLength,e.length)))return null;var l,h=e.length-this.tagLength;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");l=i}else l=new Uint8Array(h);return n.streamXOR(this._key,o,e.subarray(0,e.length-this.tagLength),l,4),s.wipe(o),l},t.prototype.clean=function(){return s.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,n){var a=new i.Poly1305(e);n&&(a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var u=new Uint8Array(8);n&&o.writeUint64LE(n.length,u),a.update(u),o.writeUint64LE(r.length,u),a.update(u);for(var l=a.digest(),h=0;h<l.length;h++)t[h]=l[h];a.clean(),s.wipe(l),s.wipe(u)},t}();e.g6=u},6452:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},4904:(t,e,r)=>{"use strict";e._S=e.K=e.TP=e.wE=e.Ee=void 0;r(7052);const n=r(4974);r(6228);function i(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Ee=64,e.wE=64,e.TP=32,new Uint8Array(32)[0]=9;const s=i(),o=i([1]),a=(i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(t,e){for(let r=0;r<16;r++)t[r]=0|e[r]}function h(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function d(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(t[r]^e[r]);t[r]^=i,e[r]^=i}}function f(t,e){const r=i(),n=i();for(let t=0;t<16;t++)n[t]=e[t];h(n),h(n),h(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,d(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}function p(t){const e=new Uint8Array(32);return f(e,t),1&e[0]}function g(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function m(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function y(t,e,r){let n,i,s=0,o=0,a=0,c=0,u=0,l=0,h=0,d=0,f=0,p=0,g=0,m=0,y=0,b=0,w=0,v=0,_=0,E=0,A=0,S=0,x=0,k=0,I=0,M=0,C=0,T=0,O=0,R=0,P=0,N=0,B=0,L=r[0],D=r[1],U=r[2],j=r[3],F=r[4],z=r[5],q=r[6],H=r[7],W=r[8],V=r[9],$=r[10],K=r[11],G=r[12],Y=r[13],Z=r[14],J=r[15];n=e[0],s+=n*L,o+=n*D,a+=n*U,c+=n*j,u+=n*F,l+=n*z,h+=n*q,d+=n*H,f+=n*W,p+=n*V,g+=n*$,m+=n*K,y+=n*G,b+=n*Y,w+=n*Z,v+=n*J,n=e[1],o+=n*L,a+=n*D,c+=n*U,u+=n*j,l+=n*F,h+=n*z,d+=n*q,f+=n*H,p+=n*W,g+=n*V,m+=n*$,y+=n*K,b+=n*G,w+=n*Y,v+=n*Z,_+=n*J,n=e[2],a+=n*L,c+=n*D,u+=n*U,l+=n*j,h+=n*F,d+=n*z,f+=n*q,p+=n*H,g+=n*W,m+=n*V,y+=n*$,b+=n*K,w+=n*G,v+=n*Y,_+=n*Z,E+=n*J,n=e[3],c+=n*L,u+=n*D,l+=n*U,h+=n*j,d+=n*F,f+=n*z,p+=n*q,g+=n*H,m+=n*W,y+=n*V,b+=n*$,w+=n*K,v+=n*G,_+=n*Y,E+=n*Z,A+=n*J,n=e[4],u+=n*L,l+=n*D,h+=n*U,d+=n*j,f+=n*F,p+=n*z,g+=n*q,m+=n*H,y+=n*W,b+=n*V,w+=n*$,v+=n*K,_+=n*G,E+=n*Y,A+=n*Z,S+=n*J,n=e[5],l+=n*L,h+=n*D,d+=n*U,f+=n*j,p+=n*F,g+=n*z,m+=n*q,y+=n*H,b+=n*W,w+=n*V,v+=n*$,_+=n*K,E+=n*G,A+=n*Y,S+=n*Z,x+=n*J,n=e[6],h+=n*L,d+=n*D,f+=n*U,p+=n*j,g+=n*F,m+=n*z,y+=n*q,b+=n*H,w+=n*W,v+=n*V,_+=n*$,E+=n*K,A+=n*G,S+=n*Y,x+=n*Z,k+=n*J,n=e[7],d+=n*L,f+=n*D,p+=n*U,g+=n*j,m+=n*F,y+=n*z,b+=n*q,w+=n*H,v+=n*W,_+=n*V,E+=n*$,A+=n*K,S+=n*G,x+=n*Y,k+=n*Z,I+=n*J,n=e[8],f+=n*L,p+=n*D,g+=n*U,m+=n*j,y+=n*F,b+=n*z,w+=n*q,v+=n*H,_+=n*W,E+=n*V,A+=n*$,S+=n*K,x+=n*G,k+=n*Y,I+=n*Z,M+=n*J,n=e[9],p+=n*L,g+=n*D,m+=n*U,y+=n*j,b+=n*F,w+=n*z,v+=n*q,_+=n*H,E+=n*W,A+=n*V,S+=n*$,x+=n*K,k+=n*G,I+=n*Y,M+=n*Z,C+=n*J,n=e[10],g+=n*L,m+=n*D,y+=n*U,b+=n*j,w+=n*F,v+=n*z,_+=n*q,E+=n*H,A+=n*W,S+=n*V,x+=n*$,k+=n*K,I+=n*G,M+=n*Y,C+=n*Z,T+=n*J,n=e[11],m+=n*L,y+=n*D,b+=n*U,w+=n*j,v+=n*F,_+=n*z,E+=n*q,A+=n*H,S+=n*W,x+=n*V,k+=n*$,I+=n*K,M+=n*G,C+=n*Y,T+=n*Z,O+=n*J,n=e[12],y+=n*L,b+=n*D,w+=n*U,v+=n*j,_+=n*F,E+=n*z,A+=n*q,S+=n*H,x+=n*W,k+=n*V,I+=n*$,M+=n*K,C+=n*G,T+=n*Y,O+=n*Z,R+=n*J,n=e[13],b+=n*L,w+=n*D,v+=n*U,_+=n*j,E+=n*F,A+=n*z,S+=n*q,x+=n*H,k+=n*W,I+=n*V,M+=n*$,C+=n*K,T+=n*G,O+=n*Y,R+=n*Z,P+=n*J,n=e[14],w+=n*L,v+=n*D,_+=n*U,E+=n*j,A+=n*F,S+=n*z,x+=n*q,k+=n*H,I+=n*W,M+=n*V,C+=n*$,T+=n*K,O+=n*G,R+=n*Y,P+=n*Z,N+=n*J,n=e[15],v+=n*L,_+=n*D,E+=n*U,A+=n*j,S+=n*F,x+=n*z,k+=n*q,I+=n*H,M+=n*W,C+=n*V,T+=n*$,O+=n*K,R+=n*G,P+=n*Y,N+=n*Z,B+=n*J,s+=38*_,o+=38*E,a+=38*A,c+=38*S,u+=38*x,l+=38*k,h+=38*I,d+=38*M,f+=38*C,p+=38*T,g+=38*O,m+=38*R,y+=38*P,b+=38*N,w+=38*B,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=m,t[12]=y,t[13]=b,t[14]=w,t[15]=v}function b(t,e){y(t,e,e)}function w(t,e){const r=i(),n=i(),s=i(),o=i(),c=i(),u=i(),l=i(),h=i(),d=i();m(r,t[1],t[0]),m(d,e[1],e[0]),y(r,r,d),g(n,t[0],t[1]),g(d,e[0],e[1]),y(n,n,d),y(s,t[3],e[3]),y(s,s,a),y(o,t[2],e[2]),g(o,o,o),m(c,n,r),m(u,o,s),g(l,o,s),g(h,n,r),y(t[0],c,u),y(t[1],h,l),y(t[2],l,u),y(t[3],c,h)}function v(t,e,r){for(let n=0;n<4;n++)d(t[n],e[n],r)}function _(t,e){const r=i(),n=i(),s=i();(function(t,e){const r=i();let n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)b(r,r),2!==n&&4!==n&&y(r,r,e);for(n=0;n<16;n++)t[n]=r[n]})(s,e[2]),y(r,e[0],s),y(n,e[1],s),f(t,n),t[31]^=p(r)<<7}function E(t,e){const r=[i(),i(),i(),i()];l(r[0],c),l(r[1],u),l(r[2],o),y(r[3],c,u),function(t,e,r){l(t[0],s),l(t[1],o),l(t[2],o),l(t[3],s);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;v(t,e,i),w(e,t),w(t,t),v(t,e,i)}}(t,r,e)}e.K=function(t){if(t.length!==e.TP)throw new Error(`ed25519: seed must be ${e.TP} bytes`);const r=(0,n.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;const s=new Uint8Array(32),o=[i(),i(),i(),i()];E(o,r),_(s,o);const a=new Uint8Array(64);return a.set(t),a.set(s,32),{publicKey:s,secretKey:a}};const A=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function S(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*A[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*A[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*A[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function x(t){const e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let e=0;e<64;e++)t[e]=0;S(t,e)}e._S=function(t,e){const r=new Float64Array(64),s=[i(),i(),i(),i()],o=(0,n.hash)(t.subarray(0,32));o[0]&=248,o[31]&=127,o[31]|=64;const a=new Uint8Array(64);a.set(o.subarray(32),32);const c=new n.SHA512;c.update(a.subarray(32)),c.update(e);const u=c.digest();c.clean(),x(u),E(s,u),_(a,s),c.reset(),c.update(a.subarray(0,32)),c.update(t.subarray(32)),c.update(e);const l=c.digest();x(l);for(let t=0;t<32;t++)r[t]=u[t];for(let t=0;t<32;t++)for(let e=0;e<32;e++)r[t+e]+=l[t]*o[e];return S(a.subarray(32),r),a}},2670:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},6804:(t,e,r)=>{"use strict";var n=r(2412),i=r(6228),s=function(){function t(t,e,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var s=n.hmac(this._hash,r,e);this._hmac=new n.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},t}();e.i=s},2412:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2670),i=r(6452),s=r(6228),o=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var i=0;i<r.length;i++)r[i]^=54;for(this._inner.update(r),i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return t.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=o,e.hmac=function(t,e,r){var n=new o(t,e);n.update(r);var i=n.digest();return n.clean(),i},e.equal=i.equal},4512:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},7360:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6452),i=r(6228);e.DIGEST_LENGTH=16;var s=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var n=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=t[4]|t[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var s=t[6]|t[7]<<8;this._r[3]=8191&(i>>>7|s<<9);var o=t[8]|t[9]<<8;this._r[4]=255&(s>>>4|o<<12),this._r[5]=o>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var c=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var u=t[14]|t[15]<<8;this._r[8]=8191&(c>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],g=this._r[1],m=this._r[2],y=this._r[3],b=this._r[4],w=this._r[5],v=this._r[6],_=this._r[7],E=this._r[8],A=this._r[9];r>=16;){var S=t[e+0]|t[e+1]<<8;i+=8191&S;var x=t[e+2]|t[e+3]<<8;s+=8191&(S>>>13|x<<3);var k=t[e+4]|t[e+5]<<8;o+=8191&(x>>>10|k<<6);var I=t[e+6]|t[e+7]<<8;a+=8191&(k>>>7|I<<9);var M=t[e+8]|t[e+9]<<8;c+=8191&(I>>>4|M<<12),u+=M>>>1&8191;var C=t[e+10]|t[e+11]<<8;l+=8191&(M>>>14|C<<2);var T=t[e+12]|t[e+13]<<8;h+=8191&(C>>>11|T<<5);var O=t[e+14]|t[e+15]<<8,R=0,P=R;P+=i*p,P+=s*(5*A),P+=o*(5*E),P+=a*(5*_),R=(P+=c*(5*v))>>>13,P&=8191,P+=u*(5*w),P+=l*(5*b),P+=h*(5*y),P+=(d+=8191&(T>>>8|O<<8))*(5*m);var N=R+=(P+=(f+=O>>>5|n)*(5*g))>>>13;N+=i*g,N+=s*p,N+=o*(5*A),N+=a*(5*E),R=(N+=c*(5*_))>>>13,N&=8191,N+=u*(5*v),N+=l*(5*w),N+=h*(5*b),N+=d*(5*y),R+=(N+=f*(5*m))>>>13,N&=8191;var B=R;B+=i*m,B+=s*g,B+=o*p,B+=a*(5*A),R=(B+=c*(5*E))>>>13,B&=8191,B+=u*(5*_),B+=l*(5*v),B+=h*(5*w),B+=d*(5*b);var L=R+=(B+=f*(5*y))>>>13;L+=i*y,L+=s*m,L+=o*g,L+=a*p,R=(L+=c*(5*A))>>>13,L&=8191,L+=u*(5*E),L+=l*(5*_),L+=h*(5*v),L+=d*(5*w);var D=R+=(L+=f*(5*b))>>>13;D+=i*b,D+=s*y,D+=o*m,D+=a*g,R=(D+=c*p)>>>13,D&=8191,D+=u*(5*A),D+=l*(5*E),D+=h*(5*_),D+=d*(5*v);var U=R+=(D+=f*(5*w))>>>13;U+=i*w,U+=s*b,U+=o*y,U+=a*m,R=(U+=c*g)>>>13,U&=8191,U+=u*p,U+=l*(5*A),U+=h*(5*E),U+=d*(5*_);var j=R+=(U+=f*(5*v))>>>13;j+=i*v,j+=s*w,j+=o*b,j+=a*y,R=(j+=c*m)>>>13,j&=8191,j+=u*g,j+=l*p,j+=h*(5*A),j+=d*(5*E);var F=R+=(j+=f*(5*_))>>>13;F+=i*_,F+=s*v,F+=o*w,F+=a*b,R=(F+=c*y)>>>13,F&=8191,F+=u*m,F+=l*g,F+=h*p,F+=d*(5*A);var z=R+=(F+=f*(5*E))>>>13;z+=i*E,z+=s*_,z+=o*v,z+=a*w,R=(z+=c*b)>>>13,z&=8191,z+=u*y,z+=l*m,z+=h*g,z+=d*p;var q=R+=(z+=f*(5*A))>>>13;q+=i*A,q+=s*E,q+=o*_,q+=a*v,R=(q+=c*w)>>>13,q&=8191,q+=u*b,q+=l*y,q+=h*m,q+=d*g,i=P=8191&(R=(R=((R+=(q+=f*p)>>>13)<<2)+R|0)+(P&=8191)|0),s=N+=R>>>=13,o=B&=8191,a=L&=8191,c=D&=8191,u=U&=8191,l=j&=8191,h=F&=8191,d=z&=8191,f=q&=8191,e+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=h,this._h[8]=d,this._h[9]=f},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,n,i,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this._h[s]=this._h[s]&n|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,s=1;s<8;s++)i=(this._h[s]+this._pad[s]|0)+(i>>>16)|0,this._h[s]=65535&i;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,n=t.length;if(this._leftover){(e=16-this._leftover)>n&&(e=n);for(var i=0;i<e;i++)this._buffer[this._leftover+i]=t[r+i];if(n-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(e=n-n%16,this._blocks(t,r,e),r+=e,n-=e),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=t[r+i];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=s,e.oneTimeAuth=function(t,e){var r=new s(t);r.update(e);var n=r.digest();return r.clean(),n},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&n.equal(t,r)}},7052:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const n=r(5492),i=r(972),s=r(6228);function o(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=o,e.randomUint32=function(t=e.defaultRandomSource){const r=o(4,t),n=(0,i.readUint32LE)(r);return(0,s.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(t,r=a,n=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const c=r.length,u=256-256%c;for(;t>0;){const e=o(Math.ceil(256*t/u),n);for(let n=0;n<e.length&&t>0;n++){const s=e[n];s<u&&(i+=r.charAt(s%c),t--)}(0,s.wipe)(e)}return i}e.randomString=c,e.randomStringForEntropy=function(t,r=a,n=e.defaultRandomSource){return c(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},7029:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0,e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},5821:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const n=r(6228);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(9432);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let t=0;t<r.length;t++)r[t]=e[t];return(0,n.wipe)(e),r}}},5492:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const n=r(7029),i=r(5821);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},204:(t,e,r)=>{"use strict";var n=r(972),i=r(6228);e.On=32,e.cS=64;var s=function(){function t(){this.digestLength=e.On,this.blockSize=e.cS,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=a(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,s=e<<3,o=e%64<56?64:128;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/4;c++)n.writeUint32BE(this._state[c],t,4*c);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.state),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.aD=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(t,e,r,i,s){for(;s>=64;){for(var a=e[0],c=e[1],u=e[2],l=e[3],h=e[4],d=e[5],f=e[6],p=e[7],g=0;g<16;g++){var m=i+4*g;t[g]=n.readUint32BE(r,m)}for(g=16;g<64;g++){var y=t[g-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,w=((y=t[g-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;t[g]=(b+t[g-7]|0)+(w+t[g-16]|0)}for(g=0;g<64;g++)b=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(o[g]+t[g]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0,p=f,f=d,d=h,h=l+b|0,l=u,u=c,c=a,a=b+w|0;e[0]+=a,e[1]+=c,e[2]+=u,e[3]+=l,e[4]+=h,e[5]+=d,e[6]+=f,e[7]+=p,i+=64,s-=64}return i}e.tW=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},4974:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(972),i=r(6228);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var s=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[n++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,s=e<<3,o=e%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/8;c++)n.writeUint32BE(this._stateHi[c],t,8*c),n.writeUint32BE(this._stateLo[c],t,8*c+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.stateHi),i.wipe(t.stateLo),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,i,s,a,c){for(var u,l,h,d,f,p,g,m,y=r[0],b=r[1],w=r[2],v=r[3],_=r[4],E=r[5],A=r[6],S=r[7],x=i[0],k=i[1],I=i[2],M=i[3],C=i[4],T=i[5],O=i[6],R=i[7];c>=128;){for(var P=0;P<16;P++){var N=8*P+a;t[P]=n.readUint32BE(s,N),e[P]=n.readUint32BE(s,N+4)}for(P=0;P<80;P++){var B,L,D=y,U=b,j=w,F=v,z=_,q=E,H=A,W=x,V=k,$=I,K=M,G=C,Y=T,Z=O;if(f=65535&(l=R),p=l>>>16,g=65535&(u=S),m=u>>>16,f+=65535&(l=(C>>>14|_<<18)^(C>>>18|_<<14)^(_>>>9|C<<23)),p+=l>>>16,g+=65535&(u=(_>>>14|C<<18)^(_>>>18|C<<14)^(C>>>9|_<<23)),m+=u>>>16,f+=65535&(l=C&T^~C&O),p+=l>>>16,g+=65535&(u=_&E^~_&A),m+=u>>>16,u=o[2*P],f+=65535&(l=o[2*P+1]),p+=l>>>16,g+=65535&u,m+=u>>>16,u=t[P%16],p+=(l=e[P%16])>>>16,g+=65535&u,m+=u>>>16,g+=(p+=(f+=65535&l)>>>16)>>>16,f=65535&(l=d=65535&f|p<<16),p=l>>>16,g=65535&(u=h=65535&g|(m+=g>>>16)<<16),m=u>>>16,f+=65535&(l=(x>>>28|y<<4)^(y>>>2|x<<30)^(y>>>7|x<<25)),p+=l>>>16,g+=65535&(u=(y>>>28|x<<4)^(x>>>2|y<<30)^(x>>>7|y<<25)),m+=u>>>16,p+=(l=x&k^x&I^k&I)>>>16,g+=65535&(u=y&b^y&w^b&w),m+=u>>>16,B=65535&(g+=(p+=(f+=65535&l)>>>16)>>>16)|(m+=g>>>16)<<16,L=65535&f|p<<16,f=65535&(l=K),p=l>>>16,g=65535&(u=F),m=u>>>16,p+=(l=d)>>>16,g+=65535&(u=h),m+=u>>>16,b=D,w=U,v=j,_=F=65535&(g+=(p+=(f+=65535&l)>>>16)>>>16)|(m+=g>>>16)<<16,E=z,A=q,S=H,y=B,k=W,I=V,M=$,C=K=65535&f|p<<16,T=G,O=Y,R=Z,x=L,P%16==15)for(N=0;N<16;N++)u=t[N],f=65535&(l=e[N]),p=l>>>16,g=65535&u,m=u>>>16,u=t[(N+9)%16],f+=65535&(l=e[(N+9)%16]),p+=l>>>16,g+=65535&u,m+=u>>>16,h=t[(N+1)%16],f+=65535&(l=((d=e[(N+1)%16])>>>1|h<<31)^(d>>>8|h<<24)^(d>>>7|h<<25)),p+=l>>>16,g+=65535&(u=(h>>>1|d<<31)^(h>>>8|d<<24)^h>>>7),m+=u>>>16,h=t[(N+14)%16],p+=(l=((d=e[(N+14)%16])>>>19|h<<13)^(h>>>29|d<<3)^(d>>>6|h<<26))>>>16,g+=65535&(u=(h>>>19|d<<13)^(d>>>29|h<<3)^h>>>6),m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,t[N]=65535&g|m<<16,e[N]=65535&f|p<<16}f=65535&(l=x),p=l>>>16,g=65535&(u=y),m=u>>>16,u=r[0],p+=(l=i[0])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[0]=y=65535&g|m<<16,i[0]=x=65535&f|p<<16,f=65535&(l=k),p=l>>>16,g=65535&(u=b),m=u>>>16,u=r[1],p+=(l=i[1])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[1]=b=65535&g|m<<16,i[1]=k=65535&f|p<<16,f=65535&(l=I),p=l>>>16,g=65535&(u=w),m=u>>>16,u=r[2],p+=(l=i[2])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[2]=w=65535&g|m<<16,i[2]=I=65535&f|p<<16,f=65535&(l=M),p=l>>>16,g=65535&(u=v),m=u>>>16,u=r[3],p+=(l=i[3])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[3]=v=65535&g|m<<16,i[3]=M=65535&f|p<<16,f=65535&(l=C),p=l>>>16,g=65535&(u=_),m=u>>>16,u=r[4],p+=(l=i[4])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[4]=_=65535&g|m<<16,i[4]=C=65535&f|p<<16,f=65535&(l=T),p=l>>>16,g=65535&(u=E),m=u>>>16,u=r[5],p+=(l=i[5])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[5]=E=65535&g|m<<16,i[5]=T=65535&f|p<<16,f=65535&(l=O),p=l>>>16,g=65535&(u=A),m=u>>>16,u=r[6],p+=(l=i[6])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[6]=A=65535&g|m<<16,i[6]=O=65535&f|p<<16,f=65535&(l=R),p=l>>>16,g=65535&(u=S),m=u>>>16,u=r[7],p+=(l=i[7])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(f+=65535&l)>>>16)>>>16)>>>16,r[7]=S=65535&g|m<<16,i[7]=R=65535&f|p<<16,a+=128,c-=128}return a}e.hash=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},6228:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},774:(t,e,r)=>{"use strict";e.Tc=e.TZ=e.wE=e.Xx=void 0;const n=r(7052),i=r(6228);function s(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Xx=32,e.wE=32;const o=new Uint8Array(32);o[0]=9;const a=s([56129,1]);function c(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function u(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(t[r]^e[r]);t[r]^=i,e[r]^=i}}function l(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function h(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function d(t,e,r){let n,i,s=0,o=0,a=0,c=0,u=0,l=0,h=0,d=0,f=0,p=0,g=0,m=0,y=0,b=0,w=0,v=0,_=0,E=0,A=0,S=0,x=0,k=0,I=0,M=0,C=0,T=0,O=0,R=0,P=0,N=0,B=0,L=r[0],D=r[1],U=r[2],j=r[3],F=r[4],z=r[5],q=r[6],H=r[7],W=r[8],V=r[9],$=r[10],K=r[11],G=r[12],Y=r[13],Z=r[14],J=r[15];n=e[0],s+=n*L,o+=n*D,a+=n*U,c+=n*j,u+=n*F,l+=n*z,h+=n*q,d+=n*H,f+=n*W,p+=n*V,g+=n*$,m+=n*K,y+=n*G,b+=n*Y,w+=n*Z,v+=n*J,n=e[1],o+=n*L,a+=n*D,c+=n*U,u+=n*j,l+=n*F,h+=n*z,d+=n*q,f+=n*H,p+=n*W,g+=n*V,m+=n*$,y+=n*K,b+=n*G,w+=n*Y,v+=n*Z,_+=n*J,n=e[2],a+=n*L,c+=n*D,u+=n*U,l+=n*j,h+=n*F,d+=n*z,f+=n*q,p+=n*H,g+=n*W,m+=n*V,y+=n*$,b+=n*K,w+=n*G,v+=n*Y,_+=n*Z,E+=n*J,n=e[3],c+=n*L,u+=n*D,l+=n*U,h+=n*j,d+=n*F,f+=n*z,p+=n*q,g+=n*H,m+=n*W,y+=n*V,b+=n*$,w+=n*K,v+=n*G,_+=n*Y,E+=n*Z,A+=n*J,n=e[4],u+=n*L,l+=n*D,h+=n*U,d+=n*j,f+=n*F,p+=n*z,g+=n*q,m+=n*H,y+=n*W,b+=n*V,w+=n*$,v+=n*K,_+=n*G,E+=n*Y,A+=n*Z,S+=n*J,n=e[5],l+=n*L,h+=n*D,d+=n*U,f+=n*j,p+=n*F,g+=n*z,m+=n*q,y+=n*H,b+=n*W,w+=n*V,v+=n*$,_+=n*K,E+=n*G,A+=n*Y,S+=n*Z,x+=n*J,n=e[6],h+=n*L,d+=n*D,f+=n*U,p+=n*j,g+=n*F,m+=n*z,y+=n*q,b+=n*H,w+=n*W,v+=n*V,_+=n*$,E+=n*K,A+=n*G,S+=n*Y,x+=n*Z,k+=n*J,n=e[7],d+=n*L,f+=n*D,p+=n*U,g+=n*j,m+=n*F,y+=n*z,b+=n*q,w+=n*H,v+=n*W,_+=n*V,E+=n*$,A+=n*K,S+=n*G,x+=n*Y,k+=n*Z,I+=n*J,n=e[8],f+=n*L,p+=n*D,g+=n*U,m+=n*j,y+=n*F,b+=n*z,w+=n*q,v+=n*H,_+=n*W,E+=n*V,A+=n*$,S+=n*K,x+=n*G,k+=n*Y,I+=n*Z,M+=n*J,n=e[9],p+=n*L,g+=n*D,m+=n*U,y+=n*j,b+=n*F,w+=n*z,v+=n*q,_+=n*H,E+=n*W,A+=n*V,S+=n*$,x+=n*K,k+=n*G,I+=n*Y,M+=n*Z,C+=n*J,n=e[10],g+=n*L,m+=n*D,y+=n*U,b+=n*j,w+=n*F,v+=n*z,_+=n*q,E+=n*H,A+=n*W,S+=n*V,x+=n*$,k+=n*K,I+=n*G,M+=n*Y,C+=n*Z,T+=n*J,n=e[11],m+=n*L,y+=n*D,b+=n*U,w+=n*j,v+=n*F,_+=n*z,E+=n*q,A+=n*H,S+=n*W,x+=n*V,k+=n*$,I+=n*K,M+=n*G,C+=n*Y,T+=n*Z,O+=n*J,n=e[12],y+=n*L,b+=n*D,w+=n*U,v+=n*j,_+=n*F,E+=n*z,A+=n*q,S+=n*H,x+=n*W,k+=n*V,I+=n*$,M+=n*K,C+=n*G,T+=n*Y,O+=n*Z,R+=n*J,n=e[13],b+=n*L,w+=n*D,v+=n*U,_+=n*j,E+=n*F,A+=n*z,S+=n*q,x+=n*H,k+=n*W,I+=n*V,M+=n*$,C+=n*K,T+=n*G,O+=n*Y,R+=n*Z,P+=n*J,n=e[14],w+=n*L,v+=n*D,_+=n*U,E+=n*j,A+=n*F,S+=n*z,x+=n*q,k+=n*H,I+=n*W,M+=n*V,C+=n*$,T+=n*K,O+=n*G,R+=n*Y,P+=n*Z,N+=n*J,n=e[15],v+=n*L,_+=n*D,E+=n*U,A+=n*j,S+=n*F,x+=n*z,k+=n*q,I+=n*H,M+=n*W,C+=n*V,T+=n*$,O+=n*K,R+=n*G,P+=n*Y,N+=n*Z,B+=n*J,s+=38*_,o+=38*E,a+=38*A,c+=38*S,u+=38*x,l+=38*k,h+=38*I,d+=38*M,f+=38*C,p+=38*T,g+=38*O,m+=38*R,y+=38*P,b+=38*N,w+=38*B,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=m,t[12]=y,t[13]=b,t[14]=w,t[15]=v}function f(t,e){d(t,e,e)}function p(t,e){const r=new Uint8Array(32),n=new Float64Array(80),i=s(),o=s(),p=s(),g=s(),m=s(),y=s();for(let e=0;e<31;e++)r[e]=t[e];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(n,e);for(let t=0;t<16;t++)o[t]=n[t];i[0]=g[0]=1;for(let t=254;t>=0;--t){const e=r[t>>>3]>>>(7&t)&1;u(i,o,e),u(p,g,e),l(m,i,p),h(i,i,p),l(p,o,g),h(o,o,g),f(g,m),f(y,i),d(i,p,i),d(p,o,m),l(m,i,p),h(i,i,p),f(o,i),h(p,g,y),d(i,p,a),l(i,i,g),d(p,p,i),d(i,g,y),d(g,o,n),f(o,m),u(i,o,e),u(p,g,e)}for(let t=0;t<16;t++)n[t+16]=i[t],n[t+32]=p[t],n[t+48]=o[t],n[t+64]=g[t];const b=n.subarray(32),w=n.subarray(16);!function(t,e){const r=s();for(let t=0;t<16;t++)r[t]=e[t];for(let t=253;t>=0;t--)f(r,r),2!==t&&4!==t&&d(r,r,e);for(let e=0;e<16;e++)t[e]=r[e]}(b,b),d(w,w,b);const v=new Uint8Array(32);return function(t,e){const r=s(),n=s();for(let t=0;t<16;t++)n[t]=e[t];c(n),c(n),c(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,u(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}(v,w),v}e.TZ=function(t){const r=(0,n.randomBytes)(32,t),s=function(t){if(t.length!==e.wE)throw new Error(`x25519: seed must be ${e.wE} bytes`);const r=new Uint8Array(t);return{publicKey:(n=r,p(n,o)),secretKey:r};var n}(r);return(0,i.wipe)(r),s},e.Tc=function(t,r,n=!1){if(t.length!==e.Xx)throw new Error("X25519: incorrect secret key length");if(r.length!==e.Xx)throw new Error("X25519: incorrect public key length");const i=p(t,r);if(n){let t=0;for(let e=0;e<i.length;e++)t|=i[e];if(0===t)throw new Error("X25519: invalid shared key")}return i}},7173:(t,e,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){const t=n();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=n,e.getSubtleCrypto=i,e.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},1089:(t,e)=>{"use strict";function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=r,e.isNode=n,e.isBrowser=function(){return!r()&&!n()}},5682:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(8186);n.__exportStar(r(7173),e),n.__exportStar(r(1089),e)},8186:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>k,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>A,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(t){l(s[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},8979:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},1510:(t,e,r)=>{"use strict";r(8979)},796:t=>{"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},5665:()=>{},9026:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(584);n.__exportStar(r(9244),e),n.__exportStar(r(1861),e)},9244:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},1861:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},8900:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(584);n.__exportStar(r(9606),e),n.__exportStar(r(9883),e),n.__exportStar(r(2010),e),n.__exportStar(r(9026),e)},2010:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(584).__exportStar(r(3093),e)},3093:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0,e.IWatch=class{}},221:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const n=r(9026);e.toMiliseconds=function(t){return t*n.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/n.ONE_THOUSAND)}},2985:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},9606:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(584);n.__exportStar(r(2985),e),n.__exportStar(r(221),e)},9883:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if(void 0!==e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if(void 0===e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},584:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>k,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>A,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(t){l(s[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},3833:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},5436:(t,e,r)=>{"use strict";e.g=void 0;const n=r(3833);e.g=function(){let t,e;try{t=n.getDocumentOrThrow(),e=n.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],i=["itemprop","property","name"].map((t=>n.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(i.length&&i){const t=n.getAttribute("content");if(t)return t}}return""}const i=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const i=r[t],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const t=i.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop(),r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}(),name:i}}},5364:(t,e,r)=>{"use strict";var n=r(2861).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===c;)i++,r++;for(var o=(t.length-r)*u+1>>>0,l=new Uint8Array(o);r<t.length;){var h=e[t.charCodeAt(r)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,r++}for(var p=o-s;p!==o&&0===l[p];)p++;var g=n.allocUnsafe(i+(o-p));g.fill(0,0,i);for(var m=i;p!==o;)g[m++]=l[p++];return g}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var u=(o-s)*l+1>>>0,h=new Uint8Array(u);s!==o;){for(var d=e[s],f=0,p=u-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var g=u-i;g!==u&&0===h[g];)g++;for(var m=c.repeat(r);g<u;++g)m+=t.charAt(h[g]);return m},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},7526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],c=s[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,c)),l=0,h=c>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===c&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e),1===c&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,u=n-i;a<u;a+=o)s.push(c(t,a,a+o>u?u:a+o));return 1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},184:(t,e)=>{"use strict";e.k5=function(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.Bq=function(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}}},1974:(t,e)=>{"use strict";var r;function n(t,e,n){if(!n||typeof n.value!==r.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:r.boolTrue,get:function(){var t=n.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:r.boolTrue,writable:r.boolTrue}),t}}}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.typeOfFunction="function",t.boolTrue=!0}(r||(r={})),e.bind=n,e.default=n},9404:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7790).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function c(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function u(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),c=e;c<a;c++){var u=t.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=c(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=c(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,c=0,l=r;l<a;l+=n)c=u(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=u(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var g=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?g+r:d[u-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,s,o=t.words,a=e.words,c=r.words,u=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,b=m>>>13,w=0|o[3],v=8191&w,_=w>>>13,E=0|o[4],A=8191&E,S=E>>>13,x=0|o[5],k=8191&x,I=x>>>13,M=0|o[6],C=8191&M,T=M>>>13,O=0|o[7],R=8191&O,P=O>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],z=8191&F,q=F>>>13,H=0|a[1],W=8191&H,V=H>>>13,$=0|a[2],K=8191&$,G=$>>>13,Y=0|a[3],Z=8191&Y,J=Y>>>13,Q=0|a[4],X=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,gt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,z)|0))<<13)|0;u=((s=Math.imul(d,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,q))+Math.imul(g,z)|0,s=Math.imul(g,q);var yt=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,q))+Math.imul(b,z)|0,s=Math.imul(b,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,V)|0;var bt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,q))+Math.imul(_,z)|0,s=Math.imul(_,q),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,G)|0;var wt=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,z),i=(i=Math.imul(A,q))+Math.imul(S,z)|0,s=Math.imul(S,q),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,V)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,q))+Math.imul(I,z)|0,s=Math.imul(I,q),n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,q))+Math.imul(T,z)|0,s=Math.imul(T,q),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,V)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,G)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,q))+Math.imul(P,z)|0,s=Math.imul(P,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,V)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var At=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,q))+Math.imul(L,z)|0,s=Math.imul(L,q),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(P,W)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(T,K)|0,s=s+Math.imul(T,G)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,q))+Math.imul(j,z)|0,s=Math.imul(j,q),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(L,W)|0,s=s+Math.imul(L,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,G)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,J)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(v,st)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ct)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,dt)|0;var xt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,gt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,V))+Math.imul(j,W)|0,s=Math.imul(j,V),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(L,K)|0,s=s+Math.imul(L,G)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,dt)|0;var kt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,G))+Math.imul(j,K)|0,s=Math.imul(j,G),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Z)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,J))+Math.imul(j,Z)|0,s=Math.imul(j,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,s=s+Math.imul(P,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(I,ct)|0,s=s+Math.imul(I,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Mt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(T,ct)|0,s=s+Math.imul(T,ut)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Ct=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(P,ct)|0,s=s+Math.imul(P,ut)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,dt)|0;var Tt=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((s=s+Math.imul(I,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(L,ct)|0,s=s+Math.imul(L,ut)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(P,ht)|0,s=s+Math.imul(P,dt)|0;var Ot=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((s=s+Math.imul(T,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ct),i=(i=Math.imul(U,ut))+Math.imul(j,ct)|0,s=Math.imul(j,ut),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Rt=(u+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((s=s+Math.imul(P,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Pt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((s=s+Math.imul(L,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(u+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,gt))+Math.imul(j,pt)|0))<<13)|0;return u=((s=Math.imul(j,gt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,c[0]=mt,c[1]=yt,c[2]=bt,c[3]=wt,c[4]=vt,c[5]=_t,c[6]=Et,c[7]=At,c[8]=St,c[9]=xt,c[10]=kt,c[11]=It,c[12]=Mt,c[13]=Ct,c[14]=Tt,c[15]=Ot,c[16]=Rt,c[17]=Pt,c[18]=Nt,0!==u&&(c[19]=u,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=c;u++){var l=s-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function b(t,e,r){return y(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(m=g),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?g(this,t,e):r<1024?y(this,t,e):b(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},w.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=c,d=u,f=0;f<o;f++){var p=r[l+f],g=n[l+f],m=r[l+f+o],y=n[l+f+o],b=h*m-d*y;y=h*y+d*m,m=b,r[l+f]=p+m,n[l+f]=g+y,r[l+f+o]=p-m,n[l+f+o]=g-y,f!==a&&(b=c*h-u*d,d=c*d+u*h,h=b)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),b(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,c=(0|this.words[e])-a<<r;this.words[e]=c|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var c=(0|t.words[i])*e;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==e){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(c)):(r.isub(e),a.isub(i),c.isub(o))}return{a,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;!(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,_),i(S,_),i(x,_),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new A;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(h,new s(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=m}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new I(t)},i(I,k),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2755:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const c=a(r(9404)),u=a(r(6763)),l=o(r(4281)),h=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),u.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(u.default.decode(t))};const d=1024;class f extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=f;class p{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=p;class m{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new c.default(t,"le")}readU128(){const t=this.readBuffer(16);return new c.default(t,"le")}readU256(){const t=this.readBuffer(32);return new c.default(t,"le")}readU512(){const t=this.readBuffer(64);return new c.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new f(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new f(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e,r,n,i){try{if("string"==typeof n)i[`write${y(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)b(t,null,r[e],n[0],i)}else i.writeArray(r,(r=>{b(t,e,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{b(t,e,s,n.key,i),b(t,e,r,n.value,i)}));break;default:throw new f(`FieldType ${n} unrecognized`)}else w(t,r,i)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function w(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new f(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{b(t,n,e[n],i,r)}));else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),b(t,o,e[o],a,r);break}}}}}function v(t,e,r,n){try{if("string"==typeof r)return n[`read${y(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(v(t,null,r[0],n));return e}return n.readArray((()=>v(t,e,r[0],n)))}if("option"===r.kind)return n.readU8()?v(t,e,r.type,n):void 0;if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=v(t,e,r.key,n),o=v(t,e,r.value,n);i.set(s,o)}return i}return _(t,r,n)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function _(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new f(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of t.get(e).fields)n[i]=v(t,i,s,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=v(t,s,o,r);return new e({[s]:a})}throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}s([g],m.prototype,"readU8",null),s([g],m.prototype,"readU16",null),s([g],m.prototype,"readU32",null),s([g],m.prototype,"readU64",null),s([g],m.prototype,"readU128",null),s([g],m.prototype,"readU256",null),s([g],m.prototype,"readU512",null),s([g],m.prototype,"readString",null),s([g],m.prototype,"readFixedArray",null),s([g],m.prototype,"readArray",null),e.BinaryReader=m,e.serialize=function(t,e,r=p){const n=new r;return w(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=m){const i=new n(r),s=_(t,e,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},e.deserializeUnchecked=function(t,e,r,n=m){return _(t,e,new n(r))}},6763:(t,e,r)=>{var n=r(5364);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},2828:(t,e)=>{"use strict";class r{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function n(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=r,e.nameWithProperty=n,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof r))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})};class i extends r{isCount(){throw new Error("ExternalLayout is abstract")}}class s extends i{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class o extends i{constructor(t,e,n){if(!(t instanceof r))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof a||this.layout instanceof c}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class a extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class c extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class u extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class l extends r{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}const h=Math.pow(2,32);function d(t){const e=Math.floor(t/h);return{hi32:e,lo32:t-e*h}}function f(t,e){return t*h+e}class p extends r{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return f(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class g extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),f(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeUInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class m extends r{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return f(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class y extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),f(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=d(t);return e.writeInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class b extends r{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class w extends r{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class v extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class _ extends r{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class E extends r{constructor(t,e,n){if(!(t instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof i&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof i)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,n=this.count;if(n instanceof i&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e){void 0===e&&(e=0);const r=[];let n=0,s=this.count;for(s instanceof i&&(s=s.decode(t,e));n<s;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r){void 0===r&&(r=0);const n=this.elementLayout,s=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof i&&this.count.encode(t.length,e,r),s}}class A extends r{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof r),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,s=0;for(const n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(s=n.encode(i,e,r),0>o&&(o=n.getSpan(e,r)))}i=r,r+=o}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class S{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class x extends S{constructor(t,e){if(!(t instanceof i&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class k extends r{constructor(t,e,n){const s=t instanceof a||t instanceof c;if(s)t=new x(new o(t));else if(t instanceof i&&t.isCount())t=new x(t);else if(!(t instanceof S))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let u=-1;e&&(u=e.span,0<=u&&s&&(u+=t.layout.span)),super(u,n),this.discriminator=t,this.usesPrefixDiscriminator=s,this.defaultLayout=e,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return l(t)},this.configGetSourceVariant=function(t){l=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=this.defaultLayout.decode(t,e+o)}else r=s.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(t[n.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new I(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class I extends r{constructor(t,e,n,i){if(!(t instanceof k))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof r))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function M(t){return 0>t&&(t+=4294967296),t}class C extends r{constructor(t,e,r){if(!(t instanceof a||t instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=M(t),this},this._packedGetValue=function(){return n}}decode(t,e){const r=this.makeDestinationObject();void 0===e&&(e=0);const n=this.word.decode(t,e);this._packedSetValue(n);for(const t of this.fields)void 0!==t.property&&(r[t.property]=t.decode(n));return r}encode(t,e,r){void 0===r&&(r=0);const n=this.word.decode(e,r);this._packedSetValue(n);for(const e of this.fields)if(void 0!==e.property){const r=t[e.property];void 0!==r&&e.encode(r)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new T(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new O(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class T{constructor(t,e,r){if(!(t instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=M(this.valueMask<<this.start),this.property=r}decode(){return M(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==M(t&this.valueMask))throw new TypeError(n("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=M(t<<this.start);this.container._packedSetValue(M(e&~this.wordMask)|r)}}class O extends T{constructor(t,e){super(t,1,e)}decode(t,e){return!!T.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),T.prototype.encode.call(this,t)}}class R extends r{constructor(t,e){if(!(t instanceof i&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof i||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let s=this.length;if(this.length instanceof i&&(s=t.length),!Buffer.isBuffer(t)||s!==t.length)throw new TypeError(n("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(r+s>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,s,"hex"),this.length instanceof i&&this.length.encode(s,e,r),s}}class P extends r{constructor(t){super(-1,t)}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);return t.slice(e,e+n-1).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());const n=new Buffer(t,"utf8"),i=n.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),e[r+i]=0,i+1}}class N extends r{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+n).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());const n=new Buffer(t,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),i}}class B extends r{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}e.ExternalLayout=i,e.GreedyCount=s,e.OffsetLayout=o,e.UInt=a,e.UIntBE=c,e.Int=u,e.IntBE=l,e.Float=b,e.FloatBE=w,e.Double=v,e.DoubleBE=_,e.Sequence=E,e.Structure=A,e.UnionDiscriminator=S,e.UnionLayoutDiscriminator=x,e.Union=k,e.VariantLayout=I,e.BitStructure=C,e.BitField=T,e.Boolean=O,e.Blob=R,e.CString=P,e.UTF8=N,e.Constant=B,e.greedy=(t,e)=>new s(t,e),e.offset=(t,e,r)=>new o(t,e,r),e.u8=t=>new a(1,t),e.u16=t=>new a(2,t),e.u24=t=>new a(3,t),e.u32=t=>new a(4,t),e.u40=t=>new a(5,t),e.u48=t=>new a(6,t),e.nu64=t=>new p(t),e.u16be=t=>new c(2,t),e.u24be=t=>new c(3,t),e.u32be=t=>new c(4,t),e.u40be=t=>new c(5,t),e.u48be=t=>new c(6,t),e.nu64be=t=>new g(t),e.s8=t=>new u(1,t),e.s16=t=>new u(2,t),e.s24=t=>new u(3,t),e.s32=t=>new u(4,t),e.s40=t=>new u(5,t),e.s48=t=>new u(6,t),e.ns64=t=>new m(t),e.s16be=t=>new l(2,t),e.s24be=t=>new l(3,t),e.s32be=t=>new l(4,t),e.s40be=t=>new l(5,t),e.s48be=t=>new l(6,t),e.ns64be=t=>new y(t),e.f32=t=>new b(t),e.f32be=t=>new w(t),e.f64=t=>new v(t),e.f64be=t=>new _(t),e.struct=(t,e,r)=>new A(t,e,r),e.bits=(t,e,r)=>new C(t,e,r),e.seq=(t,e,r)=>new E(t,e,r),e.union=(t,e,r)=>new k(t,e,r),e.unionLayoutDiscriminator=(t,e)=>new x(t,e),e.blob=(t,e)=>new R(t,e),e.cstr=t=>new P(t),e.utf8=(t,e)=>new N(t,e),e.const=(t,e)=>new B(t,e)},8287:(t,e,r)=>{"use strict";const n=r(7526),i=r(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|g(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?a(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(i)return n?-1:$(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return M(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(u(t,s+n)!==u(e,n)){r=!1;break}if(r)return s}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Z(n))return o;t[r+o]=n}return o}function _(t,e,r,n){return G($(e,t.length-r),t,r,n)}function E(t,e,r,n){return G(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function A(t,e,r,n){return G(K(e),t,r,n)}function S(t,e,r,n){return G(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(s=c));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),u=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){s=u[t],o=l[t];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function M(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=J[t[n]];return i}function O(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i){q(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function B(t,e,r,n,i){q(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Q((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Q((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Q((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||W(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||P(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Q((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Q((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=c.isBuffer(t)?t:c.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const j={};function F(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function z(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function q(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||W(e,t.length-(r+1))}(n,i,s)}function H(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function $(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function K(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},8075:(t,e,r)=>{"use strict";var n=r(453),i=r(6516),s=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&s(t,".prototype.")>-1?i(r):r}},6516:(t,e,r)=>{"use strict";var n=r(6743),i=r(453),s=r(9278),o=r(9675),a=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(c,a),l=r(655),h=i("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new o("a function is required");var e=u(n,c,arguments);return s(e,1+h(0,t.length-(arguments.length-1)),!0)};var d=function(){return u(n,a,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d},2729:t=>{"use strict";const e=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,o=new RegExp("^"+s.source),a=new RegExp(s.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const s=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),u=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);return 1===t.length?i.pascalCase?u(t):s(t):(t!==s(t)&&(t=((t,n,i)=>{let s=!1,o=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];s&&e.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),s=!1,a=o,o=!0,c++):o&&a&&r.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=o,o=!1,s=!0):(s=n(u)===u&&i(u)!==u,a=o,o=i(u)===u&&n(u)!==u)}return t})(t,s,u)),t=t.replace(o,""),t=i.preserveConsecutiveUppercase?((t,e)=>(n.lastIndex=0,t.replace(n,(t=>e(t)))))(t,s):s(t),i.pascalCase&&(t=u(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,c.lastIndex=0,t.replace(a,((t,r)=>e(r))).replace(c,(t=>e(t)))))(t,u))};t.exports=u,t.exports.default=u},53:(t,e,r)=>{"use strict";function n(t){var e,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=n(t[e]))&&(i&&(i+=" "),i+=r);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(e=n(t))&&(i&&(i+=" "),i+=e);return i}r.r(e),r.d(e,{clsx:()=>i,default:()=>s});const s=i},4945:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,n=f(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=p(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=l(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,r){return new Promise((function(n,s){var o=new w(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=d,t.Request=w,t.Response=_),e.Headers=d,e.Request=w,e.Response=_,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},454:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),n=new RegExp("("+e+")+","gi");function i(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function s(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(r)||[],n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var i=s(r[0]);i!==r[0]&&(e[r[0]]=i)}r=n.exec(t)}e["%C2"]="ï¿½";for(var o=Object.keys(e),a=0;a<o.length;a++){var c=o[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},41:(t,e,r)=>{"use strict";var n=r(655),i=r(8068),s=r(9675),o=r(5795);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new s("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],h=!!o&&o(t,e);if(n)n(t,e,{configurable:null===u&&h?h.configurable:!u,enumerable:null===a&&h?h.enumerable:!a,value:r,writable:null===c&&h?h.writable:!c});else{if(!l&&(a||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},6320:t=>{"use strict";var e={single_source_shortest_paths:function(t,r,n){var i={},s={};s[r]=0;var o,a,c,u,l,h,d,f=e.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(c in a=(o=f.pop()).value,u=o.cost,l=t[a]||{})l.hasOwnProperty(c)&&(h=u+l[c],d=s[c],(void 0===s[c]||d>h)&&(s[c]=h,f.push(c,h),i[c]=a));if(void 0!==n&&void 0===s[n]){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,i={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},9049:t=>{"use strict";t.exports=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(i=1024*(i-55296)+s-56320+65536,n+=1)}i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||i>=57344&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):i>=65536&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},655:(t,e,r)=>{"use strict";var n=r(453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(t){n=!1}t.exports=n},1237:t=>{"use strict";t.exports=EvalError},9383:t=>{"use strict";t.exports=Error},9290:t=>{"use strict";t.exports=RangeError},9538:t=>{"use strict";t.exports=ReferenceError},8068:t=>{"use strict";t.exports=SyntaxError},9675:t=>{"use strict";t.exports=TypeError},5345:t=>{"use strict";t.exports=URIError},2483:(t,e,r)=>{r(6897),r(6867);const n=r(9114),i=(t,e)=>t+e,s=["sync","latest"];function o(t){return Number.parseInt(t,16)}t.exports=class extends n{constructor(t={}){super(),this._blockResetDuration=t.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise((t=>this.once("latest",t)))}removeAllListeners(t){t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t,e){s.includes(t)&&this._maybeStart()}_onRemoveListener(t,e){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return s.map((t=>this.listenerCount(t))).reduce(i)}_newPotentialLatest(t){const e=this._currentBlock;e&&o(t)<=o(e)||this._setCurrentBlock(t)}_setCurrentBlock(t){const e=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:e,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},4491:(t,e,r)=>{const n=r(6867),i=r(2483);function s(t,e){return new Promise((r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()}))}t.exports=class extends i{constructor(t={}){if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");const e=t.pollingInterval||2e4,r=t.retryTimeout||e/10,n=void 0===t.keepEventLoopActive||t.keepEventLoopActive,i=t.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:e},t)),this._provider=t.provider,this._pollingInterval=e,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch((t=>this.emit("error",t)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await s(this._pollingInterval,!this._keepEventLoopActive)}catch(t){const e=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${t.stack}`);try{this.emit("error",e)}catch(t){console.error(e)}await s(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0);const e=await n((e=>this._provider.sendAsync(t,e)))();if(e.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${e.error}`);return e.result}}},3042:(t,e,r)=>{const n=r(1303);t.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}}},1303:(t,e,r)=>{const n=r(516).default;t.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach((t=>this.emit("update",t)))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}}},4287:(t,e,r)=>{const n=r(1303),i=r(571),{incrementHexInt:s}=r(3067);t.exports=class extends n{constructor({provider:t,params:e}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:e}){const r=e,n=s(t),o=(await i({provider:this.provider,fromBlock:n,toBlock:r})).map((t=>t.hash));this.addResults(o)}}},571:t=>{function e(t){return null==t?t:Number.parseInt(t,16)}function r(t){return null==t?t:"0x"+t.toString(16)}t.exports=async function({provider:t,fromBlock:n,toBlock:i}){n||(n=i);const s=e(n),o=e(i),a=Array(o-s+1).fill().map(((t,e)=>s+e)).map(r);return await Promise.all(a.map((e=>function(t,e,r){return new Promise(((e,n)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:"eth_getBlockByNumber",params:r},((t,r)=>{if(t)return n(t);e(r.result)}))}))}(t,0,[e,!1]))))}},3067:t=>{function e(t){return t.sort(((t,e)=>"latest"===t||"earliest"===e?1:"latest"===e||"earliest"===t?-1:r(t)-r(e)))}function r(t){return null==t?t:Number.parseInt(t,16)}function n(t){if(null==t)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function i(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:function(...t){return e(t)[0]},maxBlockRef:function(...t){const r=e(t);return r[r.length-1]},sortBlockRefs:e,bnToHex:function(t){return"0x"+t.toString(16)},blockRefIsNumber:function(t){return t&&!["earliest","latest","pending"].includes(t)},hexToInt:r,incrementHexInt:function(t){return null==t?t:n(r(t)+1)},intToHex:n,unsafeRandomBytes:function(t){let e="0x";for(let r=0;r<t;r++)e+=i(),e+=i();return e}}},1713:(t,e,r)=>{const n=r(7633).eu,{createAsyncMiddleware:i}=r(6583),s=r(2074),o=r(8210),a=r(4287),c=r(1560),{intToHex:u,hexToInt:l}=r(3067);function h(t){return d((async(...e)=>{const r=await t(...e);return u(r.id)}))}function d(t){return i((async(e,r)=>{const n=await t.apply(null,e.params);r.result=n}))}function f(t,e){const r=[];for(let e in t)r.push(t[e]);return r}t.exports=function({blockTracker:t,provider:e}){let r=0,i={};const p=new n,g=function({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}({mutex:p}),m=s({eth_newFilter:g(h(b)),eth_newBlockFilter:g(h(w)),eth_newPendingTransactionFilter:g(h(v)),eth_uninstallFilter:g(d(A)),eth_getFilterChanges:g(d(_)),eth_getFilterLogs:g(d(E))}),y=async({oldBlock:t,newBlock:e})=>{if(0===i.length)return;const r=await p.acquire();try{await Promise.all(f(i).map((async r=>{try{await r.update({oldBlock:t,newBlock:e})}catch(t){console.error(t)}})))}catch(t){console.error(t)}r()};return m.newLogFilter=b,m.newBlockFilter=w,m.newPendingTransactionFilter=v,m.uninstallFilter=A,m.getFilterChanges=_,m.getFilterLogs=E,m.destroy=()=>{!async function(){const t=f(i).length;i={},x({prevFilterCount:t,newFilterCount:0})}()},m;async function b(t){const r=new o({provider:e,params:t});return await S(r),r}async function w(){const t=new a({provider:e});return await S(t),t}async function v(){const t=new c({provider:e});return await S(t),t}async function _(t){const e=l(t),r=i[e];if(!r)throw new Error(`No filter for index "${e}"`);return r.getChangesAndClear()}async function E(t){const e=l(t),r=i[e];if(!r)throw new Error(`No filter for index "${e}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function A(t){const e=l(t),r=i[e],n=Boolean(r);return n&&await async function(t){const e=f(i).length;delete i[t];x({prevFilterCount:e,newFilterCount:f(i).length})}(e),n}async function S(e){const n=f(i).length,s=await t.getLatestBlock();return await e.initialize({currentBlock:s}),r++,i[r]=e,e.id=r,e.idHex=u(r),x({prevFilterCount:n,newFilterCount:f(i).length}),r}function x({prevFilterCount:e,newFilterCount:r}){0===e&&r>0?t.on("sync",y):e>0&&0===r&&t.removeListener("sync",y)}}},8210:(t,e,r)=>{const n=r(6897),i=r(7759),s=r(3042),{bnToHex:o,hexToInt:a,incrementHexInt:c,minBlockRef:u,blockRefIsNumber:l}=r(3067);t.exports=class extends s{constructor({provider:t,params:e}){super(),this.type="log",this.ethQuery=new n(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},e),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((t=>t.toLowerCase())))}async initialize({currentBlock:t}){let e=this.params.fromBlock;["latest","pending"].includes(e)&&(e=t),"earliest"===e&&(e="0x0"),this.params.fromBlock=e;const r=u(this.params.toBlock,t),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:t,newBlock:e}){const r=e;let n;n=t?c(t):e;const i=Object.assign({},this.params,{fromBlock:n,toBlock:r}),s=(await this._fetchLogs(i)).filter((t=>this.matchLog(t)));this.addResults(s)}async _fetchLogs(t){return await i((e=>this.ethQuery.getLogs(t,e)))()}matchLog(t){if(a(this.params.fromBlock)>=a(t.blockNumber))return!1;if(l(this.params.toBlock)&&a(this.params.toBlock)<=a(t.blockNumber))return!1;const e=t.address&&t.address.toLowerCase();return!(this.params.address&&e&&!this.params.address.includes(e))&&this.params.topics.every(((e,r)=>{let n=t.topics[r];if(!n)return!1;n=n.toLowerCase();let i=Array.isArray(e)?e:[e];return!!i.includes(null)||(i=i.map((t=>t.toLowerCase())),i.includes(n))}))}}},3330:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1635),i=r(5659),s=function(){function t(){this._semaphore=new i.default(1)}return t.prototype.acquire=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,t.sent()[1]]}}))}))},t.prototype.runExclusive=function(t){return this._semaphore.runExclusive((function(){return t()}))},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();e.default=s},5659:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1635),i=function(){function t(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return t.prototype.acquire=function(){var t=this,e=this.isLocked(),r=new Promise((function(e){return t._queue.push(e)}));return e||this._dispatch(),r},t.prototype.runExclusive=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:e=n.sent(),r=e[0],i=e[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,t(r)];case 3:return[2,n.sent()];case 4:return i(),[7];case 5:return[2]}}))}))},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},t.prototype._dispatch=function(){var t=this,e=this._queue.shift();if(e){var r=!1;this._currentReleaser=function(){r||(r=!0,t._value++,t._dispatch())},e([this._value--,this._currentReleaser])}},t}();e.default=i},7633:(t,e,r)=>{"use strict";e.eu=void 0;var n=r(3330);Object.defineProperty(e,"eu",{enumerable:!0,get:function(){return n.default}});r(5659),r(9434)},9434:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=void 0;var n=r(1635);e.withTimeout=function(t,e,r){var i=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(s,o){return n.__awaiter(i,void 0,void 0,(function(){var i,a;return n.__generator(this,(function(n){switch(n.label){case 0:return i=!1,setTimeout((function(){i=!0,o(r)}),e),[4,t.acquire()];case 1:return a=n.sent(),i?(Array.isArray(a)?a[1]:a)():s(a),[2]}}))}))}))},runExclusive:function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,r;return n.__generator(this,(function(n){switch(n.label){case 0:e=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(e=r[1],[4,t(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return e=r,[4,t()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return e(),[7];case 8:return[2]}}))}))},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}},7759:t=>{"use strict";const e=(t,e,r,n)=>function(...i){return new(0,e.promiseModule)(((s,o)=>{e.multiArgs?i.push(((...t)=>{e.errorFirst?t[0]?o(t):(t.shift(),s(t)):s(t)})):e.errorFirst?i.push(((t,e)=>{t?o(t):s(e)})):i.push(s);const a=this===r?n:this;Reflect.apply(t,a,i)}))},r=new WeakMap;t.exports=(t,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};const i=typeof t;if(null===t||"object"!==i&&"function"!==i)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===t?"null":i}\``);const s=new WeakMap,o=new Proxy(t,{apply(t,r,i){const a=s.get(t);if(a)return Reflect.apply(a,r,i);const c=n.excludeMain?t:e(t,n,o,t);return s.set(t,c),Reflect.apply(c,r,i)},get(t,i){const a=t[i];if(!((t,e)=>{let i=r.get(t);if(i||(i={},r.set(t,i)),e in i)return i[e];const s=t=>"string"==typeof t||"symbol"==typeof e?e===t:t.test(e),o=Reflect.getOwnPropertyDescriptor(t,e),a=void 0===o||o.writable||o.configurable,c=(n.include?n.include.some(s):!n.exclude.some(s))&&a;return i[e]=c,c})(t,i)||a===Function.prototype[i])return a;const c=s.get(a);if(c)return c;if("function"==typeof a){const r=e(a,n,o,t);return s.set(a,r),r}return a}});return o}},6401:(t,e,r)=>{const n=r(516).default,i=r(2074),{createAsyncMiddleware:s}=r(6583),o=r(1713),{unsafeRandomBytes:a,incrementHexInt:c}=r(3067),u=r(571);function l(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}t.exports=function({blockTracker:t,provider:e}){const r={},h=o({blockTracker:t,provider:e});let d=!1;const f=new n,p=i({eth_subscribe:s((async function(n,i){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const s=n.params[0],o=a(16);let f;switch(s){case"newHeads":f=function({subId:r}){const n={type:s,destroy:async()=>{t.removeListener("sync",n.update)},update:async({oldBlock:t,newBlock:n})=>{const i=n,s=c(t);(await u({provider:e,fromBlock:s,toBlock:i})).map(l).forEach((t=>{g(r,t)}))}};return t.on("sync",n.update),n}({subId:o});break;case"logs":const r=n.params[1];f=function({subId:t,filter:e}){return e.on("update",(e=>g(t,e))),{type:s,destroy:async()=>await h.uninstallFilter(e.idHex)}}({subId:o,filter:await h.newLogFilter(r)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${s}"`)}return r[o]=f,void(i.result=o)})),eth_unsubscribe:s((async function(t,e){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const n=t.params[0],i=r[n];i?(delete r[n],await i.destroy(),e.result=!0):e.result=!1}))});return p.destroy=function(){f.removeAllListeners();for(const t in r)r[t].destroy(),delete r[t];d=!0},{events:f,middleware:p};function g(t,e){f.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:t,result:e}})}}},1560:(t,e,r)=>{const n=r(1303),i=r(571),{incrementHexInt:s}=r(3067);t.exports=class extends n{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const e=t,r=s(t),n=await i({provider:this.provider,fromBlock:r,toBlock:e}),o=[];for(const t of n)o.push(...t.transactions);this.addResults(o)}}},3614:t=>{t.exports=function(t){return(e,r,n,i)=>{const s=t[e.method];return void 0===s?n():"function"==typeof s?s(e,r,n,i):(r.result=s,i())}}},2074:(t,e,r)=>{t.exports=r(3614)},6897:(t,e,r)=>{const n=r(7510),i=r(1819)();function s(t){this.currentProvider=t}function o(t){return function(){var e=[].slice.call(arguments),r=e.pop();this.sendAsync({method:t,params:e},r)}}function a(t,e){return function(){var r=[].slice.call(arguments),n=r.pop();r.length<t&&r.push("latest"),this.sendAsync({method:e,params:r},n)}}t.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=o("eth_protocolVersion"),s.prototype.syncing=o("eth_syncing"),s.prototype.coinbase=o("eth_coinbase"),s.prototype.mining=o("eth_mining"),s.prototype.hashrate=o("eth_hashrate"),s.prototype.gasPrice=o("eth_gasPrice"),s.prototype.accounts=o("eth_accounts"),s.prototype.blockNumber=o("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),s.prototype.sign=o("eth_sign"),s.prototype.sendTransaction=o("eth_sendTransaction"),s.prototype.sendRawTransaction=o("eth_sendRawTransaction"),s.prototype.estimateGas=o("eth_estimateGas"),s.prototype.getBlockByHash=o("eth_getBlockByHash"),s.prototype.getBlockByNumber=o("eth_getBlockByNumber"),s.prototype.getTransactionByHash=o("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=o("eth_getCompilers"),s.prototype.compileLLL=o("eth_compileLLL"),s.prototype.compileSolidity=o("eth_compileSolidity"),s.prototype.compileSerpent=o("eth_compileSerpent"),s.prototype.newFilter=o("eth_newFilter"),s.prototype.newBlockFilter=o("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=o("eth_uninstallFilter"),s.prototype.getFilterChanges=o("eth_getFilterChanges"),s.prototype.getFilterLogs=o("eth_getFilterLogs"),s.prototype.getLogs=o("eth_getLogs"),s.prototype.getWork=o("eth_getWork"),s.prototype.submitWork=o("eth_submitWork"),s.prototype.submitHashrate=o("eth_submitHashrate"),s.prototype.sendAsync=function(t,e){var r;this.currentProvider.sendAsync((r=t,n({id:i(),jsonrpc:"2.0",params:[]},r)),(function(t,r){if(!t&&r.error&&(t=new Error("EthQuery - RPC Error - "+r.error.message)),t)return e(t);e(null,r.result)}))}},2083:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EthereumProviderError=e.EthereumRpcError=void 0;const n=r(8463);class i extends Error{constructor(t,e,r){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||"string"!=typeof e)throw new Error('"message" must be a nonempty string.');super(e),this.code=t,void 0!==r&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return void 0!==this.data&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return n.default(this.serialize(),s,2)}}function s(t,e){if("[Circular]"!==e)return e}e.EthereumRpcError=i,e.EthereumProviderError=class extends i{constructor(t,e,r){if(!function(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,r)}}},3625:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.errorValues=e.errorCodes=void 0,e.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},e.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},7396:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ethErrors=void 0;const n=r(2083),i=r(8326),s=r(3625);function o(t,e){const[r,s]=c(e);return new n.EthereumRpcError(t,r||i.getMessageFromCode(t),s)}function a(t,e){const[r,s]=c(e);return new n.EthereumProviderError(t,r||i.getMessageFromCode(t),s)}function c(t){if(t){if("string"==typeof t)return[t];if("object"==typeof t&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}e.ethErrors={rpc:{parse:t=>o(s.errorCodes.rpc.parse,t),invalidRequest:t=>o(s.errorCodes.rpc.invalidRequest,t),invalidParams:t=>o(s.errorCodes.rpc.invalidParams,t),methodNotFound:t=>o(s.errorCodes.rpc.methodNotFound,t),internal:t=>o(s.errorCodes.rpc.internal,t),server:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return o(e,t)},invalidInput:t=>o(s.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>o(s.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>o(s.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>o(s.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>o(s.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>o(s.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>a(s.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>a(s.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>a(s.errorCodes.provider.unsupportedMethod,t),disconnected:t=>a(s.errorCodes.provider.disconnected,t),chainDisconnected:t=>a(s.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:i}=t;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(e,r,i)}}}},2203:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const n=r(2083);Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8326);Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const s=r(7396);Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return s.ethErrors}});const o=r(3625);Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return o.errorCodes}})},8326:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(3625),i=r(2083),s=n.errorCodes.rpc.internal,o={code:s,message:a(s)};function a(t,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(t)){const r=t.toString();if(h(n.errorValues,r))return n.errorValues[r].message;if(u(t))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function c(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!n.errorValues[e]||!!u(t)}function u(t){return t>=-32099&&t<=-32e3}function l(t){return t&&"object"==typeof t&&!Array.isArray(t)?Object.assign({},t):t}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=a,e.isValidCode=c,e.serializeError=function(t,{fallbackError:e=o,shouldIncludeStack:r=!1}={}){var n,s;if(!e||!Number.isInteger(e.code)||"string"!=typeof e.message)throw new Error("Must provide fallback error with integer number code and string message.");if(t instanceof i.EthereumRpcError)return t.serialize();const u={};if(t&&"object"==typeof t&&!Array.isArray(t)&&h(t,"code")&&c(t.code)){const e=t;u.code=e.code,e.message&&"string"==typeof e.message?(u.message=e.message,h(e,"data")&&(u.data=e.data)):(u.message=a(u.code),u.data={originalError:l(t)})}else{u.code=e.code;const r=null===(n=t)||void 0===n?void 0:n.message;u.message=r&&"string"==typeof r?r:e.message,u.data={originalError:l(t)}}const d=null===(s=t)||void 0===s?void 0:s.stack;return r&&t&&d&&"string"==typeof d&&(u.stack=d),u}},228:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},7007:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,s,o,u;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(void 0===c)return!1;if("function"==typeof c)n(c,this,e);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},8463:t=>{t.exports=o,o.default=o,o.stable=l,o.stableStringify=l;var e="[...]",r="[Circular]",n=[],i=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(t,e,r,o){var a;void 0===o&&(o=s()),c(t,"",0,[],void 0,0,o);try{a=0===i.length?JSON.stringify(t,e,r):JSON.stringify(t,d(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function a(t,e,r,s){var o=Object.getOwnPropertyDescriptor(s,r);void 0!==o.get?o.configurable?(Object.defineProperty(s,r,{value:t}),n.push([s,r,e,o])):i.push([e,r,t]):(s[r]=t,n.push([s,r,e]))}function c(t,n,i,s,o,u,l){var h;if(u+=1,"object"==typeof t&&null!==t){for(h=0;h<s.length;h++)if(s[h]===t)return void a(r,t,n,o);if(void 0!==l.depthLimit&&u>l.depthLimit)return void a(e,t,n,o);if(void 0!==l.edgesLimit&&i+1>l.edgesLimit)return void a(e,t,n,o);if(s.push(t),Array.isArray(t))for(h=0;h<t.length;h++)c(t[h],h,h,s,t,u,l);else{var d=Object.keys(t);for(h=0;h<d.length;h++){var f=d[h];c(t[f],f,h,s,t,u,l)}}s.pop()}}function u(t,e){return t<e?-1:t>e?1:0}function l(t,e,r,o){void 0===o&&(o=s());var a,c=h(t,"",0,[],void 0,0,o)||t;try{a=0===i.length?JSON.stringify(c,e,r):JSON.stringify(c,d(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function h(t,i,s,o,c,l,d){var f;if(l+=1,"object"==typeof t&&null!==t){for(f=0;f<o.length;f++)if(o[f]===t)return void a(r,t,i,c);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==d.depthLimit&&l>d.depthLimit)return void a(e,t,i,c);if(void 0!==d.edgesLimit&&s+1>d.edgesLimit)return void a(e,t,i,c);if(o.push(t),Array.isArray(t))for(f=0;f<t.length;f++)h(t[f],f,f,o,t,l,d);else{var p={},g=Object.keys(t).sort(u);for(f=0;f<g.length;f++){var m=g[f];h(t[m],m,f,o,t,l,d),p[m]=t[m]}if(void 0===c)return p;n.push([c,i,t]),c[i]=p}o.pop()}}function d(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(i.length>0)for(var n=0;n<i.length;n++){var s=i[n];if(s[1]===e&&s[0]===r){r=s[2],i.splice(n,1);break}}return t.call(this,e,r)}}},3055:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?-1!==e.indexOf(o):e(o,a,t))&&(r[o]=a)}return r}},2682:(t,e,r)=>{"use strict";var n=r(9600),i=Object.prototype.toString,s=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===i.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)s.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,o):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,o):function(t,e,r){for(var n in t)s.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,o)}},9353:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var s,o=function(t){for(var e=[],r=1,n=0;r<t.length;r+=1,n+=1)e[n]=t[r];return e}(arguments),a=r(0,i.length-o.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(s=Function("binder","return function ("+function(t){for(var e="",r=0;r<t.length;r+=1)e+=t[r],r+1<t.length&&(e+=",");return e}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var e=i.apply(this,n(o,arguments));return Object(e)===e?e:this}return i.apply(t,n(o,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,s.prototype=new l,l.prototype=null}return s}},6743:(t,e,r)=>{"use strict";var n=r(9353);t.exports=Function.prototype.bind||n},453:(t,e,r)=>{"use strict";var n,i=r(9383),s=r(1237),o=r(9290),a=r(9538),c=r(8068),u=r(9675),l=r(5345),h=Function,d=function(t){try{return h('"use strict"; return ('+t+").constructor;")()}catch(t){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(t){f=null}var p=function(){throw new u},g=f?function(){try{return p}catch(t){try{return f(arguments,"callee").get}catch(t){return p}}}():p,m=r(4039)(),y=r(24)(),b=Object.getPrototypeOf||(y?function(t){return t.__proto__}:null),w={},v="undefined"!=typeof Uint8Array&&b?b(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&b?b(b([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&b?b((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&b?b((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&b?b(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":g,"%TypedArray%":v,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(b)try{null.error}catch(t){var E=b(b(t));_["%Error.prototype%"]=E}var A=function t(e){var r;if("%AsyncFunction%"===e)r=d("async function () {}");else if("%GeneratorFunction%"===e)r=d("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=d("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&b&&(r=b(i.prototype))}return _[e]=r,r},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=r(6743),k=r(9957),I=x.call(Function.call,Array.prototype.concat),M=x.call(Function.apply,Array.prototype.splice),C=x.call(Function.call,String.prototype.replace),T=x.call(Function.call,String.prototype.slice),O=x.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,N=function(t,e){var r,n=t;if(k(S,n)&&(n="%"+(r=S[n])[0]+"%"),k(_,n)){var i=_[n];if(i===w&&(i=A(n)),void 0===i&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,t))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=T(t,0,1),r=T(t,-1);if("%"===e&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return C(t,R,(function(t,e,r,i){n[n.length]=r?C(i,P,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",i=N("%"+n+"%",e),s=i.name,o=i.value,a=!1,l=i.alias;l&&(n=l[0],M(r,I([0,1],l)));for(var h=1,d=!0;h<r.length;h+=1){var p=r[h],g=T(p,0,1),m=T(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&d||(a=!0),k(_,s="%"+(n+="."+p)+"%"))o=_[s];else if(null!=o){if(!(p in o)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(f&&h+1>=r.length){var y=f(o,p);o=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[p]}else d=k(o,p),o=o[p];d&&!a&&(_[s]=o)}}return o}},5795:(t,e,r)=>{"use strict";var n=r(453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},592:(t,e,r)=>{"use strict";var n=r(655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},24:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},4039:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(1333);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},1333:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},9092:(t,e,r)=>{"use strict";var n=r(1333);t.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,s=r(6743);t.exports=s.call(n,i)},251:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=d,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+f]=255&o,f+=p,o/=256,u-=8);t[r+f-p]|=128*g}},6698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},7244:(t,e,r)=>{"use strict";var n=r(9092)(),i=r(8075)("Object.prototype.toString"),s=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},o=function(t){return!!s(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return s(arguments)}();s.isLegacyArguments=o,t.exports=a?s:o},9600:t=>{"use strict";var e,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(t){t!==r&&(i=null)}else i=null;var s=/^\s*class\b/,o=function(t){try{var e=n.call(t);return s.test(e)}catch(t){return!1}},a=function(t){try{return!o(t)&&(n.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var d=document.all;c.call(d)===c.call(document.all)&&(h=function(t){if((l||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==r)return!1}return!o(t)&&a(t)}:function(t){if(h(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(o(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},8184:(t,e,r)=>{"use strict";var n,i=Object.prototype.toString,s=Function.prototype.toString,o=/^\s*(?:function)?\*/,a=r(9092)(),c=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(o.test(s.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!c)return!1;if(void 0===n){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&c(e)}return c(t)===n}},5680:(t,e,r)=>{"use strict";var n=r(5767);t.exports=function(t){return!!n(t)}},916:(t,e,r)=>{t.exports=self.fetch||(self.fetch=r(6782).default||r(6782))},22:(t,e,r)=>{"use strict";const n=r(4253).v4,i=r(3289),s=function(t,e){if(!(this instanceof s))return new s(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=s,s.prototype.request=function(t,e,r,n){const s=this;let o=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)n=e,o=t;else{"function"==typeof r&&(n=r,r=void 0);const s="function"==typeof n;try{o=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(s)return n(t);throw t}if(!s)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(t){return n(t)}return this.callServer(c,(function(t,e){s._parseResponse(t,e,n)})),o},s.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},3289:(t,e,r)=>{"use strict";const n=r(4253).v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return n()};o.id=t(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},4253:(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>l});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&o.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r},l=function(t,e,r){var n=(t=t||{}).random||(t.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return u(n)}},1312:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var s,o=[],a=t.length,c=0;for(n=0;n<a;++n)(s=t.charCodeAt(n))<128?o[c++]=s:s<2048?(o[c++]=192|s>>6,o[c++]=128|63&s):s<55296||s>=57344?(o[c++]=224|s>>12,o[c++]=128|s>>6&63,o[c++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++n)),o[c++]=240|s>>18,o[c++]=128|s>>12&63,o[c++]=128|s>>6&63,o[c++]=128|63&s);t=o}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],l=[];for(n=0;n<64;++n){var h=t[n]||0;u[n]=92^h,l[n]=54^h}Sha256.call(this,e,r),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,s=0,o=t.length,a=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;s<o&&i<64;++s)a[i>>2]|=t[s]<<SHIFT[3&i++];else for(i=this.start;s<o&&i<64;++s)(n=t.charCodeAt(s))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++s)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,s,o,a,c,u=this.h0,l=this.h1,h=this.h2,d=this.h3,f=this.h4,p=this.h5,g=this.h6,m=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((i=y[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=y[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[t]=y[t-16]+e+y[t-7]+r|0;for(c=l&h,t=0;t<64;t+=4)this.first?(this.is224?(s=300032,m=(i=y[0]-1413257819)-150054599|0,d=i+24177077|0):(s=704751109,m=(i=y[0]-210244248)-1521486534|0,d=i+143694565|0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(s=u&l)^u&h^c,m=d+(i=m+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&g)+K[t]+y[t])|0,d=i+(e+n)|0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(o=d&u)^d&l^s,g=h+(i=g+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&f^~m&p)+K[t+1]+y[t+1])|0,e=((h=i+(e+n)|0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&d)^h&u^o,p=l+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&f)+K[t+2]+y[t+2])|0,e=((l=i+(e+n)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(c=l&h)^l&d^a,f=u+(i=f+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&m)+K[t+3]+y[t+3])|0,u=i+(e+n)|0;this.h0=this.h0+u|0,this.h1=this.h1+l|0,this.h2=this.h2+h|0,this.h3=this.h3+d|0,this.h4=this.h4+f|0,this.h5=this.h5+p|0,this.h6=this.h6+g|0,this.h7=this.h7+m|0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},712:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcEngine=void 0;const i=n(r(516)),s=r(2203);class o extends i.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,e){if(e&&"function"!=typeof e)throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?e?this._handleBatch(t,e):this._handleBatch(t):e?this._handle(t,e):this._promiseHandle(t)}asMiddleware(){return async(t,e,r,n)=>{try{const[i,s,a]=await o._runAllMiddleware(t,e,this._middleware);return s?(await o._runReturnHandlers(a),n(i)):r((async t=>{try{await o._runReturnHandlers(a)}catch(e){return t(e)}return t()}))}catch(t){return n(t)}}}async _handleBatch(t,e){try{const r=await Promise.all(t.map(this._promiseHandle.bind(this)));return e?e(null,r):r}catch(t){if(e)return e(t);throw t}}_promiseHandle(t){return new Promise((e=>{this._handle(t,((t,r)=>{e(r)}))}))}async _handle(t,e){if(!t||Array.isArray(t)||"object"!=typeof t){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof t,{request:t});return e(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof t.method){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof t.method,{request:t});return e(r,{id:t.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},t),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(t){i=t}return i&&(delete n.result,n.error||(n.error=s.serializeError(i))),e(i,n)}async _processRequest(t,e){const[r,n,i]=await o._runAllMiddleware(t,e,this._middleware);if(o._checkForCompletion(t,e,n),await o._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(t,e,r){const n=[];let i=null,s=!1;for(const a of r)if([i,s]=await o._runMiddleware(t,e,a,n),s)break;return[i,s,n.reverse()]}static _runMiddleware(t,e,r,n){return new Promise((i=>{const o=t=>{const r=t||e.error;r&&(e.error=s.serializeError(r)),i([r,!0])},c=r=>{e.error?o(e.error):(r&&("function"!=typeof r&&o(new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${a(t)}`,{request:t})),n.push(r)),i([null,!1]))};try{r(t,e,c,o)}catch(t){o(t)}}))}static async _runReturnHandlers(t){for(const e of t)await new Promise(((t,r)=>{e((e=>e?r(e):t()))}))}static _checkForCompletion(t,e,r){if(!("result"in e)&&!("error"in e))throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${a(t)}`,{request:t});if(!r)throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${a(t)}`,{request:t})}}function a(t){return JSON.stringify(t,null,2)}e.JsonRpcEngine=o},3179:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAsyncMiddleware=void 0,e.createAsyncMiddleware=function(t){return async(e,r,n,i)=>{let s;const o=new Promise((t=>{s=t}));let a=null,c=!1;const u=async()=>{c=!0,n((t=>{a=t,s()})),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(t){a?a(t):i(t)}}}},8009:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScaffoldMiddleware=void 0,e.createScaffoldMiddleware=function(t){return(e,r,n,i)=>{const s=t[e.method];return void 0===s?n():"function"==typeof s?s(e,r,n,i):(r.result=s,i())}}},7709:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);e.getUniqueId=function(){return n=(n+1)%r,n}},7477:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIdRemapMiddleware=void 0;const n=r(7709);e.createIdRemapMiddleware=function(){return(t,e,r,i)=>{const s=t.id,o=n.getUniqueId();t.id=o,e.id=o,r((r=>{t.id=s,e.id=s,r()}))}}},6583:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(7477),e),i(r(3179),e),i(r(8009),e),i(r(7709),e),i(r(712),e),i(r(9455),e)},9455:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMiddleware=void 0;const n=r(712);e.mergeMiddleware=function(t){const e=new n.JsonRpcEngine;return t.forEach((t=>e.push(t))),e.asMiddleware()}},1819:t=>{t.exports=function(t){var e=(t=t||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==t.start?t.start:Math.floor(Math.random()*e);return function(){return r%=e,r++}}},5508:(t,e,r)=>{t.exports=r(9792)(r(4817))},9792:(t,e,r)=>{const n=r(212),i=r(4614);t.exports=function(t){const e=n(t),r=i(t);return function(t,n){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}},212:(t,e,r)=>{const{Transform:n}=r(8399);t.exports=t=>class e extends n{constructor(e,r,n,i,s){super(s),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(t){let e=null;try{this.push(this.digest())}catch(t){e=t}t(e)}update(t,e){if(!Buffer.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(t)||(t=Buffer.from(t,e)),this._state.absorb(t),this}digest(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},4614:(t,e,r)=>{const{Transform:n}=r(8399);t.exports=t=>class e extends n{constructor(e,r,n,i){super(i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}_transform(t,e,r){let n=null;try{this.update(t,e)}catch(t){n=t}r(n)}_flush(){}_read(t){this.push(this.squeeze(t))}update(t,e){if(!Buffer.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(t)||(t=Buffer.from(t,e)),this._state.absorb(t),this}squeeze(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}},9078:(t,e)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(let e=0;e<24;++e){const n=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49];let f=h^(s<<1|o>>>31),p=d^(o<<1|s>>>31);const g=t[0]^f,m=t[1]^p,y=t[10]^f,b=t[11]^p,w=t[20]^f,v=t[21]^p,_=t[30]^f,E=t[31]^p,A=t[40]^f,S=t[41]^p;f=n^(a<<1|c>>>31),p=i^(c<<1|a>>>31);const x=t[2]^f,k=t[3]^p,I=t[12]^f,M=t[13]^p,C=t[22]^f,T=t[23]^p,O=t[32]^f,R=t[33]^p,P=t[42]^f,N=t[43]^p;f=s^(u<<1|l>>>31),p=o^(l<<1|u>>>31);const B=t[4]^f,L=t[5]^p,D=t[14]^f,U=t[15]^p,j=t[24]^f,F=t[25]^p,z=t[34]^f,q=t[35]^p,H=t[44]^f,W=t[45]^p;f=a^(h<<1|d>>>31),p=c^(d<<1|h>>>31);const V=t[6]^f,$=t[7]^p,K=t[16]^f,G=t[17]^p,Y=t[26]^f,Z=t[27]^p,J=t[36]^f,Q=t[37]^p,X=t[46]^f,tt=t[47]^p;f=u^(n<<1|i>>>31),p=l^(i<<1|n>>>31);const et=t[8]^f,rt=t[9]^p,nt=t[18]^f,it=t[19]^p,st=t[28]^f,ot=t[29]^p,at=t[38]^f,ct=t[39]^p,ut=t[48]^f,lt=t[49]^p,ht=g,dt=m,ft=b<<4|y>>>28,pt=y<<4|b>>>28,gt=w<<3|v>>>29,mt=v<<3|w>>>29,yt=E<<9|_>>>23,bt=_<<9|E>>>23,wt=A<<18|S>>>14,vt=S<<18|A>>>14,_t=x<<1|k>>>31,Et=k<<1|x>>>31,At=M<<12|I>>>20,St=I<<12|M>>>20,xt=C<<10|T>>>22,kt=T<<10|C>>>22,It=R<<13|O>>>19,Mt=O<<13|R>>>19,Ct=P<<2|N>>>30,Tt=N<<2|P>>>30,Ot=L<<30|B>>>2,Rt=B<<30|L>>>2,Pt=D<<6|U>>>26,Nt=U<<6|D>>>26,Bt=F<<11|j>>>21,Lt=j<<11|F>>>21,Dt=z<<15|q>>>17,Ut=q<<15|z>>>17,jt=W<<29|H>>>3,Ft=H<<29|W>>>3,zt=V<<28|$>>>4,qt=$<<28|V>>>4,Ht=G<<23|K>>>9,Wt=K<<23|G>>>9,Vt=Y<<25|Z>>>7,$t=Z<<25|Y>>>7,Kt=J<<21|Q>>>11,Gt=Q<<21|J>>>11,Yt=tt<<24|X>>>8,Zt=X<<24|tt>>>8,Jt=et<<27|rt>>>5,Qt=rt<<27|et>>>5,Xt=nt<<20|it>>>12,te=it<<20|nt>>>12,ee=ot<<7|st>>>25,re=st<<7|ot>>>25,ne=at<<8|ct>>>24,ie=ct<<8|at>>>24,se=ut<<14|lt>>>18,oe=lt<<14|ut>>>18;t[0]=ht^~At&Bt,t[1]=dt^~St&Lt,t[10]=zt^~Xt&gt,t[11]=qt^~te&mt,t[20]=_t^~Pt&Vt,t[21]=Et^~Nt&$t,t[30]=Jt^~ft&xt,t[31]=Qt^~pt&kt,t[40]=Ot^~Ht&ee,t[41]=Rt^~Wt&re,t[2]=At^~Bt&Kt,t[3]=St^~Lt&Gt,t[12]=Xt^~gt&It,t[13]=te^~mt&Mt,t[22]=Pt^~Vt&ne,t[23]=Nt^~$t&ie,t[32]=ft^~xt&Dt,t[33]=pt^~kt&Ut,t[42]=Ht^~ee&yt,t[43]=Wt^~re&bt,t[4]=Bt^~Kt&se,t[5]=Lt^~Gt&oe,t[14]=gt^~It&jt,t[15]=mt^~Mt&Ft,t[24]=Vt^~ne&wt,t[25]=$t^~ie&vt,t[34]=xt^~Dt&Yt,t[35]=kt^~Ut&Zt,t[44]=ee^~yt&Ct,t[45]=re^~bt&Tt,t[6]=Kt^~se&ht,t[7]=Gt^~oe&dt,t[16]=It^~jt&zt,t[17]=Mt^~Ft&qt,t[26]=ne^~wt&_t,t[27]=ie^~vt&Et,t[36]=Dt^~Yt&Jt,t[37]=Ut^~Zt&Qt,t[46]=yt^~Ct&Ot,t[47]=bt^~Tt&Rt,t[8]=se^~ht&At,t[9]=oe^~dt&St,t[18]=jt^~zt&Xt,t[19]=Ft^~qt&te,t[28]=wt^~_t&Pt,t[29]=vt^~Et&Nt,t[38]=Yt^~Jt&ft,t[39]=Zt^~Qt&pt,t[48]=Ct^~Ot&Ht,t[49]=Tt^~Rt&Wt,t[0]^=r[2*e],t[1]^=r[2*e+1]}}},4817:(t,e,r)=>{const n=r(9078);function i(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}i.prototype.initialize=function(t,e){for(let t=0;t<50;++t)this.state[t]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},i.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},i.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,128&t&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},i.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return e},i.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=i},8142:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",u="[object Error]",l="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",_=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[s]=A[o]=A[w]=A[a]=A[v]=A[c]=A[u]=A[l]=A[h]=A[d]=A[f]=A[g]=A[m]=A[y]=A[b]=!1;var S="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,x="object"==typeof self&&self&&self.Object===Object&&self,k=S||x||Function("return this")(),I=e&&!e.nodeType&&e,M=I&&t&&!t.nodeType&&t,C=M&&M.exports===I,T=C&&S.process,O=function(){try{return T&&T.binding&&T.binding("util")}catch(t){}}(),R=O&&O.isTypedArray;function P(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function N(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function B(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var L,D,U,j=Array.prototype,F=Function.prototype,z=Object.prototype,q=k["__core-js_shared__"],H=F.toString,W=z.hasOwnProperty,V=(L=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",$=z.toString,K=RegExp("^"+H.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=C?k.Buffer:void 0,Y=k.Symbol,Z=k.Uint8Array,J=z.propertyIsEnumerable,Q=j.splice,X=Y?Y.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=G?G.isBuffer:void 0,rt=(D=Object.keys,U=Object,function(t){return D(U(t))}),nt=Mt(k,"DataView"),it=Mt(k,"Map"),st=Mt(k,"Promise"),ot=Mt(k,"Set"),at=Mt(k,"WeakMap"),ct=Mt(Object,"create"),ut=Rt(nt),lt=Rt(it),ht=Rt(st),dt=Rt(ot),ft=Rt(at),pt=Y?Y.prototype:void 0,gt=pt?pt.valueOf:void 0;function mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new bt;++e<r;)this.add(t[e])}function vt(t){var e=this.__data__=new yt(t);this.size=e.size}function _t(t,e){for(var r=t.length;r--;)if(Pt(t[r][0],e))return r;return-1}function Et(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":X&&X in Object(t)?function(t){var e=W.call(t,X),r=t[X];try{t[X]=void 0;var n=!0}catch(t){}var i=$.call(t);return n&&(e?t[X]=r:delete t[X]),i}(t):function(t){return $.call(t)}(t)}function At(t){return Ft(t)&&Et(t)==s}function St(t,e,r,n,i){return t===e||(null==t||null==e||!Ft(t)&&!Ft(e)?t!=t&&e!=e:function(t,e,r,n,i,l){var p=Bt(t),b=Bt(e),_=p?o:Tt(t),E=b?o:Tt(e),A=(_=_==s?f:_)==f,S=(E=E==s?f:E)==f,x=_==E;if(x&&Lt(t)){if(!Lt(e))return!1;p=!0,A=!1}if(x&&!A)return l||(l=new vt),p||zt(t)?xt(t,e,r,n,i,l):function(t,e,r,n,i,s,o){switch(r){case v:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!s(new Z(t),new Z(e)));case a:case c:case d:return Pt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case h:var l=N;case m:var f=1&n;if(l||(l=B),t.size!=e.size&&!f)return!1;var p=o.get(t);if(p)return p==e;n|=2,o.set(t,e);var b=xt(l(t),l(e),n,i,s,o);return o.delete(t),b;case"[object Symbol]":if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,_,r,n,i,l);if(!(1&r)){var k=A&&W.call(t,"__wrapped__"),I=S&&W.call(e,"__wrapped__");if(k||I){var M=k?t.value():t,C=I?e.value():e;return l||(l=new vt),i(M,C,r,n,l)}}return!!x&&(l||(l=new vt),function(t,e,r,n,i,s){var o=1&r,a=kt(t),c=a.length;if(c!=kt(e).length&&!o)return!1;for(var u=c;u--;){var l=a[u];if(!(o?l in e:W.call(e,l)))return!1}var h=s.get(t);if(h&&s.get(e))return h==e;var d=!0;s.set(t,e),s.set(e,t);for(var f=o;++u<c;){var p=t[l=a[u]],g=e[l];if(n)var m=o?n(g,p,l,e,t,s):n(p,g,l,t,e,s);if(!(void 0===m?p===g||i(p,g,r,n,s):m)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,r,n,i,l))}(t,e,r,n,St,i))}function xt(t,e,r,n,i,s){var o=1&r,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var l=-1,h=!0,d=2&r?new wt:void 0;for(s.set(t,e),s.set(e,t);++l<a;){var f=t[l],p=e[l];if(n)var g=o?n(p,f,l,e,t,s):n(f,p,l,t,e,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!P(e,(function(t,e){if(o=e,!d.has(o)&&(f===t||i(f,t,r,n,s)))return d.push(e);var o}))){h=!1;break}}else if(f!==p&&!i(f,p,r,n,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function kt(t){return function(t,e,r){var n=e(t);return Bt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,qt,Ct)}function It(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Mt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!jt(t)||function(t){return!!V&&V in t}(t))&&(Dt(t)?K:_).test(Rt(t))}(r)?r:void 0}mt.prototype.clear=function(){this.__data__=ct?ct(null):{},this.size=0},mt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mt.prototype.get=function(t){var e=this.__data__;if(ct){var r=e[t];return r===n?void 0:r}return W.call(e,t)?e[t]:void 0},mt.prototype.has=function(t){var e=this.__data__;return ct?void 0!==e[t]:W.call(e,t)},mt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ct&&void 0===e?n:e,this},yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,r=_t(e,t);return!(r<0||(r==e.length-1?e.pop():Q.call(e,r,1),--this.size,0))},yt.prototype.get=function(t){var e=this.__data__,r=_t(e,t);return r<0?void 0:e[r][1]},yt.prototype.has=function(t){return _t(this.__data__,t)>-1},yt.prototype.set=function(t,e){var r=this.__data__,n=_t(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(it||yt),string:new mt}},bt.prototype.delete=function(t){var e=It(this,t).delete(t);return this.size-=e?1:0,e},bt.prototype.get=function(t){return It(this,t).get(t)},bt.prototype.has=function(t){return It(this,t).has(t)},bt.prototype.set=function(t,e){var r=It(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,n),this},wt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.clear=function(){this.__data__=new yt,this.size=0},vt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},vt.prototype.get=function(t){return this.__data__.get(t)},vt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!it||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new bt(n)}return r.set(t,e),this.size=r.size,this};var Ct=tt?function(t){return null==t?[]:(t=Object(t),function(e){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var o=e[r];a=o,J.call(t,a)&&(s[i++]=o)}var a;return s}(tt(t)))}:function(){return[]},Tt=Et;function Ot(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function Rt(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Pt(t,e){return t===e||t!=t&&e!=e}(nt&&Tt(new nt(new ArrayBuffer(1)))!=v||it&&Tt(new it)!=h||st&&Tt(st.resolve())!=p||ot&&Tt(new ot)!=m||at&&Tt(new at)!=b)&&(Tt=function(t){var e=Et(t),r=e==f?t.constructor:void 0,n=r?Rt(r):"";if(n)switch(n){case ut:return v;case lt:return h;case ht:return p;case dt:return m;case ft:return b}return e});var Nt=At(function(){return arguments}())?At:function(t){return Ft(t)&&W.call(t,"callee")&&!J.call(t,"callee")},Bt=Array.isArray,Lt=et||function(){return!1};function Dt(t){if(!jt(t))return!1;var e=Et(t);return e==l||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ut(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function jt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ft(t){return null!=t&&"object"==typeof t}var zt=R?function(t){return function(e){return t(e)}}(R):function(t){return Ft(t)&&Ut(t.length)&&!!A[Et(t)]};function qt(t){return null!=(e=t)&&Ut(e.length)&&!Dt(e)?function(t,e){var r=Bt(t),n=!r&&Nt(t),i=!r&&!n&&Lt(t),s=!r&&!n&&!i&&zt(t),o=r||n||i||s,a=o?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var u in t)!e&&!W.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ot(u,c))||a.push(u);return a}(t):function(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||z))return rt(t);var e,r,n=[];for(var i in Object(t))W.call(t,i)&&"constructor"!=i&&n.push(i);return n}(t);var e}t.exports=function(t,e){return St(t,e)}},6867:t=>{"use strict";const e=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let t=0;t<arguments.length;t++)n[t]=arguments[t];return new r(((r,i)=>{e.errorFirst?n.push((function(t,n){if(e.multiArgs){const e=new Array(arguments.length-1);for(let t=1;t<arguments.length;t++)e[t-1]=arguments[t];t?(e.unshift(t),i(e)):r(e)}else t?i(t):r(n)})):n.push((function(t){if(e.multiArgs){const t=new Array(arguments.length-1);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];r(t)}else r(t)})),t.apply(this,n)}))};t.exports=(t,r)=>{r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);const n=t=>{const e=e=>"string"==typeof e?t===e:e.test(t);return r.include?r.include.some(e):!r.exclude.some(e)};let i;i="function"==typeof t?function(){return r.excludeMain?t.apply(this,arguments):e(t,r).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t));for(const s in t){const o=t[s];i[s]="function"==typeof o&&n(s)?e(o,r):o}return i}},6578:t=>{"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},172:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Component:()=>x,Fragment:()=>S,cloneElement:()=>$,createContext:()=>K,createElement:()=>_,createRef:()=>A,h:()=>_,hydrate:()=>V,isValidElement:()=>o,options:()=>i,render:()=>W,toChildArray:()=>P});var n,i,s,o,a,c,u,l,h,d,f,p,g={},m=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b=Array.isArray;function w(t,e){for(var r in e)t[r]=e[r];return t}function v(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _(t,e,r){var i,s,o,a={};for(o in e)"key"==o?i=e[o]:"ref"==o?s=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return E(t,a,i,s,null)}function E(t,e,r,n,o){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++s:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(a),a}function A(){return{current:null}}function S(t){return t.children}function x(t,e){this.props=t,this.context=e}function k(t,e){if(null==e)return t.__?k(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?k(t):null}function I(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return I(t)}}function M(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!C.__r++||c!==i.debounceRendering)&&((c=i.debounceRendering)||u)(C)}function C(){var t,e,r,n,s,o,c,u;for(a.sort(l);t=a.shift();)t.__d&&(e=a.length,n=void 0,o=(s=(r=t).__v).__e,c=[],u=[],r.__P&&((n=w({},s)).__v=s.__v+1,i.vnode&&i.vnode(n),U(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[o]:null,c,null==o?k(s):o,!!(32&s.__u),u),n.__v=s.__v,n.__.__k[n.__i]=n,j(c,n,u),n.__e!=o&&I(n)),a.length>e&&a.sort(l));C.__r=0}function T(t,e,r,n,i,s,o,a,c,u,l){var h,d,f,p,y,b=n&&n.__k||m,w=e.length;for(r.__d=c,O(r,e,b),c=r.__d,h=0;h<w;h++)null!=(f=r.__k[h])&&(d=-1===f.__i?g:b[f.__i]||g,f.__i=h,U(t,f,d,i,s,o,a,c,u,l),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&z(d.ref,null,f),l.push(f.ref,f.__c||p,f)),null==y&&null!=p&&(y=p),65536&f.__u||d.__k===f.__k?c=R(f,c,t):"function"==typeof f.type&&void 0!==f.__d?c=f.__d:p&&(c=p.nextSibling),f.__d=void 0,f.__u&=-196609);r.__d=c,r.__e=y}function O(t,e,r){var n,i,s,o,a,c=e.length,u=r.length,l=u,h=0;for(t.__k=[],n=0;n<c;n++)null!=(i=e[n])&&"boolean"!=typeof i&&"function"!=typeof i?(o=n+h,(i=t.__k[n]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?E(null,i,null,null,null):b(i)?E(S,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?E(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,-1!==(a=i.__i=N(i,r,o,l))&&(l--,(s=r[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&h--,"function"!=typeof i.type&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[n]=null;if(l)for(n=0;n<u;n++)null!=(s=r[n])&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=k(s)),q(s,s))}function R(t,e,r){var n,i;if("function"==typeof t.type){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=R(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=k(t)),r.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function P(t,e){return e=e||[],null==t||"boolean"==typeof t||(b(t)?t.some((function(t){P(t,e)})):e.push(t)),e}function N(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(null===c||c&&i==c.key&&s===c.type&&!(131072&c.__u))return r;if(n>(null==c||131072&c.__u?0:1))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function B(t,e,r){"-"===e[0]?t.setProperty(e,null==r?"":r):t[e]=null==r?"":"number"!=typeof r||y.test(e)?r:r+"px"}function L(t,e,r,n,i){var s;t:if("style"===e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||B(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||B(t.style,e,r[e])}else if("o"===e[0]&&"n"===e[1])s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||"onFocusOut"===e||"onFocusIn"===e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=h,t.addEventListener(e,s?f:d,s)):t.removeEventListener(e,s?f:d,s);else{if("http://www.w3.org/2000/svg"==i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null==r||!1===r&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==r?"":r))}}function D(t){return function(e){if(this.l){var r=this.l[e.type+t];if(null==e.t)e.t=h++;else if(e.t<r.u)return;return r(i.event?i.event(e):e)}}}function U(t,e,r,n,s,o,a,c,u,l){var h,d,f,p,g,m,y,v,_,E,A,k,I,M,C,O,R=e.type;if(void 0!==e.constructor)return null;128&r.__u&&(u=!!(32&r.__u),o=[c=e.__e=r.__e]),(h=i.__b)&&h(e);t:if("function"==typeof R)try{if(v=e.props,_="prototype"in R&&R.prototype.render,E=(h=R.contextType)&&n[h.__c],A=h?E?E.props.value:h.__:n,r.__c?y=(d=e.__c=r.__c).__=d.__E:(_?e.__c=d=new R(v,A):(e.__c=d=new x(v,A),d.constructor=R,d.render=H),E&&E.sub(d),d.props=v,d.state||(d.state={}),d.context=A,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),_&&null==d.__s&&(d.__s=d.state),_&&null!=R.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=w({},d.__s)),w(d.__s,R.getDerivedStateFromProps(v,d.__s))),p=d.props,g=d.state,d.__v=e,f)_&&null==R.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),_&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(_&&null==R.getDerivedStateFromProps&&v!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,A),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,A)||e.__v===r.__v)){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some((function(t){t&&(t.__=e)})),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&a.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,A),_&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,g,m)}))}if(d.context=A,d.props=v,d.__P=t,d.__e=!1,I=i.__r,M=0,_){for(d.state=d.__s,d.__d=!1,I&&I(e),h=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do{d.__d=!1,I&&I(e),h=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++M<25);d.state=d.__s,null!=d.getChildContext&&(n=w(w({},n),d.getChildContext())),_&&!f&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(p,g)),T(t,b(O=null!=h&&h.type===S&&null==h.key?h.props.children:h)?O:[O],e,r,n,s,o,a,c,u,l),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),y&&(d.__E=d.__=null)}catch(t){if(e.__v=null,u||null!=o){for(e.__u|=u?160:32;c&&8===c.nodeType&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else e.__e=r.__e,e.__k=r.__k;i.__e(t,e,r)}else null==o&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=F(r.__e,e,r,n,s,o,a,u,l);(h=i.diffed)&&h(e)}function j(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)z(r[n],r[++n],r[++n]);i.__c&&i.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){i.__e(t,e.__v)}}))}function F(t,e,r,s,o,a,c,u,l){var h,d,f,p,m,y,w,_=r.props,E=e.props,A=e.type;if("svg"===A?o="http://www.w3.org/2000/svg":"math"===A?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=a)for(h=0;h<a.length;h++)if((m=a[h])&&"setAttribute"in m==!!A&&(A?m.localName===A:3===m.nodeType)){t=m,a[h]=null;break}if(null==t){if(null===A)return document.createTextNode(E);t=document.createElementNS(o,A,E.is&&E),u&&(i.__m&&i.__m(e,a),u=!1),a=null}if(null===A)_===E||u&&t.data===E||(t.data=E);else{if(a=a&&n.call(t.childNodes),_=r.props||g,!u&&null!=a)for(_={},h=0;h<t.attributes.length;h++)_[(m=t.attributes[h]).name]=m.value;for(h in _)if(m=_[h],"children"==h);else if("dangerouslySetInnerHTML"==h)f=m;else if(!(h in E)){if("value"==h&&"defaultValue"in E||"checked"==h&&"defaultChecked"in E)continue;L(t,h,null,m,o)}for(h in E)m=E[h],"children"==h?p=m:"dangerouslySetInnerHTML"==h?d=m:"value"==h?y=m:"checked"==h?w=m:u&&"function"!=typeof m||_[h]===m||L(t,h,m,_[h],o);if(d)u||f&&(d.__html===f.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(f&&(t.innerHTML=""),T(t,b(p)?p:[p],e,r,s,"foreignObject"===A?"http://www.w3.org/1999/xhtml":o,a,c,a?a[0]:r.__k&&k(r,0),u,l),null!=a)for(h=a.length;h--;)v(a[h]);u||(h="value","progress"===A&&null==y?t.removeAttribute("value"):void 0!==y&&(y!==t[h]||"progress"===A&&!y||"option"===A&&y!==_[h])&&L(t,h,y,_[h],o),h="checked",void 0!==w&&w!==t[h]&&L(t,h,w,_[h],o))}return t}function z(t,e,r){try{if("function"==typeof t){var n="function"==typeof t.__u;n&&t.__u(),n&&null==e||(t.__u=t(e))}else t.current=e}catch(t){i.__e(t,r)}}function q(t,e,r){var n,s;if(i.unmount&&i.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||z(n,null,e)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){i.__e(t,e)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&q(n[s],e,r||"function"!=typeof t.type);r||v(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function H(t,e,r){return this.constructor(t,r)}function W(t,e,r){var s,o,a,c;i.__&&i.__(t,e),o=(s="function"==typeof r)?null:r&&r.__k||e.__k,a=[],c=[],U(e,t=(!s&&r||e).__k=_(S,null,[t]),o||g,g,e.namespaceURI,!s&&r?[r]:o?null:e.firstChild?n.call(e.childNodes):null,a,!s&&r?r:o?o.__e:e.firstChild,s,c),j(a,t,c)}function V(t,e){W(t,e,V)}function $(t,e,r){var i,s,o,a,c=w({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)"key"==o?i=e[o]:"ref"==o?s=e[o]:c[o]=void 0===e[o]&&void 0!==a?a[o]:e[o];return arguments.length>2&&(c.children=arguments.length>3?n.call(arguments,2):r),E(t.type,c,i||t.key,s||t.ref,null)}function K(t,e){var r={__c:e="__cC"+p++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,n;return this.getChildContext||(r=[],(n={})[e]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.some((function(t){t.__e=!0,M(t)}))},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r&&r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Provider.__=r.Consumer.contextType=r}n=m.slice,i={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(e){t=e}throw t}},s=0,o=function(t){return null!=t&&null==t.constructor},x.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=w({},this.state),"function"==typeof t&&(t=t(w({},r),this.props)),t&&w(r,t),null!=t&&this.__v&&(e&&this._sb.push(e),M(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),M(this))},x.prototype.render=S,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(t,e){return t.__v.__b-e.__v.__b},C.__r=0,h=0,d=D(!1),f=D(!0),p=0},5994:(t,e,r)=>{"use strict";r.r(e),r.d(e,{useCallback:()=>x,useContext:()=>k,useDebugValue:()=>I,useEffect:()=>v,useErrorBoundary:()=>M,useId:()=>C,useImperativeHandle:()=>A,useLayoutEffect:()=>_,useMemo:()=>S,useReducer:()=>w,useRef:()=>E,useState:()=>b});var n,i,s,o,a=r(172),c=0,u=[],l=a.options,h=l.__b,d=l.__r,f=l.diffed,p=l.__c,g=l.unmount,m=l.__;function y(t,e){l.__h&&l.__h(i,t,c||e),c=0;var r=i.__H||(i.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function b(t){return c=1,w(L,t)}function w(t,e,r){var s=y(n++,2);if(s.t=t,!s.__c&&(s.__=[r?r(e):L(void 0,e),function(t){var e=s.__N?s.__N[0]:s.__[0],r=s.t(e,t);e!==r&&(s.__N=[r,s.__[1]],s.__c.setState({}))}],s.__c=i,!i.u)){var o=function(t,e,r){if(!s.__c.__H)return!0;var n=s.__c.__H.__.filter((function(t){return!!t.__c}));if(n.every((function(t){return!t.__N})))return!a||a.call(this,t,e,r);var i=!1;return n.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),!(!i&&s.__c.props===t)&&(!a||a.call(this,t,e,r))};i.u=!0;var a=i.shouldComponentUpdate,c=i.componentWillUpdate;i.componentWillUpdate=function(t,e,r){if(this.__e){var n=a;a=void 0,o(t,e,r),a=n}c&&c.call(this,t,e,r)},i.shouldComponentUpdate=o}return s.__N||s.__}function v(t,e){var r=y(n++,3);!l.__s&&B(r.__H,e)&&(r.__=t,r.i=e,i.__H.__h.push(r))}function _(t,e){var r=y(n++,4);!l.__s&&B(r.__H,e)&&(r.__=t,r.i=e,i.__h.push(r))}function E(t){return c=5,S((function(){return{current:t}}),[])}function A(t,e,r){c=6,_((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==r?r:r.concat(t))}function S(t,e){var r=y(n++,7);return B(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function x(t,e){return c=8,S((function(){return t}),e)}function k(t){var e=i.context[t.__c],r=y(n++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(i)),e.props.value):t.__}function I(t,e){l.useDebugValue&&l.useDebugValue(e?e(t):t)}function M(t){var e=y(n++,10),r=b();return e.__=t,i.componentDidCatch||(i.componentDidCatch=function(t,n){e.__&&e.__(t,n),r[1](t)}),[r[0],function(){r[1](void 0)}]}function C(){var t=y(n++,11);if(!t.__){for(var e=i.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function T(){for(var t;t=u.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(P),t.__H.__h.forEach(N),t.__H.__h=[]}catch(e){t.__H.__h=[],l.__e(e,t.__v)}}l.__b=function(t){i=null,h&&h(t)},l.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),m&&m(t,e)},l.__r=function(t){d&&d(t),n=0;var e=(i=t.__c).__H;e&&(s===i?(e.__h=[],i.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0}))):(e.__h.forEach(P),e.__h.forEach(N),e.__h=[],n=0)),s=i},l.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==u.push(e)&&o===l.requestAnimationFrame||((o=l.requestAnimationFrame)||R)(T)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.i=void 0}))),s=i=null},l.__c=function(t,e){e.some((function(t){try{t.__h.forEach(P),t.__h=t.__h.filter((function(t){return!t.__||N(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],l.__e(r,t.__v)}})),p&&p(t,e)},l.unmount=function(t){g&&g(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{P(t)}catch(t){e=t}})),r.__H=void 0,e&&l.__e(e,r.__v))};var O="function"==typeof requestAnimationFrame;function R(t){var e,r=function(){clearTimeout(n),O&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);O&&(e=requestAnimationFrame(r))}function P(t){var e=i,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),i=e}function N(t){var e=i;t.__c=t.__(),i=e}function B(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function L(t,e){return"function"==typeof e?e(t):e}},5606:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=o(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new f(t,e)),1!==c.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},7583:(t,e,r)=>{const n=r(3714),i=r(157),s=r(7899),o=r(6756);function a(t,e,r,s,o){const a=[].slice.call(arguments,1),c=a.length,u="function"==typeof a[c-1];if(!u&&!n())throw new Error("Callback required as last argument");if(!u){if(c<1)throw new Error("Too few arguments provided");return 1===c?(r=e,e=s=void 0):2!==c||e.getContext||(s=r,r=e,e=void 0),new Promise((function(n,o){try{const o=i.create(r,s);n(t(o,e,s))}catch(t){o(t)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(o=r,r=e,e=s=void 0):3===c&&(e.getContext&&void 0===o?(o=s,s=void 0):(o=s,s=r,r=e,e=void 0));try{const n=i.create(r,s);o(null,t(n,e,s))}catch(t){o(t)}}e.create=i.create,e.toCanvas=a.bind(null,s.render),e.toDataURL=a.bind(null,s.renderToDataURL),e.toString=a.bind(null,(function(t,e,r){return o.render(t,r)}))},3714:t=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6421:(t,e,r)=>{const n=r(6886).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,r=n(t),i=145===r?26:2*Math.ceil((r-13)/(2*e-2)),s=[r-7];for(let t=1;t<e-1;t++)s[t]=s[t-1]-i;return s.push(6),s.reverse()},e.getPositions=function(t){const r=[],n=e.getRowColCoords(t),i=n.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||r.push([n[t],n[e]]);return r}},1433:(t,e,r)=>{const n=r(208),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(t){this.mode=n.ALPHANUMERIC,this.data=t}s.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=45*i.indexOf(this.data[e]);r+=i.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=s},9899:t=>{function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},8820:t=>{function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},5822:(t,e,r)=>{const n=r(9049),i=r(208);function s(t){this.mode=i.BYTE,"string"==typeof t&&(t=n(t)),this.data=new Uint8Array(t)}s.getBitsLength=function(t){return 8*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)},t.exports=s},7518:(t,e,r)=>{const n=r(9953),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return i[4*(t-1)+0];case n.M:return i[4*(t-1)+1];case n.Q:return i[4*(t-1)+2];case n.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return s[4*(t-1)+0];case n.M:return s[4*(t-1)+1];case n.Q:return s[4*(t-1)+2];case n.H:return s[4*(t-1)+3];default:return}}},9953:(t,e)=>{e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return r}}},7756:(t,e,r)=>{const n=r(6886).getSymbolSize;e.getPositions=function(t){const e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},4565:(t,e,r)=>{const n=r(6886),i=n.getBCHDigit(1335);e.getEncodedBits=function(t,e){const r=t.bit<<3|e;let s=r<<10;for(;n.getBCHDigit(s)-i>=0;)s^=1335<<n.getBCHDigit(s)-i;return 21522^(r<<10|s)}},2731:(t,e)=>{const r=new Uint8Array(512),n=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)r[e]=t,n[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return r[t]},e.mul=function(t,e){return 0===t||0===e?0:r[n[t]+n[e]]}},4861:(t,e,r)=>{const n=r(208),i=r(6886);function s(t){this.mode=n.KANJI,this.data=t}s.getBitsLength=function(t){return 13*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=i.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}},t.exports=s},1332:(t,e)=>{e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let r=0,n=0,i=0,s=null,o=null;for(let a=0;a<e;a++){n=i=0,s=o=null;for(let c=0;c<e;c++){let e=t.get(a,c);e===s?n++:(n>=5&&(r+=n-5+3),s=e,n=1),e=t.get(c,a),e===o?i++:(i>=5&&(r+=i-5+3),o=e,i=1)}n>=5&&(r+=n-5+3),i>=5&&(r+=i-5+3)}return r},e.getPenaltyN2=function(t){const e=t.size;let r=0;for(let n=0;n<e-1;n++)for(let i=0;i<e-1;i++){const e=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==e&&0!==e||r++}return 3*r},e.getPenaltyN3=function(t){const e=t.size;let r=0,n=0,i=0;for(let s=0;s<e;s++){n=i=0;for(let o=0;o<e;o++)n=n<<1&2047|t.get(s,o),o>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|t.get(o,s),o>=10&&(1488===i||93===i)&&r++}return 40*r},e.getPenaltyN4=function(t){let e=0;const r=t.data.length;for(let n=0;n<r;n++)e+=t.data[n];return 10*Math.abs(Math.ceil(100*e/r/5)-10)},e.applyMask=function(t,e){const n=e.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)e.isReserved(s,i)||e.xor(s,i,r(t,s,i))},e.getBestMask=function(t,r){const n=Object.keys(e.Patterns).length;let i=0,s=1/0;for(let o=0;o<n;o++){r(o),e.applyMask(o,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),n<s&&(s=n,i=o)}return i}},208:(t,e,r)=>{const n=r(1878),i=r(7044);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return r}}},4357:(t,e,r)=>{const n=r(208);function i(t){this.mode=n.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*i+1))},t.exports=i},4713:(t,e,r)=>{const n=r(2731);e.mul=function(t,e){const r=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let s=0;s<e.length;s++)r[i+s]^=n.mul(t[i],e[s]);return r},e.mod=function(t,e){let r=new Uint8Array(t);for(;r.length-e.length>=0;){const t=r[0];for(let i=0;i<e.length;i++)r[i]^=n.mul(e[i],t);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},e.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let i=0;i<t;i++)r=e.mul(r,new Uint8Array([1,n.exp(i)]));return r}},157:(t,e,r)=>{const n=r(6886),i=r(9953),s=r(9899),o=r(8820),a=r(6421),c=r(7756),u=r(1332),l=r(7518),h=r(4764),d=r(1427),f=r(4565),p=r(208),g=r(9801);function m(t,e,r){const n=t.size,i=f.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=1==(i>>s&1),s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function y(t,e,r,i){let f;if(Array.isArray(t))f=g.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let n=e;if(!n){const e=g.rawSplit(t);n=d.getBestVersionForData(e,r)}f=g.fromString(t,n||40)}}const y=d.getBestVersionForData(f,r);if(!y)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<y)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else e=y;const b=function(t,e,r){const i=new s;r.forEach((function(e){i.put(e.mode.bit,4),i.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(i)}));const o=8*(n.getSymbolTotalCodewords(t)-l.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const a=(o-i.getLengthInBits())/8;for(let t=0;t<a;t++)i.put(t%2?17:236,8);return function(t,e,r){const i=n.getSymbolTotalCodewords(e),s=i-l.getTotalCodewordsCount(e,r),o=l.getBlocksCount(e,r),a=o-i%o,c=Math.floor(i/o),u=Math.floor(s/o),d=u+1,f=c-u,p=new h(f);let g=0;const m=new Array(o),y=new Array(o);let b=0;const w=new Uint8Array(t.buffer);for(let t=0;t<o;t++){const e=t<a?u:d;m[t]=w.slice(g,g+e),y[t]=p.encode(m[t]),g+=e,b=Math.max(b,e)}const v=new Uint8Array(i);let _,E,A=0;for(_=0;_<b;_++)for(E=0;E<o;E++)_<m[E].length&&(v[A++]=m[E][_]);for(_=0;_<f;_++)for(E=0;E<o;E++)v[A++]=y[E][_];return v}(i,t,e)}(e,r,f),w=n.getSymbolSize(e),v=new o(w);return function(t,e){const r=t.size,n=c.getPositions(e);for(let e=0;e<n.length;e++){const i=n[e][0],s=n[e][1];for(let e=-1;e<=7;e++)if(!(i+e<=-1||r<=i+e))for(let n=-1;n<=7;n++)s+n<=-1||r<=s+n||(e>=0&&e<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===e||6===e)||e>=2&&e<=4&&n>=2&&n<=4?t.set(i+e,s+n,!0,!0):t.set(i+e,s+n,!1,!0))}}(v,e),function(t){const e=t.size;for(let r=8;r<e-8;r++){const e=r%2==0;t.set(r,6,e,!0),t.set(6,r,e,!0)}}(v),function(t,e){const r=a.getPositions(e);for(let e=0;e<r.length;e++){const n=r[e][0],i=r[e][1];for(let e=-2;e<=2;e++)for(let r=-2;r<=2;r++)-2===e||2===e||-2===r||2===r||0===e&&0===r?t.set(n+e,i+r,!0,!0):t.set(n+e,i+r,!1,!0)}}(v,e),m(v,r,0),e>=7&&function(t,e){const r=t.size,n=d.getEncodedBits(e);let i,s,o;for(let e=0;e<18;e++)i=Math.floor(e/3),s=e%3+r-8-3,o=1==(n>>e&1),t.set(i,s,o,!0),t.set(s,i,o,!0)}(v,e),function(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!t.isReserved(i,a-r)){let n=!1;o<e.length&&(n=1==(e[o]>>>s&1)),t.set(i,a-r,n),s--,-1===s&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}(v,b),isNaN(i)&&(i=u.getBestMask(v,m.bind(null,v,r))),u.applyMask(i,v),m(v,r,i),{modules:v,version:e,errorCorrectionLevel:r,maskPattern:i,segments:f}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let r,s,o=i.M;return void 0!==e&&(o=i.from(e.errorCorrectionLevel,i.M),r=d.from(e.version),s=u.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),y(t,r,o,s)}},4764:(t,e,r)=>{const n=r(4713);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=n.mod(e,this.genPoly),i=this.degree-r.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(r,i),t}return r},t.exports=i},7044:(t,e)=>{const r="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp(r,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const s=new RegExp("^"+n+"$"),o=new RegExp("^"+r+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return s.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},9801:(t,e,r)=>{const n=r(208),i=r(4357),s=r(1433),o=r(5822),a=r(4861),c=r(7044),u=r(6886),l=r(6320);function h(t){return unescape(encodeURIComponent(t)).length}function d(t,e,r){const n=[];let i;for(;null!==(i=t.exec(r));)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function f(t){const e=d(c.NUMERIC,n.NUMERIC,t),r=d(c.ALPHANUMERIC,n.ALPHANUMERIC,t);let i,s;return u.isKanjiModeEnabled()?(i=d(c.BYTE,n.BYTE,t),s=d(c.KANJI,n.KANJI,t)):(i=d(c.BYTE_KANJI,n.BYTE,t),s=[]),e.concat(r,i,s).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function p(t,e){switch(e){case n.NUMERIC:return i.getBitsLength(t);case n.ALPHANUMERIC:return s.getBitsLength(t);case n.KANJI:return a.getBitsLength(t);case n.BYTE:return o.getBitsLength(t)}}function g(t,e){let r;const c=n.getBestModeForData(t);if(r=n.from(e,c),r!==n.BYTE&&r.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(c));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new i(t);case n.ALPHANUMERIC:return new s(t);case n.KANJI:return new a(t);case n.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,r){const i=function(t){const e=[];for(let r=0;r<t.length;r++){const i=t[r];switch(i.mode){case n.NUMERIC:e.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:e.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:e.push([i,{data:i.data,mode:n.BYTE,length:h(i.data)}]);break;case n.BYTE:e.push([{data:i.data,mode:n.BYTE,length:h(i.data)}])}}return e}(f(t,u.isKanjiModeEnabled())),s=function(t,e){const r={},i={start:{}};let s=["start"];for(let o=0;o<t.length;o++){const a=t[o],c=[];for(let t=0;t<a.length;t++){const u=a[t],l=""+o+t;c.push(l),r[l]={node:u,lastCount:0},i[l]={};for(let t=0;t<s.length;t++){const o=s[t];r[o]&&r[o].node.mode===u.mode?(i[o][l]=p(r[o].lastCount+u.length,u.mode)-p(r[o].lastCount,u.mode),r[o].lastCount+=u.length):(r[o]&&(r[o].lastCount=u.length),i[o][l]=p(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,e))}}s=c}for(let t=0;t<s.length;t++)i[s[t]].end=0;return{map:i,table:r}}(i,r),o=l.find_path(s.map,"start","end"),a=[];for(let t=1;t<o.length-1;t++)a.push(s.table[o[t]].node);return e.fromArray(a.reduce((function(t,e){const r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[]))},e.rawSplit=function(t){return e.fromArray(f(t,u.isKanjiModeEnabled()))}},6886:(t,e)=>{let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');r=t},e.isKanjiModeEnabled=function(){return void 0!==r},e.toSJIS=function(t){return r(t)}},1878:(t,e)=>{e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},1427:(t,e,r)=>{const n=r(6886),i=r(7518),s=r(9953),o=r(208),a=r(1878),c=n.getBCHDigit(7973);function u(t,e){return o.getCharCountIndicator(t,e)+4}function l(t,e){let r=0;return t.forEach((function(t){const n=u(t.mode,e);r+=n+t.getBitsLength()})),r}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!a.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=o.BYTE);const s=8*(n.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(r===o.MIXED)return s;const c=s-u(r,t);switch(r){case o.NUMERIC:return Math.floor(c/10*3);case o.ALPHANUMERIC:return Math.floor(c/11*2);case o.KANJI:return Math.floor(c/13);case o.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){let n;const i=s.from(r,s.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++)if(l(t,n)<=e.getCapacity(n,r,o.MIXED))return n}(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,n){for(let i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;n.getBCHDigit(e)-c>=0;)e^=7973<<n.getBCHDigit(e)-c;return t<<12|e}},7899:(t,e,r)=>{const n=r(7488);e.render=function(t,e,r){let i=r,s=e;void 0!==i||e&&e.getContext||(i=e,e=void 0),e||(s=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=n.getOptions(i);const o=n.getImageWidth(t.modules.size,i),a=s.getContext("2d"),c=a.createImageData(o,o);return n.qrToImageData(c.data,t,i),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}(a,s,o),a.putImageData(c,0,0),s},e.renderToDataURL=function(t,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});const s=e.render(t,r,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}},6756:(t,e,r)=>{const n=r(7488);function i(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function s(t,e,r){let n=t+e;return void 0!==r&&(n+=" "+r),n}e.render=function(t,e,r){const o=n.getOptions(e),a=t.modules.size,c=t.modules.data,u=a+2*o.margin,l=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",h="<path "+i(o.color.dark,"stroke")+' d="'+function(t,e,r){let n="",i=0,o=!1,a=0;for(let c=0;c<t.length;c++){const u=Math.floor(c%e),l=Math.floor(c/e);u||o||(o=!0),t[c]?(a++,c>0&&u>0&&t[c-1]||(n+=o?s("M",u+r,.5+l+r):s("m",i,0),i=0,o=!1),u+1<e&&t[c+1]||(n+=s("h",a),a=0)):i++}return n}(c,a,o.margin)+'"/>',d='viewBox="0 0 '+u+" "+u+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+h+"</svg>\n";return"function"==typeof r&&r(null,f),f}},7488:(t,e)=>{function r(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:n,scale:n?4:i,margin:e,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){const n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){const i=r.modules.size,s=r.modules.data,o=e.getScale(i,n),a=Math.floor((i+2*n.margin)*o),c=n.margin*o,u=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let l=4*(e*a+r),h=n.color.light;e>=c&&r>=c&&e<a-c&&r<a-c&&(h=u[s[Math.floor((e-c)/o)*i+Math.floor((r-c)/o)]?1:0]),t[l++]=h.r,t[l++]=h.g,t[l++]=h.b,t[l]=h.a}}},6663:(t,e,r)=>{"use strict";const n=r(4280),i=r(454),s=r(528),o=r(3055),a=Symbol("encodeFragmentIdentifier");function c(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function l(t,e){return e.decode?i(t):t}function h(t){return Array.isArray(t)?t.sort():"object"==typeof t?h(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function d(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function f(t){const e=(t=d(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){c((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!i&&l(r,t).includes(t.arrayFormatSeparator);r=s?l(r,t):r;const o=i||s?r.split(t.arrayFormatSeparator).map((e=>l(e,t))):null===r?r:l(r,t);n[e]=o};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?l(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>l(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,o]=s(e.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:l(o,e),r(l(t,e),o,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=h(r):t[e]=r,t}),Object.create(null))}e.extract=f,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";c((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,t),e,u(i,t)].join("")]:[[n,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(f(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=d(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i,{sort:!1}),o=Object.assign(s,t.query);let c=e.stringify(o,r);c&&(c=`?${c}`);let l=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(l=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${c}${l}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:s,fragmentIdentifier:c}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:c},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},793:t=>{"use strict";function e(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}t.exports=function(t,r,n){var i=n&&n.stringify||e;if("object"==typeof t&&null!==t){var s=r.length+1;if(1===s)return t;var o=new Array(s);o[0]=i(t);for(var a=1;a<s;a++)o[a]=i(r[a]);return o.join(" ")}if("string"!=typeof t)return t;var c=r.length;if(0===c)return t;for(var u="",l=0,h=-1,d=t&&t.length||0,f=0;f<d;){if(37===t.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,t.charCodeAt(f+1)){case 100:case 102:if(l>=c)break;if(null==r[l])break;h<f&&(u+=t.slice(h,f)),u+=Number(r[l]),h=f+2,f++;break;case 105:if(l>=c)break;if(null==r[l])break;h<f&&(u+=t.slice(h,f)),u+=Math.floor(Number(r[l])),h=f+2,f++;break;case 79:case 111:case 106:if(l>=c)break;if(void 0===r[l])break;h<f&&(u+=t.slice(h,f));var p=typeof r[l];if("string"===p){u+="'"+r[l]+"'",h=f+2,f++;break}if("function"===p){u+=r[l].name||"<anonymous>",h=f+2,f++;break}u+=i(r[l]),h=f+2,f++;break;case 115:if(l>=c)break;h<f&&(u+=t.slice(h,f)),u+=String(r[l]),h=f+2,f++;break;case 37:h<f&&(u+=t.slice(h,f)),u+="%",h=f+2,f++,l--}++l}++f}return-1===h?t:(h<d&&(u+=t.slice(h)),u)}},6048:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,s,o,a,c;if("string"==typeof e&&(s="not ",e.substr(0,4)===s)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))o="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=t).length||-1===a.indexOf(".",c)?"argument":"property");o='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(n(e,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.F=e},5382:(t,e,r)=>{"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=u;var i=r(5412),s=r(6708);r(6698)(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},3600:(t,e,r)=>{"use strict";t.exports=i;var n=r(4610);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(6698)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},5412:(t,e,r)=>{"use strict";var n;t.exports=S,S.ReadableState=A,r(7007).EventEmitter;var i,s=function(t,e){return t.listeners(e).length},o=r(345),a=r(8287).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(9838);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,d,f=r(2726),p=r(5896),g=r(5291).getHighWaterMark,m=r(6048).F,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(6698)(S,o);var _=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function A(t,e,i){n=n||r(5382),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=r(3141).I),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||r(5382),!(this instanceof S))return new S(t);var e=this instanceof n;this._readableState=new A(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function x(t,e,r,n,s){i("readableAddChunk",e);var o,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,T(t)))}}(t,u);else if(s||(o=function(t,e){var r,n;return n=e,a.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],e)),r}(u,e)),o)_(t,o);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)u.endEmitted?_(t,new v):k(t,u,e,!0);else if(u.ended)_(t,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?k(t,u,e,!1):O(t,u)):k(t,u,e,!1)}else n||(u.reading=!1,O(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function k(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&C(t)),O(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),x(this,t,e,!1,r)},S.prototype.unshift=function(t){return x(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=r(3141).I);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function M(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(T,t))}function T(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function O(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(R,t,e))}function R(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){i("readable nexttick read 0"),t.read(0)}function B(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function U(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(j,e,t))}function j(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function F(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}S.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?U(this):C(this),null;if(0===(t=M(t,e))&&e.ended)return 0===e.length&&U(this),null;var n,s=e.needReadable;return i("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",s=!0),e.ended||e.reading?i("reading or ended",s=!1):s&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=M(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&U(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(t){_(this,new w("_read()"))},S.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var o=e&&!1===e.end||t===process.stdout||t===process.stderr?p:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",(function e(s,o){i("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,i("cleanup"),t.removeListener("close",d),t.removeListener("finish",f),t.removeListener("drain",c),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,L(t))}}(r);t.on("drain",c);var u=!1;function l(e){i("ondata");var s=t.write(e);i("dest.write",s),!1===s&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==F(n.pipes,t))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),p(),t.removeListener("error",h),0===s(t,"error")&&_(t,e)}function d(){t.removeListener("finish",f),p()}function f(){i("onfinish"),t.removeListener("close",d),p()}function p(){i("unpipe"),r.unpipe(t)}return r.on("data",l),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",d),t.once("finish",f),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},S.prototype.on=function(t,e){var r=o.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?C(this):n.reading||process.nextTick(N,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var r=o.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(P,this),r},S.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(P,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(B,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var s in t.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(s){i("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(e.push(s)||(n=!0,t.pause()))})),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var o=0;o<E.length;o++)t.on(E[o],this.emit.bind(this,E[o]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(2955)),h(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=r(5157)),d(S,t,e)})},4610:(t,e,r)=>{"use strict";t.exports=l;var n=r(6048).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(5382);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);c.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,r){d(t,e,r)}))}function d(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(6698)(l,c),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){c.prototype._destroy.call(this,t,(function(t){e(t)}))}},6708:(t,e,r)=>{"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e){var r=t.entry;for(t.entry=null;r;){var n=r.callback;e.pendingcb--,n(undefined),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=S,S.WritableState=A;var s,o={deprecate:r(7024)},a=r(345),c=r(8287).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(5896),h=r(5291).getHighWaterMark,d=r(6048).F,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function E(){}function A(t,e,s){i=i||r(5382),t=t||{},"boolean"!=typeof s&&(s=e instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(T,t,e),t._writableState.errorEmitted=!0,_(t,n)):(i(n),t._writableState.errorEmitted=!0,_(t,n),T(t,e))}(t,r,n,e,i);else{var s=M(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||I(t,r),n?process.nextTick(k,t,r,s,i):k(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var e=this instanceof(i=i||r(5382));if(!e&&!s.call(S,this))return new S(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function x(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function k(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),T(t,e)}function I(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,s=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,x(t,e,!0,e.length,s,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(x(t,e,!1,e.objectMode?1:u.length,u,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function M(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(r){e.pendingcb--,r&&_(t,r),e.prefinished=!0,t.emit("prefinish"),T(t,e)}))}function T(t,e){var r=M(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(C,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(6698)(S,a),A.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===S&&t&&t._writableState instanceof A}})):s=function(t){return t instanceof this},S.prototype.pipe=function(){_(this,new m)},S.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(n=t,c.isBuffer(n)||n instanceof u);return o&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(t,e){var r=new w;_(t,r),process.nextTick(e,r)}(this,r):(o||function(t,e,r,n){var i;return null===r?i=new b:"string"==typeof r||e.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(_(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,a,n,i,s);return u}(this,i,o,t,e,r)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new v(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,T(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(t,e){e(t)}},2955:(t,e,r)=>{"use strict";var n;function i(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(6238),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[d].read();null!==r&&(t[l]=null,t[o]=null,t[a]=null,e(f(r,!1)))}}function g(t){process.nextTick(p,t)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[c]?r(t[c]):e(f(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[u]?r(f(void 0,!0)):e[h](r,n)}),n)}}(n,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(f(i,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(f(void 0,!0))}))}))})),n),m);t.exports=function(t){var e,r=Object.create(y,(i(e={},d,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,c,{value:null,writable:!0}),i(e,u,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[d].read();n?(r[l]=null,r[o]=null,r[a]=null,t(f(n,!1))):(r[o]=t,r[a]=e)},writable:!0}),e));return r[l]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[l]=null,r[o]=null,r[a]=null,e(t)),void(r[c]=t)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(f(void 0,!0))),r[u]=!0})),t.on("readable",g.bind(null,r)),r}},2726:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var c=r(8287).Buffer,u=r(5340).inspect,l=u&&u.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return c.alloc(0);for(var e,r,n,i=c.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,r=i,n=o,c.prototype.copy.call(e,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(s===i.length?n+=i:n+=i.slice(0,t),0==(t-=s)){s===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=c.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,s=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,s),0==(t-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return u(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},5896:t=>{"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!i&&t?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(e,s,t)):process.nextTick(e,s,t):i?(process.nextTick(r,s),i(t)):process.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},6238:(t,e,r)=>{"use strict";var n=r(6048).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,c=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(e)},f=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},g=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",d),e.on("finish",l),!1!==r.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",l),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}},5157:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},7758:(t,e,r)=>{"use strict";var n,i=r(6048).F,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function c(t){t()}function u(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var l,h=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var d=e.map((function(t,i){var s=i<e.length-1;return function(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(6238)),n(t,{readable:e,writable:i},(function(t){if(t)return s(t);a=!0,s()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,(function(t){l||(l=t),t&&d.forEach(c),s||(d.forEach(c),h(l))}))}));return e.reduce(u)}},5291:(t,e,r)=>{"use strict";var n=r(6048).F.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},345:(t,e,r)=>{t.exports=r(7007).EventEmitter},8399:(t,e,r)=>{(e=t.exports=r(5412)).Stream=e,e.Readable=e,e.Writable=r(6708),e.Duplex=r(5382),e.Transform=r(4610),e.PassThrough=r(3600),e.finished=r(6238),e.pipeline=r(7758)},3678:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},2861:(t,e,r)=>{var n=r(8287),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},9114:(t,e,r)=>{const n=r(537),i=r(7007);var s="object"==typeof Reflect?Reflect:null,o=s&&"function"==typeof s.apply?s.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function a(){i.call(this)}function c(t,e,r){try{o(t,e,r)}catch(t){setTimeout((()=>{throw t}))}}t.exports=a,n.inherits(a,i),a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)c(a,this,e);else{var u=a.length,l=function(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}(a,u);for(r=0;r<u;++r)c(l[r],this,e)}return!0}},9278:(t,e,r)=>{"use strict";var n=r(453),i=r(41),s=r(592)(),o=r(5795),a=r(9675),c=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||c(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in t&&o){var l=o(t,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(s?i(t,"length",e,!0,!0):i(t,"length",e)),t}},528:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},4280:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},3141:(t,e,r)=>{"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.I=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},4281:(t,e)=>{"use strict";function r(t,e,r){return e<=t&&t<=r}function n(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function i(t){this.tokens=[].slice.call(t)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var s=-1;function o(t,e){if(t)throw TypeError("Decoder error");return e||65533}var a="utf-8";function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(t){var e=t.fatal,n=0,i=0,a=0,c=128,u=191;this.handler=function(t,l){if(-1===l&&0!==a)return a=0,o(e);if(-1===l)return s;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),a=2,n=l-224;else{if(!r(l,240,244))return o(e);240===l&&(c=144),244===l&&(u=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,c,u))return n=a=i=0,c=128,u=191,t.prepend(l),o(e);if(c=128,u=191,n+=l-128<<6*(a-(i+=1)),i!==a)return null;var h=n;return n=a=i=0,h}}function h(t){t.fatal,this.handler=function(t,e){if(-1===e)return s;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);for(var o=[(e>>6*n)+i];n>0;){var a=e>>6*(n-1);o.push(128|63&a),n-=1}return o}}c.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=n(e),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var o,a=new i(r),c=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==s;)null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===s)break;null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(c)}},u.prototype={encode:function(t,e){t=t?String(t):"",e=n(e),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(e.stream);for(var r,o=[],a=new i(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,c=1023&o;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},e.TextEncoder=u,e.TextDecoder=c},6782:(t,e,r)=>{"use strict";function n(t,e){return e=e||{},new Promise((function(r,n){var i=new XMLHttpRequest,s=[],o=[],a={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return s},entries:function(){return o},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,r){s.push(e=e.toLowerCase()),o.push([e,r]),a[e]=a[e]?a[e]+","+r:r})),r(c())},i.onerror=n,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)}))}r.r(e),r.d(e,{default:()=>n})},7024:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},1135:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},9032:(t,e,r)=>{"use strict";var n=r(7244),i=r(8184),s=r(5767),o=r(5680);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),h=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var g=a(Symbol.prototype.valueOf);function m(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function y(t){return"[object Map]"===l(t)}function b(t){return"[object Set]"===l(t)}function w(t){return"[object WeakMap]"===l(t)}function v(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function E(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function A(t){return"[object DataView]"===l(t)}function S(t){return"undefined"!=typeof DataView&&(A.working?A(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=o,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):o(t)||S(t)},e.isUint8Array=function(t){return"Uint8Array"===s(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===s(t)},e.isUint16Array=function(t){return"Uint16Array"===s(t)},e.isUint32Array=function(t){return"Uint32Array"===s(t)},e.isInt8Array=function(t){return"Int8Array"===s(t)},e.isInt16Array=function(t){return"Int16Array"===s(t)},e.isInt32Array=function(t){return"Int32Array"===s(t)},e.isFloat32Array=function(t){return"Float32Array"===s(t)},e.isFloat64Array=function(t){return"Float64Array"===s(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===s(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===s(t)},y.working="undefined"!=typeof Map&&y(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(y.working?y(t):t instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(b.working?b(t):t instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(w.working?w(t):t instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),e.isWeakSet=function(t){return v(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=E,A.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&A(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=S;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function k(t){return"[object SharedArrayBuffer]"===l(t)}function I(t){return void 0!==x&&(void 0===k.working&&(k.working=k(new x)),k.working?k(t):t instanceof x)}function M(t){return m(t,h)}function C(t){return m(t,d)}function T(t){return m(t,f)}function O(t){return c&&m(t,p)}function R(t){return u&&m(t,g)}e.isSharedArrayBuffer=I,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=M,e.isStringObject=C,e.isBooleanObject=T,e.isBigIntObject=O,e.isSymbolObject=R,e.isBoxedPrimitive=function(t){return M(t)||C(t)||T(t)||O(t)||R(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(E(t)||I(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},537:(t,e,r)=>{var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<s;a=n[++r])m(a)||!_(a)?o+=" "+a:o+=" "+c(a);return o},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var s={},o=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}function c(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&e._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),h(n,t,n.depth)}function u(t,e){var r=c.styles[e];return r?"["+c.colors[r][0]+"m"+t+"["+c.colors[r][1]+"m":t}function l(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=h(t,i,n)),i}var s=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,r);if(s)return s;var o=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),A(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(S(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(v(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return d(r)}var u,l="",_=!1,x=["{","}"];return p(r)&&(_=!0,x=["[","]"]),S(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),E(r)&&(l=" "+Date.prototype.toUTCString.call(r)),A(r)&&(l=" "+d(r)),0!==o.length||_&&0!=r.length?n<0?v(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=_?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)M(e,String(o))?s.push(f(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(f(t,e,r,n,i,!0))})),s}(t,r,n,a,o):o.map((function(e){return f(t,r,n,a,e,_)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(u,l,x)):x[0]+l+x[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),M(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=m(r)?h(t,c.value,null):h(t,c.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return void 0===t}function v(t){return _(t)&&"[object RegExp]"===x(t)}function _(t){return"object"==typeof t&&null!==t}function E(t){return _(t)&&"[object Date]"===x(t)}function A(t){return _(t)&&("[object Error]"===x(t)||t instanceof Error)}function S(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(o.test(t)){var r=process.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(9032),e.isArray=p,e.isBoolean=g,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=v,e.types.isRegExp=v,e.isObject=_,e.isDate=E,e.types.isDate=E,e.isError=A,e.types.isNativeError=A,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(1135);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(r=[k((t=new Date).getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":"),[t.getDate(),I[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(6698),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=C,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return n.apply(i,arguments)};t.apply(this,e).then((function(t){process.nextTick(s.bind(null,null,t))}),(function(t){process.nextTick(T.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}},5767:(t,e,r)=>{"use strict";var n=r(2682),i=r(9209),s=r(6516),o=r(8075),a=r(5795),c=o("Object.prototype.toString"),u=r(9092)(),l="undefined"==typeof globalThis?r.g:globalThis,h=i(),d=o("String.prototype.slice"),f=Object.getPrototypeOf,p=o("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},g={__proto__:null};n(h,u&&a&&f?function(t){var e=new l[t];if(Symbol.toStringTag in e){var r=f(e),n=a(r,Symbol.toStringTag);if(!n){var i=f(r);n=a(i,Symbol.toStringTag)}g["$"+t]=s(n.get)}}:function(t){var e=new l[t],r=e.slice||e.set;r&&(g["$"+t]=s(r))}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u){var e=d(c(t),8,-1);return p(h,e)>-1?e:"Object"===e&&function(t){var e=!1;return n(g,(function(r,n){if(!e)try{r(t),e=d(n,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return n(g,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=d(n,1))}catch(t){}})),e}(t):null}},7510:t=>{t.exports=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)e.call(n,i)&&(t[i]=n[i])}return t};var e=Object.prototype.hasOwnProperty},8216:(t,e,r)=>{"use strict";!function(t){const e=t.performance;function r(t){e&&e.mark&&e.mark(t)}function n(t,r){e&&e.measure&&e.measure(t,r)}r("Zone");const i=t.__Zone_symbol_prefix||"__zone_symbol__";function s(t){return i+t}const o=!0===t[s("forceDuplicateZoneCheck")];if(t.Zone){if(o||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class a{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==T.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=a.current;for(;t.parent;)t=t.parent;return t}static get current(){return R.zone}static get currentTask(){return P}static __load_patch(e,i,s=!1){if(T.hasOwnProperty(e)){if(!s&&o)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const s="Zone:"+e;r(s),T[e]=i(t,a,O),n(s,s)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const r=this._zoneDelegate.intercept(this,t,e),n=this;return function(){return n.runGuarded(r,this,arguments,e)}}run(t,e,r,n){R={parent:R,zone:this};try{return this._zoneDelegate.invoke(this,t,e,r,n)}finally{R=R.parent}}runGuarded(t,e=null,r,n){R={parent:R,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,r,n)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{R=R.parent}}runTask(t,e,r){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||v).name+"; Execution: "+this.name+")");if(t.state===_&&(t.type===C||t.type===M))return;const n=t.state!=S;n&&t._transitionTo(S,A),t.runCount++;const i=P;P=t,R={parent:R,zone:this};try{t.type==M&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,r)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{t.state!==_&&t.state!==k&&(t.type==C||t.data&&t.data.isPeriodic?n&&t._transitionTo(A,S):(t.runCount=0,this._updateTaskCount(t,-1),n&&t._transitionTo(_,S,_))),R=R.parent,P=i}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(E,_);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(k,E,_),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==E&&t._transitionTo(A,E),t}scheduleMicroTask(t,e,r,n){return this.scheduleTask(new l(I,t,e,r,n,void 0))}scheduleMacroTask(t,e,r,n,i){return this.scheduleTask(new l(M,t,e,r,n,i))}scheduleEventTask(t,e,r,n,i){return this.scheduleTask(new l(C,t,e,r,n,i))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||v).name+"; Execution: "+this.name+")");if(t.state===A||t.state===S){t._transitionTo(x,A,S);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(k,x),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(_,x),t.runCount=0,t}}_updateTaskCount(t,e){const r=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let n=0;n<r.length;n++)r[n]._updateTaskCount(t.type,e)}}a.__symbol__=s;const c={name:"",onHasTask:(t,e,r,n)=>t.hasTask(r,n),onScheduleTask:(t,e,r,n)=>t.scheduleTask(r,n),onInvokeTask:(t,e,r,n,i,s)=>t.invokeTask(r,n,i,s),onCancelTask:(t,e,r,n)=>t.cancelTask(r,n)};class u{constructor(t,e,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=r&&(r&&r.onFork?r:e._forkZS),this._forkDlgt=r&&(r.onFork?e:e._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:e._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:e._interceptZS),this._interceptDlgt=r&&(r.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:e._invokeZS),this._invokeDlgt=r&&(r.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:e._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:e._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:e._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:e._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const n=r&&r.onHasTask,i=e&&e._hasTaskZS;(n||i)&&(this._hasTaskZS=n?r:c,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,r.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new a(t,e)}intercept(t,e,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,r):e}invoke(t,e,r,n,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,r,n,i):e.apply(r,n)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let r=e;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),r||(r=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=I)throw new Error("Task is missing scheduleFn.");b(e)}return r}invokeTask(t,e,r,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,r,n):e.callback.apply(r,n)}cancelTask(t,e){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");r=e.cancelFn(e)}return r}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}}_updateTaskCount(t,e){const r=this._taskCounts,n=r[t],i=r[t]=n+e;if(i<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==i){const e={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:t};this.hasTask(this.zone,e)}}}class l{constructor(e,r,n,i,s,o){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=r,this.data=i,this.scheduleFn=s,this.cancelFn=o,!n)throw new Error("callback is not defined");this.callback=n;const a=this;e===C&&i&&i.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(t,a,this,arguments)}}static invokeTask(t,e,r){t||(t=this),N++;try{return t.runCount++,t.zone.runTask(t,e,r)}finally{1==N&&w(),N--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(_,E)}_transitionTo(t,e,r){if(this._state!==e&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=t,t==_&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const h=s("setTimeout"),d=s("Promise"),f=s("then");let p,g=[],m=!1;function y(e){if(p||t[d]&&(p=t[d].resolve(0)),p){let t=p[f];t||(t=p.then),t.call(p,e)}else t[h](e,0)}function b(t){0===N&&0===g.length&&y(w),t&&g.push(t)}function w(){if(!m){for(m=!0;g.length;){const t=g;g=[];for(let e=0;e<t.length;e++){const r=t[e];try{r.zone.runTask(r,null,null)}catch(t){O.onUnhandledError(t)}}}O.microtaskDrainDone(),m=!1}}const v={name:"NO ZONE"},_="notScheduled",E="scheduling",A="scheduled",S="running",x="canceling",k="unknown",I="microTask",M="macroTask",C="eventTask",T={},O={symbol:s,currentZoneFrame:()=>R,onUnhandledError:B,microtaskDrainDone:B,scheduleMicroTask:b,showUncaughtError:()=>!a[s("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:B,patchMethod:()=>B,bindArguments:()=>[],patchThen:()=>B,patchMacroTask:()=>B,patchEventPrototype:()=>B,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>B,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>B,wrapWithCurrentZone:()=>B,filterProperties:()=>[],attachOriginToPatched:()=>B,_redefineProperty:()=>B,patchCallbacks:()=>B,nativeScheduleMicroTask:y};let R={parent:null,zone:new a(null,null)},P=null,N=0;function B(){}n("Zone","Zone"),t.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||r.g);const n=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=Object.getPrototypeOf,o=Object.create,a=Array.prototype.slice,c="addEventListener",u="removeEventListener",l=Zone.__symbol__(c),h=Zone.__symbol__(u),d="true",f="false",p=Zone.__symbol__("");function g(t,e){return Zone.current.wrap(t,e)}function m(t,e,r,n,i){return Zone.current.scheduleMacroTask(t,e,r,n,i)}const y=Zone.__symbol__,b="undefined"!=typeof window,w=b?window:void 0,v=b&&w||"object"==typeof self&&self||r.g;function _(t,e){for(let r=t.length-1;r>=0;r--)"function"==typeof t[r]&&(t[r]=g(t[r],e+"_"+r));return t}function E(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const A="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,S=!("nw"in v)&&void 0!==v.process&&"[object process]"==={}.toString.call(v.process),x=!S&&!A&&!(!b||!w.HTMLElement),k=void 0!==v.process&&"[object process]"==={}.toString.call(v.process)&&!A&&!(!b||!w.HTMLElement),I={},M=function(t){if(!(t=t||v.event))return;let e=I[t.type];e||(e=I[t.type]=y("ON_PROPERTY"+t.type));const r=this||t.target||v,n=r[e];let i;if(x&&r===w&&"error"===t.type){const e=t;i=n&&n.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===i&&t.preventDefault()}else i=n&&n.apply(this,arguments),null==i||i||t.preventDefault();return i};function C(t,e,r){let s=n(t,e);if(!s&&r&&n(r,e)&&(s={enumerable:!0,configurable:!0}),!s||!s.configurable)return;const o=y("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete s.writable,delete s.value;const a=s.get,c=s.set,u=e.slice(2);let l=I[u];l||(l=I[u]=y("ON_PROPERTY"+u)),s.set=function(e){let r=this;r||t!==v||(r=v),r&&("function"==typeof r[l]&&r.removeEventListener(u,M),c&&c.call(r,null),r[l]=e,"function"==typeof e&&r.addEventListener(u,M,!1))},s.get=function(){let r=this;if(r||t!==v||(r=v),!r)return null;const n=r[l];if(n)return n;if(a){let t=a.call(this);if(t)return s.set.call(this,t),"function"==typeof r.removeAttribute&&r.removeAttribute(e),t}return null},i(t,e,s),t[o]=!0}function T(t,e,r){if(e)for(let n=0;n<e.length;n++)C(t,"on"+e[n],r);else{const e=[];for(const r in t)"on"==r.slice(0,2)&&e.push(r);for(let n=0;n<e.length;n++)C(t,e[n],r)}}const O=y("originalInstance");function R(t){const e=v[t];if(!e)return;v[y(t)]=e,v[t]=function(){const r=_(arguments,t);switch(r.length){case 0:this[O]=new e;break;case 1:this[O]=new e(r[0]);break;case 2:this[O]=new e(r[0],r[1]);break;case 3:this[O]=new e(r[0],r[1],r[2]);break;case 4:this[O]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},B(v[t],e);const r=new e((function(){}));let n;for(n in r)"XMLHttpRequest"===t&&"responseBlob"===n||function(e){"function"==typeof r[e]?v[t].prototype[e]=function(){return this[O][e].apply(this[O],arguments)}:i(v[t].prototype,e,{set:function(r){"function"==typeof r?(this[O][e]=g(r,t+"."+e),B(this[O][e],r)):this[O][e]=r},get:function(){return this[O][e]}})}(n);for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&(v[t][n]=e[n])}function P(t,e,r){let i=t;for(;i&&!i.hasOwnProperty(e);)i=s(i);!i&&t[e]&&(i=t);const o=y(e);let a=null;if(i&&(!(a=i[o])||!i.hasOwnProperty(o))&&(a=i[o]=i[e],E(i&&n(i,e)))){const t=r(a,o,e);i[e]=function(){return t(this,arguments)},B(i[e],a)}return a}function N(t,e,r){let n=null;function i(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},n.apply(e.target,e.args),t}n=P(t,e,(t=>function(e,n){const s=r(e,n);return s.cbIdx>=0&&"function"==typeof n[s.cbIdx]?m(s.name,n[s.cbIdx],s,i):t.apply(e,n)}))}function B(t,e){t[y("OriginalDelegate")]=e}let L=!1,D=!1;function U(){try{const t=w.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function j(){if(L)return D;L=!0;try{const t=w.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(D=!0)}catch(t){}return D}Zone.__load_patch("ZoneAwarePromise",((t,e,r)=>{const n=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=r.symbol,o=[],a=!0===t[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=s("Promise"),u=s("then");r.onUnhandledError=t=>{if(r.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},r.microtaskDrainDone=()=>{for(;o.length;){const t=o.shift();try{t.zone.runGuarded((()=>{if(t.throwOriginal)throw t.rejection;throw t}))}catch(t){h(t)}}};const l=s("unhandledPromiseRejectionHandler");function h(t){r.onUnhandledError(t);try{const r=e[l];"function"==typeof r&&r.call(this,t)}catch(t){}}function d(t){return t&&t.then}function f(t){return t}function p(t){return N.reject(t)}const g=s("state"),m=s("value"),y=s("finally"),b=s("parentPromiseValue"),w=s("parentPromiseState"),v=null,_=!0,E=!1;function A(t,e){return r=>{try{I(t,e,r)}catch(e){I(t,!1,e)}}}const S=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},x="Promise resolved with itself",k=s("currentTaskTrace");function I(t,n,s){const c=S();if(t===s)throw new TypeError(x);if(t[g]===v){let l=null;try{"object"!=typeof s&&"function"!=typeof s||(l=s&&s.then)}catch(e){return c((()=>{I(t,!1,e)}))(),t}if(n!==E&&s instanceof N&&s.hasOwnProperty(g)&&s.hasOwnProperty(m)&&s[g]!==v)C(s),I(t,s[g],s[m]);else if(n!==E&&"function"==typeof l)try{l.call(s,c(A(t,n)),c(A(t,!1)))}catch(e){c((()=>{I(t,!1,e)}))()}else{t[g]=n;const c=t[m];if(t[m]=s,t[y]===y&&n===_&&(t[g]=t[w],t[m]=t[b]),n===E&&s instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data.__creationTrace__;t&&i(s,k,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<c.length;)T(t,c[e++],c[e++],c[e++],c[e++]);if(0==c.length&&n==E){t[g]=0;let n=s;try{throw new Error("Uncaught (in promise): "+((u=s)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(s&&s.stack?"\n"+s.stack:""))}catch(t){n=t}a&&(n.throwOriginal=!0),n.rejection=s,n.promise=t,n.zone=e.current,n.task=e.currentTask,o.push(n),r.scheduleMicroTask()}}}var u;return t}const M=s("rejectionHandledHandler");function C(t){if(0===t[g]){try{const r=e[M];r&&"function"==typeof r&&r.call(this,{rejection:t[m],promise:t})}catch(t){}t[g]=E;for(let e=0;e<o.length;e++)t===o[e].promise&&o.splice(e,1)}}function T(t,e,r,n,i){C(t);const s=t[g],o=s?"function"==typeof n?n:f:"function"==typeof i?i:p;e.scheduleMicroTask("Promise.then",(()=>{try{const n=t[m],i=!!r&&y===r[y];i&&(r[b]=n,r[w]=s);const a=e.run(o,void 0,i&&o!==p&&o!==f?[]:[n]);I(r,!0,a)}catch(t){I(r,!1,t)}}),r)}const O=function(){},R=t.AggregateError;class N{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return I(new this(null),_,t)}static reject(t){return I(new this(null),E,t)}static any(t){if(!t||"function"!=typeof t[Symbol.iterator])return Promise.reject(new R([],"All promises were rejected"));const e=[];let r=0;try{for(let n of t)r++,e.push(N.resolve(n))}catch(t){return Promise.reject(new R([],"All promises were rejected"))}if(0===r)return Promise.reject(new R([],"All promises were rejected"));let n=!1;const i=[];return new N(((t,s)=>{for(let o=0;o<e.length;o++)e[o].then((e=>{n||(n=!0,t(e))}),(t=>{i.push(t),r--,0===r&&(n=!0,s(new R(i,"All promises were rejected")))}))}))}static race(t){let e,r,n=new this(((t,n)=>{e=t,r=n}));function i(t){e(t)}function s(t){r(t)}for(let e of t)d(e)||(e=this.resolve(e)),e.then(i,s);return n}static all(t){return N.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof N?this:N).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let r,n,i=new this(((t,e)=>{r=t,n=e})),s=2,o=0;const a=[];for(let i of t){d(i)||(i=this.resolve(i));const t=o;try{i.then((n=>{a[t]=e?e.thenCallback(n):n,s--,0===s&&r(a)}),(i=>{e?(a[t]=e.errorCallback(i),s--,0===s&&r(a)):n(i)}))}catch(t){n(t)}s++,o++}return s-=2,0===s&&r(a),i}constructor(t){const e=this;if(!(e instanceof N))throw new Error("Must be an instanceof Promise.");e[g]=v,e[m]=[];try{const r=S();t&&t(r(A(e,_)),r(A(e,E)))}catch(t){I(e,!1,t)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return N}then(t,r){var n;let i=null===(n=this.constructor)||void 0===n?void 0:n[Symbol.species];i&&"function"==typeof i||(i=this.constructor||N);const s=new i(O),o=e.current;return this[g]==v?this[m].push(o,s,t,r):T(this,o,s,t,r),s}catch(t){return this.then(null,t)}finally(t){var r;let n=null===(r=this.constructor)||void 0===r?void 0:r[Symbol.species];n&&"function"==typeof n||(n=N);const i=new n(O);i[y]=y;const s=e.current;return this[g]==v?this[m].push(s,i,t,t):T(this,s,i,t,t),i}}N.resolve=N.resolve,N.reject=N.reject,N.race=N.race,N.all=N.all;const B=t[c]=t.Promise;t.Promise=N;const L=s("thenPatched");function D(t){const e=t.prototype,r=n(e,"then");if(r&&(!1===r.writable||!r.configurable))return;const i=e.then;e[u]=i,t.prototype.then=function(t,e){return new N(((t,e)=>{i.call(this,t,e)})).then(t,e)},t[L]=!0}return r.patchThen=D,B&&(D(B),P(t,"fetch",(t=>{return e=t,function(t,r){let n=e.apply(t,r);if(n instanceof N)return n;let i=n.constructor;return i[L]||D(i),n};var e}))),Promise[e.__symbol__("uncaughtPromiseErrors")]=o,N})),Zone.__load_patch("toString",(t=>{const e=Function.prototype.toString,r=y("OriginalDelegate"),n=y("Promise"),i=y("Error"),s=function(){if("function"==typeof this){const s=this[r];if(s)return"function"==typeof s?e.call(s):Object.prototype.toString.call(s);if(this===Promise){const r=t[n];if(r)return e.call(r)}if(this===Error){const r=t[i];if(r)return e.call(r)}}return e.call(this)};s[r]=e,Function.prototype.toString=s;const o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}}));let F=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){F=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){F=!1}const z={useG:!0},q={},H={},W=new RegExp("^"+p+"(\\w+)(true|false)$"),V=y("propagationStopped");function $(t,e){const r=(e?e(t):t)+f,n=(e?e(t):t)+d,i=p+r,s=p+n;q[t]={},q[t][f]=i,q[t][d]=s}function K(t,e,r,n){const i=n&&n.add||c,o=n&&n.rm||u,a=n&&n.listeners||"eventListeners",l=n&&n.rmAll||"removeAllListeners",h=y(i),g="."+i+":",m="prependListener",b="."+m+":",w=function(t,e,r){if(t.isRemoved)return;const n=t.callback;let i;"object"==typeof n&&n.handleEvent&&(t.callback=t=>n.handleEvent(t),t.originalDelegate=n);try{t.invoke(t,e,[r])}catch(t){i=t}const s=t.options;if(s&&"object"==typeof s&&s.once){const n=t.originalDelegate?t.originalDelegate:t.callback;e[o].call(e,r.type,n,s)}return i};function v(r,n,i){if(!(n=n||t.event))return;const s=r||n.target||t,o=s[q[n.type][i?d:f]];if(o){const t=[];if(1===o.length){const e=w(o[0],s,n);e&&t.push(e)}else{const e=o.slice();for(let r=0;r<e.length&&(!n||!0!==n[V]);r++){const i=w(e[r],s,n);i&&t.push(i)}}if(1===t.length)throw t[0];for(let r=0;r<t.length;r++){const n=t[r];e.nativeScheduleMicroTask((()=>{throw n}))}}}const _=function(t){return v(this,t,!1)},E=function(t){return v(this,t,!0)};function A(e,r){if(!e)return!1;let n=!0;r&&void 0!==r.useG&&(n=r.useG);const c=r&&r.vh;let u=!0;r&&void 0!==r.chkDup&&(u=r.chkDup);let w=!1;r&&void 0!==r.rt&&(w=r.rt);let v=e;for(;v&&!v.hasOwnProperty(i);)v=s(v);if(!v&&e[i]&&(v=e),!v)return!1;if(v[h])return!1;const A=r&&r.eventNameToString,x={},k=v[h]=v[i],I=v[y(o)]=v[o],M=v[y(a)]=v[a],C=v[y(l)]=v[l];let T;r&&r.prepend&&(T=v[y(r.prepend)]=v[r.prepend]);const O=n?function(t){if(!x.isExisting)return k.call(x.target,x.eventName,x.capture?E:_,x.options)}:function(t){return k.call(x.target,x.eventName,t.invoke,x.options)},R=n?function(t){if(!t.isRemoved){const e=q[t.eventName];let r;e&&(r=e[t.capture?d:f]);const n=r&&t.target[r];if(n)for(let e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1),t.isRemoved=!0,0===n.length&&(t.allRemoved=!0,t.target[r]=null);break}}if(t.allRemoved)return I.call(t.target,t.eventName,t.capture?E:_,t.options)}:function(t){return I.call(t.target,t.eventName,t.invoke,t.options)},P=r&&r.diff?r.diff:function(t,e){const r=typeof e;return"function"===r&&t.callback===e||"object"===r&&t.originalDelegate===e},N=Zone[y("UNPATCHED_EVENTS")],L=t[y("PASSIVE_EVENTS")],D=function(e,i,s,o,a=!1,l=!1){return function(){const h=this||t;let p=arguments[0];r&&r.transferEventName&&(p=r.transferEventName(p));let g=arguments[1];if(!g)return e.apply(this,arguments);if(S&&"uncaughtException"===p)return e.apply(this,arguments);let m=!1;if("function"!=typeof g){if(!g.handleEvent)return e.apply(this,arguments);m=!0}if(c&&!c(e,g,h,arguments))return;const y=F&&!!L&&-1!==L.indexOf(p),b=function(t,e){return!F&&"object"==typeof t&&t?!!t.capture:F&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}(arguments[2],y);if(N)for(let t=0;t<N.length;t++)if(p===N[t])return y?e.call(h,p,g,b):e.apply(this,arguments);const w=!!b&&("boolean"==typeof b||b.capture),v=!(!b||"object"!=typeof b)&&b.once,_=Zone.current;let E=q[p];E||($(p,A),E=q[p]);const k=E[w?d:f];let I,M=h[k],C=!1;if(M){if(C=!0,u)for(let t=0;t<M.length;t++)if(P(M[t],g))return}else M=h[k]=[];const T=h.constructor.name,O=H[T];O&&(I=O[p]),I||(I=T+i+(A?A(p):p)),x.options=b,v&&(x.options.once=!1),x.target=h,x.capture=w,x.eventName=p,x.isExisting=C;const R=n?z:void 0;R&&(R.taskData=x);const B=_.scheduleEventTask(I,g,R,s,o);return x.target=null,R&&(R.taskData=null),v&&(b.once=!0),(F||"boolean"!=typeof B.options)&&(B.options=b),B.target=h,B.capture=w,B.eventName=p,m&&(B.originalDelegate=g),l?M.unshift(B):M.push(B),a?h:void 0}};return v[i]=D(k,g,O,R,w),T&&(v[m]=D(T,b,(function(t){return T.call(x.target,x.eventName,t.invoke,x.options)}),R,w,!0)),v[o]=function(){const e=this||t;let n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));const i=arguments[2],s=!!i&&("boolean"==typeof i||i.capture),o=arguments[1];if(!o)return I.apply(this,arguments);if(c&&!c(I,o,e,arguments))return;const a=q[n];let u;a&&(u=a[s?d:f]);const l=u&&e[u];if(l)for(let t=0;t<l.length;t++){const r=l[t];if(P(r,o))return l.splice(t,1),r.isRemoved=!0,0===l.length&&(r.allRemoved=!0,e[u]=null,"string"==typeof n)&&(e[p+"ON_PROPERTY"+n]=null),r.zone.cancelTask(r),w?e:void 0}return I.apply(this,arguments)},v[a]=function(){const e=this||t;let n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));const i=[],s=G(e,A?A(n):n);for(let t=0;t<s.length;t++){const e=s[t];let r=e.originalDelegate?e.originalDelegate:e.callback;i.push(r)}return i},v[l]=function(){const e=this||t;let n=arguments[0];if(n){r&&r.transferEventName&&(n=r.transferEventName(n));const t=q[n];if(t){const r=t[f],i=t[d],s=e[r],a=e[i];if(s){const t=s.slice();for(let e=0;e<t.length;e++){const r=t[e];let i=r.originalDelegate?r.originalDelegate:r.callback;this[o].call(this,n,i,r.options)}}if(a){const t=a.slice();for(let e=0;e<t.length;e++){const r=t[e];let i=r.originalDelegate?r.originalDelegate:r.callback;this[o].call(this,n,i,r.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e],n=W.exec(r);let i=n&&n[1];i&&"removeListener"!==i&&this[l].call(this,i)}this[l].call(this,"removeListener")}if(w)return this},B(v[i],k),B(v[o],I),C&&B(v[l],C),M&&B(v[a],M),!0}let x=[];for(let t=0;t<r.length;t++)x[t]=A(r[t],n);return x}function G(t,e){if(!e){const r=[];for(let n in t){const i=W.exec(n);let s=i&&i[1];if(s&&(!e||s===e)){const e=t[n];if(e)for(let t=0;t<e.length;t++)r.push(e[t])}}return r}let r=q[e];r||($(e),r=q[e]);const n=t[r[f]],i=t[r[d]];return n?i?n.concat(i):n.slice():i?i.slice():[]}function Y(t,e){const r=t.Event;r&&r.prototype&&e.patchMethod(r.prototype,"stopImmediatePropagation",(t=>function(e,r){e[V]=!0,t&&t.apply(e,r)}))}function Z(t,e,r,n,i){const s=Zone.__symbol__(n);if(e[s])return;const o=e[s]=e[n];e[n]=function(s,a,c){return a&&a.prototype&&i.forEach((function(e){const i=`${r}.${n}::`+e,s=a.prototype;try{if(s.hasOwnProperty(e)){const r=t.ObjectGetOwnPropertyDescriptor(s,e);r&&r.value?(r.value=t.wrapWithCurrentZone(r.value,i),t._redefineProperty(a.prototype,e,r)):s[e]&&(s[e]=t.wrapWithCurrentZone(s[e],i))}else s[e]&&(s[e]=t.wrapWithCurrentZone(s[e],i))}catch(t){}})),o.call(e,s,a,c)},t.attachOriginToPatched(e[n],o)}function J(t,e,r){if(!r||0===r.length)return e;const n=r.filter((e=>e.target===t));if(!n||0===n.length)return e;const i=n[0].ignoreProperties;return e.filter((t=>-1===i.indexOf(t)))}function Q(t,e,r,n){t&&T(t,J(t,e,r),n)}function X(t){return Object.getOwnPropertyNames(t).filter((t=>t.startsWith("on")&&t.length>2)).map((t=>t.substring(2)))}function tt(t,e){if(S&&!k)return;if(Zone[t.symbol("patchEvents")])return;const r=e.__Zone_ignore_on_properties;let n=[];if(x){const t=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const e=U()?[{target:t,ignoreProperties:["error"]}]:[];Q(t,X(t),r?r.concat(e):r,s(t))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let t=0;t<n.length;t++){const i=e[n[t]];i&&i.prototype&&Q(i.prototype,X(i.prototype),r)}}Zone.__load_patch("util",((t,e,r)=>{const s=X(t);r.patchOnProperties=T,r.patchMethod=P,r.bindArguments=_,r.patchMacroTask=N;const l=e.__symbol__("BLACK_LISTED_EVENTS"),h=e.__symbol__("UNPATCHED_EVENTS");t[h]&&(t[l]=t[h]),t[l]&&(e[l]=e[h]=t[l]),r.patchEventPrototype=Y,r.patchEventTarget=K,r.isIEOrEdge=j,r.ObjectDefineProperty=i,r.ObjectGetOwnPropertyDescriptor=n,r.ObjectCreate=o,r.ArraySlice=a,r.patchClass=R,r.wrapWithCurrentZone=g,r.filterProperties=J,r.attachOriginToPatched=B,r._redefineProperty=Object.defineProperty,r.patchCallbacks=Z,r.getGlobalObjects=()=>({globalSources:H,zoneSymbolEventNames:q,eventNames:s,isBrowser:x,isMix:k,isNode:S,TRUE_STR:d,FALSE_STR:f,ZONE_SYMBOL_PREFIX:p,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:u})}));const et=y("zoneTask");function rt(t,e,r,n){let i=null,s=null;r+=n;const o={};function a(e){const r=e.data;return r.args[0]=function(){return e.invoke.apply(this,arguments)},r.handleId=i.apply(t,r.args),e}function c(e){return s.call(t,e.data.handleId)}i=P(t,e+=n,(r=>function(i,s){if("function"==typeof s[0]){const t={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?s[1]||0:void 0,args:s},r=s[0];s[0]=function(){try{return r.apply(this,arguments)}finally{t.isPeriodic||("number"==typeof t.handleId?delete o[t.handleId]:t.handleId&&(t.handleId[et]=null))}};const i=m(e,s[0],t,a,c);if(!i)return i;const u=i.data.handleId;return"number"==typeof u?o[u]=i:u&&(u[et]=i),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(i.ref=u.ref.bind(u),i.unref=u.unref.bind(u)),"number"==typeof u||u?u:i}return r.apply(t,s)})),s=P(t,r,(e=>function(r,n){const i=n[0];let s;"number"==typeof i?s=o[i]:(s=i&&i[et],s||(s=i)),s&&"string"==typeof s.type?"notScheduled"!==s.state&&(s.cancelFn&&s.data.isPeriodic||0===s.runCount)&&("number"==typeof i?delete o[i]:i&&(i[et]=null),s.zone.cancelTask(s)):e.apply(t,n)}))}function nt(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=e.getGlobalObjects();for(let t=0;t<r.length;t++){const e=r[t],a=o+(e+s),c=o+(e+i);n[e]={},n[e][s]=a,n[e][i]=c}const a=t.EventTarget;return a&&a.prototype?(e.patchEventTarget(t,e,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",(t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()})),Zone.__load_patch("queueMicrotask",((t,e,r)=>{r.patchMethod(t,"queueMicrotask",(t=>function(t,r){e.current.scheduleMicroTask("queueMicrotask",r[0])}))})),Zone.__load_patch("timers",(t=>{const e="set",r="clear";rt(t,e,r,"Timeout"),rt(t,e,r,"Interval"),rt(t,e,r,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(t=>{rt(t,"request","cancel","AnimationFrame"),rt(t,"mozRequest","mozCancel","AnimationFrame"),rt(t,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((t,e)=>{const r=["alert","prompt","confirm"];for(let n=0;n<r.length;n++)P(t,r[n],((r,n,i)=>function(n,s){return e.current.run(r,t,s,i)}))})),Zone.__load_patch("EventTarget",((t,e,r)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,r),nt(t,r);const n=t.XMLHttpRequestEventTarget;n&&n.prototype&&r.patchEventTarget(t,r,[n.prototype])})),Zone.__load_patch("MutationObserver",((t,e,r)=>{R("MutationObserver"),R("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((t,e,r)=>{R("IntersectionObserver")})),Zone.__load_patch("FileReader",((t,e,r)=>{R("FileReader")})),Zone.__load_patch("on_property",((t,e,r)=>{tt(r,t)})),Zone.__load_patch("customElements",((t,e,r)=>{!function(t,e){const{isBrowser:r,isMix:n}=e.getGlobalObjects();(r||n)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,r)})),Zone.__load_patch("XHR",((t,e)=>{!function(t){const c=t.XMLHttpRequest;if(!c)return;const u=c.prototype;let d=u[l],f=u[h];if(!d){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;d=t[l],f=t[h]}}const p="readystatechange",g="scheduled";function b(t){const n=t.data,o=n.target;o[s]=!1,o[a]=!1;const c=o[i];d||(d=o[l],f=o[h]),c&&f.call(o,p,c);const u=o[i]=()=>{if(o.readyState===o.DONE)if(!n.aborted&&o[s]&&t.state===g){const r=o[e.__symbol__("loadfalse")];if(0!==o.status&&r&&r.length>0){const i=t.invoke;t.invoke=function(){const r=o[e.__symbol__("loadfalse")];for(let e=0;e<r.length;e++)r[e]===t&&r.splice(e,1);n.aborted||t.state!==g||i.call(t)},r.push(t)}else t.invoke()}else n.aborted||!1!==o[s]||(o[a]=!0)};return d.call(o,p,u),o[r]||(o[r]=t),S.apply(o,n.args),o[s]=!0,t}function w(){}function v(t){const e=t.data;return e.aborted=!0,x.apply(e.target,e.args)}const _=P(u,"open",(()=>function(t,e){return t[n]=0==e[2],t[o]=e[1],_.apply(t,e)})),E=y("fetchTaskAborting"),A=y("fetchTaskScheduling"),S=P(u,"send",(()=>function(t,r){if(!0===e.current[A])return S.apply(t,r);if(t[n])return S.apply(t,r);{const e={target:t,url:t[o],isPeriodic:!1,args:r,aborted:!1},n=m("XMLHttpRequest.send",w,e,b,v);t&&!0===t[a]&&!e.aborted&&n.state===g&&n.invoke()}})),x=P(u,"abort",(()=>function(t,n){const i=t[r];if(i&&"string"==typeof i.type){if(null==i.cancelFn||i.data&&i.data.aborted)return;i.zone.cancelTask(i)}else if(!0===e.current[E])return x.apply(t,n)}))}(t);const r=y("xhrTask"),n=y("xhrSync"),i=y("xhrListener"),s=y("xhrScheduled"),o=y("xhrURL"),a=y("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const r=t.constructor.name;for(let i=0;i<e.length;i++){const s=e[i],o=t[s];if(o){if(!E(n(t,s)))continue;t[s]=(t=>{const e=function(){return t.apply(this,_(arguments,r+"."+s))};return B(e,t),e})(o)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((t,e)=>{function r(e){return function(r){G(t,e).forEach((n=>{const i=t.PromiseRejectionEvent;if(i){const t=new i(e,{promise:r.promise,reason:r.rejection});n.invoke(t)}}))}}t.PromiseRejectionEvent&&(e[y("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),e[y("rejectionHandledHandler")]=r("rejectionhandled"))}))},9432:()=>{},7790:()=>{},5340:()=>{},9838:()=>{},8076:(t,e,r)=>{"use strict";const n=r(793);t.exports=o;const i=function(){function t(t){return void 0!==t&&t}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},s={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:d,res:d,err:function(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}};function o(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||i;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=function(t,e){return Array.isArray(t)?t.filter((function(t){return"!stdSerializers.err"!==t})):!0===t&&Object.keys(e)}(t.browser.serialize,n);let d=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1),"function"==typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===t.enabled&&(t.level="silent");const f=t.level||"info",g=Object.create(r);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,a(m,g,"error","log"),a(m,g,"fatal","error"),a(m,g,"warn","error"),a(m,g,"info","log"),a(m,g,"debug","log"),a(m,g,"trace","log")}});const m={transmit:e,serialize:s,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(t)};return g.levels=o.levels,g.level=f,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=n,g._serialize=s,g._stdErrSerialize=d,g.child=function(r,i){if(!r)throw new Error("missing bindings for child Pino");i=i||{},s&&r.serializers&&(i.serializers=r.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},n,o),h=!0===t.browser.serialize?Object.keys(a):s;delete r.serializers,c([r],h,a,this._stdErrSerialize)}function d(t){this._childLevel=1+(0|t._childLevel),this.error=u(t,r,"error"),this.fatal=u(t,r,"fatal"),this.warn=u(t,r,"warn"),this.info=u(t,r,"info"),this.debug=u(t,r,"debug"),this.trace=u(t,r,"trace"),a&&(this.serializers=a,this._serialize=h),e&&(this._logEvent=l([].concat(t._logEvent.bindings,r)))}return d.prototype=this,new d(this)},e&&(g._logEvent=l()),g}function a(t,e,r,s){const a=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?p:a[r]?a[r]:i[r]||i[s]||p,function(t,e,r){var s;(t.transmit||e[r]!==p)&&(e[r]=(s=e[r],function(){const a=t.timestamp(),u=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<u.length;d++)u[d]=arguments[d];if(t.serialize&&!t.asObject&&c(u,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?s.call(h,function(t,e,r,i){t._serialize&&c(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let a=s[0];const u={};i&&(u.time=i),u.level=o.levels.values[e];let l=1+(0|t._childLevel);if(l<1&&(l=1),null!==a&&"object"==typeof a){for(;l--&&"object"==typeof s[0];)Object.assign(u,s.shift());a=s.length?n(s.shift(),s):void 0}else"string"==typeof a&&(a=n(s.shift(),s));return void 0!==a&&(u.msg=a),u}(this,r,u,a)):s.apply(h,u),t.transmit){const n=t.transmit.level||e.level,i=o.levels.values[n],s=o.levels.values[r];if(s<i)return;!function(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;c(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter((function(t){return-1===u.indexOf(t)})),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=l(u)}(this,{ts:a,methodLevel:r,methodValue:s,transmitLevel:n,transmitValue:o.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},u)}}))}(t,e,r)}function c(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=o.stdSerializers.err(t[i]);else if("object"==typeof t[i]&&!Array.isArray(t[i]))for(const n in t[i])e&&e.indexOf(n)>-1&&n in r&&(t[i][n]=r[n](t[i][n]))}function u(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function l(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function h(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?g:m}function d(){return{}}function f(t){return t}function p(){}function g(){return!1}function m(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},9209:(t,e,r)=>{"use strict";var n=r(6578),i="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof i[n[e]]&&(t[t.length]=n[e]);return t}},9190:(t,e,r)=>{"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function i(t,...e){if(!((r=t)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function s(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)}function o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(e,{CG:()=>a,ai:()=>n,ee:()=>i,t2:()=>o,tW:()=>s})},6013:(t,e,r)=>{"use strict";r.d(e,{TQ:()=>o,ol:()=>a,r9:()=>s});var n=r(9190),i=r(2531);const s=(t,e,r)=>t&e^~t&r,o=(t,e,r)=>t&e^t&r^e&r;class a extends i.Vw{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.O8)(this.buffer)}update(t){(0,n.t2)(this);const{view:e,buffer:r,blockLen:s}=this,o=(t=(0,i.ZJ)(t)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=(0,i.O8)(t);for(;s<=o-n;n+=s)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.t2)(this),(0,n.CG)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let t=a;t<s;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.O8)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)c.setUint32(4*t,h[t],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}},8226:(t,e,r)=>{"use strict";r.d(e,{sc:()=>u});var n=r(6013),i=r(2531);const s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.ol{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)a[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=a[t-15],r=a[t-2],n=(0,i.Ow)(e,7)^(0,i.Ow)(e,18)^e>>>3,s=(0,i.Ow)(r,17)^(0,i.Ow)(r,19)^r>>>10;a[t]=s+a[t-7]+n+a[t-16]|0}let{A:r,B:o,C:c,D:u,E:l,F:h,G:d,H:f}=this;for(let t=0;t<64;t++){const e=f+((0,i.Ow)(l,6)^(0,i.Ow)(l,11)^(0,i.Ow)(l,25))+(0,n.r9)(l,h,d)+s[t]+a[t]|0,p=((0,i.Ow)(r,2)^(0,i.Ow)(r,13)^(0,i.Ow)(r,22))+(0,n.TQ)(r,o,c)|0;f=d,d=h,h=l,l=u+e|0,u=c,c=o,o=r,r=e+p|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,h=h+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,o,c,u,l,h,d,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const u=(0,i.ld)((()=>new c))},2531:(t,e,r)=>{"use strict";r.d(e,{Vw:()=>f,Fc:()=>l,Id:()=>d,O8:()=>o,qv:()=>c,po:()=>g,Ow:()=>a,ZJ:()=>h,DH:()=>s,ld:()=>p});const n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=r(9190);const s=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),o=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),a=(t,e)=>t<<32-e|t>>>e,c=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],u=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function l(t){for(let e=0;e<t.length;e++)t[e]=u(t[e])}function h(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),(0,i.ee)(t),t}function d(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];(0,i.ee)(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}class f{clone(){return this._cloneInto()}}function p(t){const e=e=>t().update(h(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function g(t=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(t));if(n&&"function"==typeof n.randomBytes)return n.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}},4909:(t,e,r)=>{"use strict";r.d(e,{mb:()=>_,Ao:()=>g,vZ:()=>y,pV:()=>H,D8:()=>V,IN:()=>w,jL:()=>p,lH:()=>Q,dC:()=>tt}),Symbol();const n=Symbol(),i=Object.getPrototypeOf,s=new WeakMap,o=(t,e=!0)=>{s.set(t,e)},a=t=>"object"==typeof t&&null!==t,c=new WeakMap,u=new WeakSet,[l]=((t=Object.is,e=(t,e)=>new Proxy(t,e),r=t=>a(t)&&!u.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer),l=t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}},h=new WeakMap,d=(t,e,r=l)=>{const n=h.get(t);if((null==n?void 0:n[0])===e)return n[1];const i=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return o(i,!0),h.set(t,[e,i]),Reflect.ownKeys(t).forEach((e=>{if(Object.getOwnPropertyDescriptor(i,e))return;const n=Reflect.get(t,e),s={value:n,enumerable:!0,configurable:!0};if(u.has(n))o(n,!1);else if(n instanceof Promise)delete s.value,s.get=()=>r(n);else if(c.has(n)){const[t,e]=c.get(n);s.value=d(t,e(),r)}Object.defineProperty(i,e,s)})),Object.preventExtensions(i)},f=new WeakMap,p=[1,1],g=o=>{if(!a(o))throw new Error("object required");const l=f.get(o);if(l)return l;let h=p[0];const m=new Set,y=(t,e=++p[0])=>{h!==e&&(h=e,m.forEach((r=>r(t,e))))};let b=p[1];const w=t=>(e,r)=>{const n=[...e];n[1]=[t,...n[1]],y(n,r)},v=new Map,_=t=>{var e;const r=v.get(t);r&&(v.delete(t),null==(e=r[1])||e.call(r))},E=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o)),A=e(E,{deleteProperty(t,e){const r=Reflect.get(t,e);_(e);const n=Reflect.deleteProperty(t,e);return n&&y(["delete",[e],r]),n},set(e,o,l,h){const d=Reflect.has(e,o),p=Reflect.get(e,o,h);if(d&&(t(p,l)||f.has(l)&&t(p,f.get(l))))return!0;var b;_(o),a(l)&&(l=(t=>t&&(s.has(t)?s.get(t):i(t)===Object.prototype||i(t)===Array.prototype))(b=l)&&b[n]||null||l);let E=l;if(l instanceof Promise)l.then((t=>{l.status="fulfilled",l.value=t,y(["resolve",[o],t])})).catch((t=>{l.status="rejected",l.reason=t,y(["reject",[o],t])}));else{!c.has(l)&&r(l)&&(E=g(l));const t=!u.has(E)&&c.get(E);t&&((t,e)=>{if(v.has(t))throw new Error("prop listener already exists");if(m.size){const r=e[3](w(t));v.set(t,[e,r])}else v.set(t,[e])})(o,t)}return Reflect.set(e,o,E,h),y(["set",[o],l,p]),!0}});f.set(o,A);const S=[E,(t=++p[1])=>(b===t||m.size||(b=t,v.forEach((([e])=>{const r=e[1](t);r>h&&(h=r)}))),h),d,t=>(m.add(t),1===m.size&&v.forEach((([t,e],r)=>{if(e)throw new Error("remove already exists");const n=t[3](w(r));v.set(r,[t,n])})),()=>{m.delete(t),0===m.size&&v.forEach((([t,e],r)=>{e&&(e(),v.set(r,[t]))}))})];return c.set(A,S),Reflect.ownKeys(o).forEach((t=>{const e=Object.getOwnPropertyDescriptor(o,t);"value"in e&&(A[t]=o[t],delete e.value,delete e.writable),Object.defineProperty(E,t,e)})),A})=>[g,c,u,t,e,r,l,h,d,f,p])();function h(t={}){return l(t)}function d(t,e,r){const n=c.get(t);let i;n||console.warn("Please use proxy object");const s=[],o=n[3];let a=!1;const u=o((t=>{s.push(t),r?e(s.splice(0)):i||(i=Promise.resolve().then((()=>{i=void 0,a&&e(s.splice(0))})))}));return a=!0,()=>{a=!1,u()}}const f=h({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),p={state:f,subscribe:t=>d(f,(()=>t(f))),push(t,e){t!==f.view&&(f.view=t,e&&(f.data=e),f.history.push(t))},reset(t){f.view=t,f.history=[t]},replace(t){f.history.length>1&&(f.history[f.history.length-1]=t,f.view=t)},goBack(){if(f.history.length>1){f.history.pop();const[t]=f.history.slice(-1);f.view=t}},setData(t){f.data=t}},g={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>g.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const t=navigator.userAgent.toLowerCase();return g.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl:t=>t.startsWith("http://")||t.startsWith("https://"),isArray:t=>Array.isArray(t)&&t.length>0,formatNativeUrl(t,e,r){if(g.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r),`${n}wc?uri=${encodeURIComponent(e)}`},formatUniversalUrl(t,e,r){if(!g.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;return n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r),`${n}wc?uri=${encodeURIComponent(e)}`},wait:async t=>new Promise((e=>{setTimeout(e,t)})),openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(g.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(g.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(g.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(g.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=null==(t=p.state.data)?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},m=h({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),y={state:m,subscribe:t=>d(m.events,(()=>t(function(t){const e=c.get(t);e||console.warn("Please use proxy object");const[r,n,i]=e;return i(r,n(),void 0)}(m.events[m.events.length-1])))),initialize(){m.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(m.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){m.connectedWalletId=t},click(t){if(m.enabled){const e={type:"CLICK",name:t.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:t};m.events.push(e)}},track(t){if(m.enabled){const e={type:"TRACK",name:t.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:t};m.events.push(e)}},view(t){if(m.enabled){const e={type:"VIEW",name:t.name,userSessionId:m.userSessionId,timestamp:Date.now(),data:t};m.events.push(e)}}},b=h({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),w={state:b,subscribe:t=>d(b,(()=>t(b))),setChains(t){b.chains=t},setWalletConnectUri(t){b.walletConnectUri=t},setIsCustomDesktop(t){b.isCustomDesktop=t},setIsCustomMobile(t){b.isCustomMobile=t},setIsDataLoaded(t){b.isDataLoaded=t},setIsUiLoaded(t){b.isUiLoaded=t},setIsAuth(t){b.isAuth=t}},v=h({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),_={state:v,subscribe:t=>d(v,(()=>t(v))),setConfig(t){var e,r;y.initialize(),w.setChains(t.chains),w.setIsAuth(Boolean(t.enableAuthMode)),w.setIsCustomMobile(Boolean(null==(e=t.mobileWallets)?void 0:e.length)),w.setIsCustomDesktop(Boolean(null==(r=t.desktopWallets)?void 0:r.length)),g.setModalVersionInStorage(),Object.assign(v,t)}};var E=Object.defineProperty,A=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,k=(t,e,r)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const I="https://explorer-api.walletconnect.com",M="wcm",C="js-2.6.2";async function T(t,e){const r=((t,e)=>{for(var r in e||(e={}))S.call(e,r)&&k(t,r,e[r]);if(A)for(var r of A(e))x.call(e,r)&&k(t,r,e[r]);return t})({sdkType:M,sdkVersion:C},e),n=new URL(t,I);return n.searchParams.append("projectId",_.state.projectId),Object.entries(r).forEach((([t,e])=>{e&&n.searchParams.append(t,String(e))})),(await fetch(n)).json()}const O=async t=>T("/w3m/v1/getDesktopListings",t),R=async t=>T("/w3m/v1/getMobileListings",t),P=async t=>T("/w3m/v1/getAllListings",t),N=t=>`${I}/w3m/v1/getWalletImage/${t}?projectId=${_.state.projectId}&sdkType=${M}&sdkVersion=${C}`,B=t=>`${I}/w3m/v1/getAssetImage/${t}?projectId=${_.state.projectId}&sdkType=${M}&sdkVersion=${C}`;var L=Object.defineProperty,D=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,F=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const z=g.isMobile(),q=h({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),H={state:q,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=_.state;if("NONE"===t||"ALL"===e&&!t)return q.recomendedWallets;if(g.isArray(t)){const e={recommendedIds:t.join(",")},{listings:r}=await P(e),n=Object.values(r);n.sort(((e,r)=>t.indexOf(e.id)-t.indexOf(r.id))),q.recomendedWallets=n}else{const{chains:t,isAuth:r}=w.state,n=t?.join(","),i=g.isArray(e),s={page:1,sdks:r?"auth_v1":void 0,entries:g.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:i?e.join(","):void 0},{listings:o}=z?await R(s):await O(s);q.recomendedWallets=Object.values(o)}return q.recomendedWallets},async getWallets(t){const e=((t,e)=>{for(var r in e||(e={}))U.call(e,r)&&F(t,r,e[r]);if(D)for(var r of D(e))j.call(e,r)&&F(t,r,e[r]);return t})({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=_.state,{recomendedWallets:i}=q;if("ALL"===n)return q.wallets;i.length?e.excludedIds=i.map((t=>t.id)).join(","):g.isArray(r)&&(e.excludedIds=r.join(",")),g.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),w.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:o}=t,{listings:a,total:c}=z?await R(e):await O(e),u=Object.values(a),l=o?"search":"wallets";return q[l]={listings:[...q[l].listings,...u],total:c,page:s??1},{listings:u,total:c}},getWalletImageUrl:t=>N(t),getAssetImageUrl:t=>B(t),resetSearch(){q.search={listings:[],total:0,page:1}}},W=h({open:!1}),V={state:W,subscribe:t=>d(W,(()=>t(W))),open:async t=>new Promise((e=>{const{isUiLoaded:r,isDataLoaded:n}=w.state;if(g.removeWalletConnectDeepLink(),w.setWalletConnectUri(t?.uri),w.setChains(t?.chains),p.reset("ConnectWallet"),r&&n)W.open=!0,e();else{const t=setInterval((()=>{const r=w.state;r.isUiLoaded&&r.isDataLoaded&&(clearInterval(t),W.open=!0,e())}),200)}})),close(){W.open=!1}};var $=Object.defineProperty,K=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,Z=(t,e,r)=>e in t?$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const J=h({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),Q={state:J,subscribe:t=>d(J,(()=>t(J))),setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(J.themeMode=e),r&&(J.themeVariables=((t,e)=>{for(var r in e||(e={}))G.call(e,r)&&Z(t,r,e[r]);if(K)for(var r of K(e))Y.call(e,r)&&Z(t,r,e[r]);return t})({},r))}},X=h({open:!1,message:"",variant:"success"}),tt={state:X,subscribe:t=>d(X,(()=>t(X))),openToast(t,e){X.open=!0,X.message=t,X.variant=e},closeToast(){X.open=!1}}},7091:(t,e,r)=>{"use strict";r.r(e),r.d(e,{WcmModal:()=>ln,WcmQrCode:()=>mr});const n=window,i=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class a{constructor(t,e,r){if(this._$cssResult$=!0,r!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const r=void 0!==e&&1===e.length;r&&(t=o.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&o.set(e,t))}return t}toString(){return this.cssText}}const c=(t,...e)=>{const r=1===t.length?t[0]:e.reduce(((e,r,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[n+1]),t[0]);return new a(r,t,s)},u=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const r of t.cssRules)e+=r.cssText;return(t=>new a("string"==typeof t?t:t+"",void 0,s))(e)})(t):t;var l;const h=window,d=h.trustedTypes,f=d?d.emptyScript:"",p=h.reactiveElementPolyfillSupport,g={toAttribute(t,e){switch(e){case Boolean:t=t?f:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=null!==t;break;case Number:r=null===t?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(t){r=null}}return r}},m=(t,e)=>e!==t&&(e==e||t==t),y={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:m},b="finalized";class w extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,r)=>{const n=this._$Ep(r,e);void 0!==n&&(this._$Ev.set(n,r),t.push(n))})),t}static createProperty(t,e=y){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const r="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,r,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||y}static finalize(){if(this.hasOwnProperty(b))return!1;this[b]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const r of e)this.createProperty(r,t[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const t of r)e.unshift(u(t))}else void 0!==t&&e.push(u(t));return e}static _$Ep(t,e){const r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,r;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(r=t.hostConnected)||void 0===r||r.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{i?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const r=document.createElement("style"),i=n.litNonce;void 0!==i&&r.setAttribute("nonce",i),r.textContent=e.cssText,t.appendChild(r)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e,r=y){var n;const i=this.constructor._$Ep(t,r);if(void 0!==i&&!0===r.reflect){const s=(void 0!==(null===(n=r.converter)||void 0===n?void 0:n.toAttribute)?r.converter:g).toAttribute(e,r.type);this._$El=t,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$El=null}}_$AK(t,e){var r;const n=this.constructor,i=n._$Ev.get(t);if(void 0!==i&&this._$El!==i){const t=n.getPropertyOptions(i),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(r=t.converter)||void 0===r?void 0:r.fromAttribute)?t.converter:g;this._$El=i,this[i]=s.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,r){let n=!0;void 0!==t&&(((r=r||this.constructor.getPropertyOptions(t)).hasChanged||m)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===r.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(r)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(r)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}var v;w[b]=!0,w.elementProperties=new Map,w.elementStyles=[],w.shadowRootOptions={mode:"open"},null==p||p({ReactiveElement:w}),(null!==(l=h.reactiveElementVersions)&&void 0!==l?l:h.reactiveElementVersions=[]).push("1.6.3");const _=window,E=_.trustedTypes,A=E?E.createPolicy("lit-html",{createHTML:t=>t}):void 0,S="$lit$",x=`lit$${(Math.random()+"").slice(9)}$`,k="?"+x,I=`<${k}>`,M=document,C=()=>M.createComment(""),T=t=>null===t||"object"!=typeof t&&"function"!=typeof t,O=Array.isArray,R="[ \t\n\f\r]",P=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,B=/>/g,L=RegExp(`>|${R}(?:([^\\s"'>=/]+)(${R}*=${R}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),D=/'/g,U=/"/g,j=/^(?:script|style|textarea|title)$/i,F=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),z=F(1),q=F(2),H=Symbol.for("lit-noChange"),W=Symbol.for("lit-nothing"),V=new WeakMap,$=M.createTreeWalker(M,129,null,!1);function K(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==A?A.createHTML(e):e}const G=(t,e)=>{const r=t.length-1,n=[];let i,s=2===e?"<svg>":"",o=P;for(let e=0;e<r;e++){const r=t[e];let a,c,u=-1,l=0;for(;l<r.length&&(o.lastIndex=l,c=o.exec(r),null!==c);)l=o.lastIndex,o===P?"!--"===c[1]?o=N:void 0!==c[1]?o=B:void 0!==c[2]?(j.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=L):void 0!==c[3]&&(o=L):o===L?">"===c[0]?(o=null!=i?i:P,u=-1):void 0===c[1]?u=-2:(u=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?L:'"'===c[3]?U:D):o===U||o===D?o=L:o===N||o===B?o=P:(o=L,i=void 0);const h=o===L&&t[e+1].startsWith("/>")?" ":"";s+=o===P?r+I:u>=0?(n.push(a),r.slice(0,u)+S+r.slice(u)+x+h):r+x+(-2===u?(n.push(void 0),e):h)}return[K(t,s+(t[r]||"<?>")+(2===e?"</svg>":"")),n]};class Y{constructor({strings:t,_$litType$:e},r){let n;this.parts=[];let i=0,s=0;const o=t.length-1,a=this.parts,[c,u]=G(t,e);if(this.el=Y.createElement(c,r),$.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=$.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith(S)||e.startsWith(x)){const r=u[s++];if(t.push(e),void 0!==r){const t=n.getAttribute(r.toLowerCase()+S).split(x),e=/([.?@])?(.*)/.exec(r);a.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?tt:"?"===e[1]?rt:"@"===e[1]?nt:X})}else a.push({type:6,index:i})}for(const e of t)n.removeAttribute(e)}if(j.test(n.tagName)){const t=n.textContent.split(x),e=t.length-1;if(e>0){n.textContent=E?E.emptyScript:"";for(let r=0;r<e;r++)n.append(t[r],C()),$.nextNode(),a.push({type:2,index:++i});n.append(t[e],C())}}}else if(8===n.nodeType)if(n.data===k)a.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(x,t+1));)a.push({type:7,index:i}),t+=x.length-1}i++}}static createElement(t,e){const r=M.createElement("template");return r.innerHTML=t,r}}function Z(t,e,r=t,n){var i,s,o,a;if(e===H)return e;let c=void 0!==n?null===(i=r._$Co)||void 0===i?void 0:i[n]:r._$Cl;const u=T(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==u&&(null===(s=null==c?void 0:c._$AO)||void 0===s||s.call(c,!1),void 0===u?c=void 0:(c=new u(t),c._$AT(t,r,n)),void 0!==n?(null!==(o=(a=r)._$Co)&&void 0!==o?o:a._$Co=[])[n]=c:r._$Cl=c),void 0!==c&&(e=Z(t,c._$AS(t,e.values),c,n)),e}class J{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:r},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:M).importNode(r,!0);$.currentNode=i;let s=$.nextNode(),o=0,a=0,c=n[0];for(;void 0!==c;){if(o===c.index){let e;2===c.type?e=new Q(s,s.nextSibling,this,t):1===c.type?e=new c.ctor(s,c.name,c.strings,this,t):6===c.type&&(e=new it(s,this,t)),this._$AV.push(e),c=n[++a]}o!==(null==c?void 0:c.index)&&(s=$.nextNode(),o++)}return $.currentNode=M,i}v(t){let e=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}}class Q{constructor(t,e,r,n){var i;this.type=2,this._$AH=W,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=n,this._$Cp=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Z(this,t,e),T(t)?t===W||null==t||""===t?(this._$AH!==W&&this._$AR(),this._$AH=W):t!==this._$AH&&t!==H&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>O(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==W&&T(this._$AH)?this._$AA.nextSibling.data=t:this.$(M.createTextNode(t)),this._$AH=t}g(t){var e;const{values:r,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=Y.createElement(K(n.h,n.h[0]),this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.v(r);else{const t=new J(i,this),e=t.u(this.options);t.v(r),this.$(e),this._$AH=t}}_$AC(t){let e=V.get(t.strings);return void 0===e&&V.set(t.strings,e=new Y(t)),e}T(t){O(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let r,n=0;for(const i of t)n===e.length?e.push(r=new Q(this.k(C()),this.k(C()),this,this.options)):r=e[n],r._$AI(i),n++;n<e.length&&(this._$AR(r&&r._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var r;for(null===(r=this._$AP)||void 0===r||r.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class X{constructor(t,e,r,n,i){this.type=1,this._$AH=W,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=W}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,r,n){const i=this.strings;let s=!1;if(void 0===i)t=Z(this,t,e,0),s=!T(t)||t!==this._$AH&&t!==H,s&&(this._$AH=t);else{const n=t;let o,a;for(t=i[0],o=0;o<i.length-1;o++)a=Z(this,n[r+o],e,o),a===H&&(a=this._$AH[o]),s||(s=!T(a)||a!==this._$AH[o]),a===W?t=W:t!==W&&(t+=(null!=a?a:"")+i[o+1]),this._$AH[o]=a}s&&!n&&this.j(t)}j(t){t===W?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class tt extends X{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===W?void 0:t}}const et=E?E.emptyScript:"";class rt extends X{constructor(){super(...arguments),this.type=4}j(t){t&&t!==W?this.element.setAttribute(this.name,et):this.element.removeAttribute(this.name)}}class nt extends X{constructor(t,e,r,n,i){super(t,e,r,n,i),this.type=5}_$AI(t,e=this){var r;if((t=null!==(r=Z(this,t,e,0))&&void 0!==r?r:W)===H)return;const n=this._$AH,i=t===W&&n!==W||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,s=t!==W&&(n===W||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==r?r:this.element,t):this._$AH.handleEvent(t)}}class it{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Z(this,t)}}const st=_.litHtmlPolyfillSupport;var ot,at;null==st||st(Y,Q),(null!==(v=_.litHtmlVersions)&&void 0!==v?v:_.litHtmlVersions=[]).push("2.8.0");class ct extends w{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const r=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=r.firstChild),r}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,r)=>{var n,i;const s=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:e;let o=s._$litPart$;if(void 0===o){const t=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;s._$litPart$=o=new Q(e.insertBefore(C(),t),t,void 0,null!=r?r:{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return H}}ct.finalized=!0,ct._$litElement$=!0,null===(ot=globalThis.litElementHydrateSupport)||void 0===ot||ot.call(globalThis,{LitElement:ct});const ut=globalThis.litElementPolyfillSupport;null==ut||ut({LitElement:ct}),(null!==(at=globalThis.litElementVersions)&&void 0!==at?at:globalThis.litElementVersions=[]).push("3.3.3");const lt=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(e){customElements.define(t,e)}}})(t,e),ht=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}};function dt(t){return(e,r)=>void 0!==r?((t,e,r)=>{e.constructor.createProperty(r,t)})(t,e,r):ht(t,e)}function ft(t){return dt({...t,state:!0})}var pt;null===(pt=window.HTMLSlotElement)||void 0===pt||pt.prototype.assignedElements;class gt{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,r){this._$Ct=t,this._$AM=e,this._$Ci=r}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const mt=(yt=class extends gt{constructor(t){var e;if(super(t),1!==t.type||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var r,n;if(void 0===this.it){this.it=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(r=this.nt)||void 0===r?void 0:r.has(t))&&this.it.add(t);return this.render(e)}const i=t.element.classList;this.it.forEach((t=>{t in e||(i.remove(t),this.it.delete(t))}));for(const t in e){const r=!!e[t];r===this.it.has(t)||(null===(n=this.nt)||void 0===n?void 0:n.has(t))||(r?(i.add(t),this.it.add(t)):(i.remove(t),this.it.delete(t)))}return H}},(...t)=>({_$litDirective$:yt,values:t}));var yt,bt=r(4909);const wt={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},vt=t=>1e3*t,_t=()=>{},Et=t=>t;function At(t,e=!0){if(t&&"finished"!==t.playState)try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch(t){}}const St=t=>t(),xt=(t,e,r=wt.duration)=>new Proxy({animations:t.map(St).filter(Boolean),duration:r,options:e},kt),kt={get:(t,e)=>{const r=t.animations[0];switch(e){case"duration":return t.duration;case"currentTime":return((null==r?void 0:r[e])||0)/1e3;case"playbackRate":case"playState":return null==r?void 0:r[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(It)).catch(_t)),t.finished;case"stop":return()=>{t.animations.forEach((t=>At(t)))};case"forEachNative":return e=>{t.animations.forEach((r=>e(r,t)))};default:return void 0===(null==r?void 0:r[e])?void 0:()=>t.animations.forEach((t=>t[e]()))}},set:(t,e,r)=>{switch(e){case"currentTime":r=vt(r);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},It=t=>t.finished,Mt=t=>"object"==typeof t&&Boolean(t.createAnimation),Ct=t=>"number"==typeof t,Tt=t=>Array.isArray(t)&&!Ct(t[0]),Ot=(t,e,r)=>-r*t+r*e+t,Rt=(t,e,r)=>e-t==0?1:(r-t)/(e-t);function Pt(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Rt(0,e,n);t.push(Ot(r,1,i))}}const Nt=(t,e,r)=>Math.min(Math.max(r,t),e);const Bt=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t;function Lt(t,e,r,n){if(t===e&&r===n)return Et;return i=>0===i||1===i?i:Bt(function(t,e,r,n,i){let s,o,a=0;do{o=e+(r-e)/2,s=Bt(o,n,i)-t,s>0?r=o:e=o}while(Math.abs(s)>1e-7&&++a<12);return o}(i,0,1,t,r),e,n)}const Dt=t=>"function"==typeof t,Ut=t=>Array.isArray(t)&&Ct(t[0]),jt={ease:Lt(.25,.1,.25,1),"ease-in":Lt(.42,0,1,1),"ease-in-out":Lt(.42,0,.58,1),"ease-out":Lt(0,0,.58,1)},Ft=/\((.*?)\)/;function zt(t){if(Dt(t))return t;if(Ut(t))return Lt(...t);const e=jt[t];if(e)return e;if(t.startsWith("steps")){const e=Ft.exec(t);if(e){const t=e[1].split(",");return((t,e="end")=>r=>{const n=(r="end"===e?Math.min(r,.999):Math.max(r,.001))*t,i="end"===e?Math.floor(n):Math.ceil(n);return Nt(0,1,i/t)})(parseFloat(t[0]),t[1].trim())}}return Et}class qt{constructor(t,e=[0,1],{easing:r,duration:n=wt.duration,delay:i=wt.delay,endDelay:s=wt.endDelay,repeat:o=wt.repeat,offset:a,direction:c="normal",autoplay:u=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Et,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise(((t,e)=>{this.resolve=t,this.reject=e})),r=r||wt.easing,Mt(r)){const t=r.createAnimation(e);r=t.easing,e=t.keyframes||e,n=t.duration||n}this.repeat=o,this.easing=Tt(r)?Et:zt(r),this.updateDuration(n);const l=function(t,e=function(t){const e=[0];return Pt(e,t-1),e}(t.length),r=Et){const n=t.length,i=n-e.length;return i>0&&Pt(e,i),i=>{let s=0;for(;s<n-2&&!(i<e[s+1]);s++);let o=Nt(0,1,Rt(e[s],e[s+1],i));const a=function(t,e){return Tt(t)?t[((t,e,r)=>{const n=e-0;return((r-0)%n+n)%n+0})(0,t.length,e)]:t}(r,s);return o=a(o),Ot(t[s],t[s+1],o)}}(e,a,Tt(r)?r.map(zt):Et);this.tick=e=>{var r;let n=0;n=void 0!==this.pauseTime?this.pauseTime:(e-this.startTime)*this.rate,this.t=n,n/=1e3,n=Math.max(n-i,0),"finished"===this.playState&&void 0===this.pauseTime&&(n=this.totalDuration);const o=n/this.duration;let a=Math.floor(o),u=o%1;!u&&o>=1&&(u=1),1===u&&a--;const h=a%2;("reverse"===c||"alternate"===c&&h||"alternate-reverse"===c&&!h)&&(u=1-u);const d=n>=this.totalDuration?1:Math.min(u,1),f=l(this.easing(d));t(f),void 0===this.pauseTime&&("finished"===this.playState||n>=this.totalDuration+s)?(this.playState="finished",null===(r=this.resolve)||void 0===r||r.call(this,f)):"idle"!==this.playState&&(this.frameRequestId=requestAnimationFrame(this.tick))},u&&this.play()}play(){const t=performance.now();this.playState="running",void 0!==this.pauseTime?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(t=this.reject)||void 0===t||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){void 0!==this.pauseTime||0===this.rate?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class Ht{setAnimation(t){this.animation=t,null==t||t.finished.then((()=>this.clearAnimation())).catch((()=>{}))}clearAnimation(){this.animation=this.generator=void 0}}const Wt=new WeakMap;function Vt(t){return Wt.has(t)||Wt.set(t,{transforms:[],values:new Map}),Wt.get(t)}const $t=["","X","Y","Z"],Kt={x:"translateX",y:"translateY",z:"translateZ"},Gt={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},Yt={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:Gt,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Et},skew:Gt},Zt=new Map,Jt=t=>`--motion-${t}`,Qt=["x","y","z"];["translate","scale","rotate","skew"].forEach((t=>{$t.forEach((e=>{Qt.push(t+e),Zt.set(Jt(t+e),Yt[t])}))}));const Xt=(t,e)=>Qt.indexOf(t)-Qt.indexOf(e),te=new Set(Qt),ee=t=>te.has(t),re=(t,e)=>`${t} ${e}(var(${Jt(e)}))`,ne=t=>t.startsWith("--"),ie=new Set,se=(t,e)=>document.createElement("div").animate(t,e),oe={cssRegisterProperty:()=>"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{se({opacity:[1]})}catch(t){return!1}return!0},finished:()=>Boolean(se({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{se({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}},ae={},ce={};for(const t in oe)ce[t]=()=>(void 0===ae[t]&&(ae[t]=oe[t]()),ae[t]);const ue=(t,e)=>Dt(t)?ce.linearEasing()?`linear(${((t,e)=>{let r="";const n=Math.round(e/.015);for(let e=0;e<n;e++)r+=t(Rt(0,n-1,e))+", ";return r.substring(0,r.length-2)})(t,e)})`:wt.easing:Ut(t)?le(t):t,le=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function he(t){return Kt[t]&&(t=Kt[t]),ee(t)?Jt(t):t}const de=(t,e,r)=>{e=he(e),ne(e)?t.style.setProperty(e,r):t.style[e]=r};function fe(t,e,r,n={},i){const s=window.__MOTION_DEV_TOOLS_RECORD,o=!1!==n.record&&s;let a,{duration:c=wt.duration,delay:u=wt.delay,endDelay:l=wt.endDelay,repeat:h=wt.repeat,easing:d=wt.easing,persist:f=!1,direction:p,offset:g,allowWebkitAcceleration:m=!1,autoplay:y=!0}=n;const b=Vt(t),w=ee(e);let v=ce.waapi();w&&((t,e)=>{Kt[e]&&(e=Kt[e]);const{transforms:r}=Vt(t);var n,i;i=e,-1===(n=r).indexOf(i)&&n.push(i),t.style.transform=(t=>t.sort(Xt).reduce(re,"").trim())(r)})(t,e);const _=he(e),E=function(t,e){return t.has(e)||t.set(e,new Ht),t.get(e)}(b.values,_),A=Zt.get(_);return At(E.animation,!(Mt(d)&&E.generator)&&!1!==n.record),()=>{const b=()=>{var e,r;return null!==(r=null!==(e=((t,e)=>{e=he(e);let r=ne(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&0!==r){const t=Zt.get(e);t&&(r=t.initialValue)}return r})(t,_))&&void 0!==e?e:null==A?void 0:A.initialValue)&&void 0!==r?r:0};let S=function(t,e){for(let r=0;r<t.length;r++)null===t[r]&&(t[r]=r?t[r-1]:e());return t}((t=>Array.isArray(t)?t:[t])(r),b);const x=function(t,e){var r;let n=(null==e?void 0:e.toDefaultUnit)||Et;const i=t[t.length-1];if("string"==typeof i){const t=(null===(r=i.match(/(-?[\d.]+)([a-z%]*)/))||void 0===r?void 0:r[2])||"";t&&(n=e=>e+t)}return n}(S,A);if(Mt(d)){const t=d.createAnimation(S,"opacity"!==e,b,_,E);d=t.easing,S=t.keyframes||S,c=t.duration||c}if(ne(_)&&(ce.cssRegisterProperty()?function(t){if(!ie.has(t)){ie.add(t);try{const{syntax:e,initialValue:r}=Zt.has(t)?Zt.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch(t){}}}(_):v=!1),w&&!ce.linearEasing()&&(Dt(d)||Tt(d)&&d.some(Dt))&&(v=!1),v){A&&(S=S.map((t=>Ct(t)?A.toDefaultUnit(t):t))),1!==S.length||ce.partialKeyframes()&&!o||S.unshift(b());const e={delay:vt(u),duration:vt(c),endDelay:vt(l),easing:Tt(d)?void 0:ue(d,c),direction:p,iterations:h+1,fill:"both"};a=t.animate({[_]:S,offset:g,easing:Tt(d)?d.map((t=>ue(t,c))):void 0},e),a.finished||(a.finished=new Promise(((t,e)=>{a.onfinish=t,a.oncancel=e})));const r=S[S.length-1];a.finished.then((()=>{f||(de(t,_,r),a.cancel())})).catch(_t),m||(a.playbackRate=1.000001)}else if(i&&w)S=S.map((t=>"string"==typeof t?parseFloat(t):t)),1===S.length&&S.unshift(parseFloat(b())),a=new i((e=>{de(t,_,x?x(e):e)}),S,Object.assign(Object.assign({},n),{duration:c,easing:d}));else{const e=S[S.length-1];de(t,_,A&&Ct(e)?A.toDefaultUnit(e):e)}return o&&s(t,e,S,{duration:c,delay:u,easing:d,repeat:h,offset:g},"motion-one"),E.setAnimation(a),a&&!y&&a.pause(),a}}const pe=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function ge(t,e,r){return Dt(t)?t(e,r):t}const me=(ye=qt,function(t,e,r={}){const n=(t=function(t){return"string"==typeof t?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}(t)).length;Boolean(n),Boolean(e);const i=[];for(let s=0;s<n;s++){const o=t[s];for(const t in e){const a=pe(r,t);a.delay=ge(a.delay,s,n);const c=fe(o,t,e[t],a,ye);i.push(c)}}return xt(i,r,r.duration)});var ye;function be(t,e={}){return xt([()=>{const r=new qt(t,[0,1],e);return r.finished.catch((()=>{})),r}],e,e.duration)}function we(t,e,r){return(Dt(t)?be:me)(t,e,r)}const ve=t=>null!=t?t:W;var _e=r(7583),Ee=Object.defineProperty,Ae=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,ke=(t,e,r)=>e in t?Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ie=(t,e)=>{for(var r in e||(e={}))Se.call(e,r)&&ke(t,r,e[r]);if(Ae)for(var r of Ae(e))xe.call(e,r)&&ke(t,r,e[r]);return t};const Me={getPreset:t=>({"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}[t]),setTheme(){const t=document.querySelector(":root"),{themeVariables:e}=bt.lH.state;if(t){const r=Ie(Ie(Ie({},function(){var t;const e={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[null!=(t=bt.lH.state.themeMode)?t:"dark"];return{"--wcm-color-fg-1":e.foreground[1],"--wcm-color-fg-2":e.foreground[2],"--wcm-color-fg-3":e.foreground[3],"--wcm-color-bg-1":e.background[1],"--wcm-color-bg-2":e.background[2],"--wcm-color-bg-3":e.background[3],"--wcm-color-overlay":e.overlay}}()),{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}),e);Object.entries(r).forEach((([e,r])=>t.style.setProperty(e,r)))}},globalCss:c`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},Ce=c`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var Te=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,Re=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Oe(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Te(e,r,s),s};let Pe=class extends ct{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const t={"wcm-icon-left":void 0!==this.iconLeft,"wcm-icon-right":void 0!==this.iconRight,"wcm-ghost":"ghost"===this.variant,"wcm-outline":"outline"===this.variant};let e="inverse";return"ghost"===this.variant&&(e="secondary"),"outline"===this.variant&&(e="accent"),z`<button class="${mt(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Pe.styles=[Me.globalCss,Ce],Re([dt({type:Boolean})],Pe.prototype,"disabled",2),Re([dt()],Pe.prototype,"iconLeft",2),Re([dt()],Pe.prototype,"iconRight",2),Re([dt()],Pe.prototype,"onClick",2),Re([dt()],Pe.prototype,"variant",2),Pe=Re([lt("wcm-button")],Pe);const Ne=c`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var Be=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,De=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Le(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Be(e,r,s),s};let Ue=class extends ct{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"wcm-secondary":"secondary"===this.variant};return z`<button ?disabled="${this.disabled}" class="${mt(t)}"><slot></slot></button>`}};Ue.styles=[Me.globalCss,Ne],De([dt({type:Boolean})],Ue.prototype,"disabled",2),De([dt()],Ue.prototype,"variant",2),Ue=De([lt("wcm-button-big")],Ue);const je=c`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Fe=class extends ct{render(){return z`<div><slot></slot></div>`}};Fe.styles=[Me.globalCss,je],Fe=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-info-footer")],Fe);const ze={CROSS_ICON:q`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:q`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:q`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:q`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:q`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:q`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:q`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:q`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:q`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:q`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:q`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:q`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:q`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:q`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:q`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:q`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:q`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:q`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},qe=c`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let He=class extends ct{render(){return z`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${ze.WALLET_CONNECT_LOGO} <button @click="${bt.D8.close}">${ze.CROSS_ICON}</button></div>`}};He.styles=[Me.globalCss,qe],He=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-modal-backcard")],He);const We=c`main{padding:20px;padding-top:0;width:100%}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Ve=class extends ct{render(){return z`<main><slot></slot></main>`}};Ve.styles=[Me.globalCss,We],Ve=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-modal-content")],Ve);const $e=c`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Ke=class extends ct{render(){return z`<footer><slot></slot></footer>`}};Ke.styles=[Me.globalCss,$e],Ke=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-modal-footer")],Ke);const Ge=c`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var Ye=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Je=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Ze(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Ye(e,r,s),s};let Qe=class extends ct{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return z`<button class="wcm-back-btn" @click="${bt.jL.goBack}">${ze.BACK_ICON}</button>`}actionBtnTemplate(){return z`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"wcm-border":this.border},e=bt.jL.state.history.length>1,r=this.title?z`<wcm-text variant="big-bold">${this.title}</wcm-text>`:z`<slot></slot>`;return z`<header class="${mt(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Qe.styles=[Me.globalCss,Ge],Je([dt()],Qe.prototype,"title",2),Je([dt()],Qe.prototype,"onAction",2),Je([dt()],Qe.prototype,"actionIcon",2),Je([dt({type:Boolean})],Qe.prototype,"border",2),Qe=Je([lt("wcm-modal-header")],Qe);const Xe={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletIcon({id:t,image_id:e}){const{walletImages:r}=bt.mb.state;return null!=r&&r[t]?r[t]:e?bt.pV.getWalletImageUrl(e):""},getWalletName:(t,e=!1)=>e&&t.length>8?`${t.substring(0,8)}..`:t,isMobileAnimation:()=>window.innerWidth<=Xe.MOBILE_BREAKPOINT,async preloadImage(t){const e=new Promise(((e,r)=>{const n=new Image;n.onload=e,n.onerror=r,n.crossOrigin="anonymous",n.src=t}));return Promise.race([e,bt.Ao.wait(3e3)])},getErrorMessage:t=>t instanceof Error?t.message:"Unknown Error",debounce(t,e=500){let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout((function(){t(...n)}),e)}},handleMobileLinking(t){const{walletConnectUri:e}=bt.IN.state,{mobile:r,name:n}=t,i=r?.native,s=r?.universal;Xe.setRecentWallet(t),e&&function(t){let e="";i?e=bt.Ao.formatUniversalUrl(i,t,n):s&&(e=bt.Ao.formatNativeUrl(s,t,n)),bt.Ao.openHref(e,"_self")}(e)},handleAndroidLinking(){const{walletConnectUri:t}=bt.IN.state;t&&(bt.Ao.setWalletConnectAndroidDeepLink(t),bt.Ao.openHref(t,"_self"))},async handleUriCopy(){const{walletConnectUri:t}=bt.IN.state;if(t)try{await navigator.clipboard.writeText(t),bt.dC.openToast("Link copied","success")}catch{bt.dC.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:t}=bt.mb.state,e=Object.values(t??{});return Object.values(e)},truncate:(t,e=8)=>t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`,setRecentWallet(t){try{localStorage.setItem(Xe.WCM_RECENT_WALLET_DATA,JSON.stringify(t))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const t=localStorage.getItem(Xe.WCM_RECENT_WALLET_DATA);return t?JSON.parse(t):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes:(t,e)=>t.toUpperCase().includes(e.toUpperCase()),openWalletExplorerUrl(){bt.Ao.openHref(Xe.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:t,mobile:e}=bt.Ao.getWalletRouterData(),r=Boolean(t?.native),n=Boolean(t?.universal);return{isDesktop:r,isMobile:Boolean(e?.native)||Boolean(e?.universal),isWeb:n}},goToConnectingView(t){bt.jL.setData({Wallet:t});const e=bt.Ao.isMobile(),{isDesktop:r,isWeb:n,isMobile:i}=Xe.getCachedRouterWalletPlatforms();e?i?bt.jL.push("MobileConnecting"):n?bt.jL.push("WebConnecting"):bt.jL.push("InstallWallet"):r?bt.jL.push("DesktopConnecting"):n?bt.jL.push("WebConnecting"):i?bt.jL.push("MobileQrcodeConnecting"):bt.jL.push("InstallWallet")}},tr=c`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var er=Object.defineProperty,rr=Object.getOwnPropertyDescriptor,nr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?rr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&er(e,r,s),s};let ir=class extends ct{constructor(){super(),this.view=bt.jL.state.view,this.prevView=bt.jL.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=bt.jL.subscribe((t=>{this.view!==t.view&&this.onChangeRoute()}))}firstUpdated(){this.resizeObserver=new ResizeObserver((([t])=>{const e=`${t.contentRect.height}px`;"0px"!==this.oldHeight&&we(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e})),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;null==(t=this.unsubscribe)||t.call(this),null==(e=this.resizeObserver)||e.disconnect()}get routerEl(){return Xe.getShadowRootElement(this,".wcm-router")}get contentEl(){return Xe.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return z`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return z`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return z`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return z`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return z`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return z`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return z`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return z`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return z`<div>Not Found</div>`}}async onChangeRoute(){await we(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=bt.jL.state.view,we(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return z`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};ir.styles=[Me.globalCss,tr],nr([ft()],ir.prototype,"view",2),nr([ft()],ir.prototype,"prevView",2),ir=nr([lt("wcm-modal-router")],ir);const sr=c`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var or=Object.defineProperty,ar=Object.getOwnPropertyDescriptor,cr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?ar(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&or(e,r,s),s};let ur=class extends ct{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=bt.dC.subscribe((t=>{t.open?(this.open=!0,this.timeout=setTimeout((()=>bt.dC.closeToast()),2200)):(this.open=!1,clearTimeout(this.timeout))}))}disconnectedCallback(){var t;null==(t=this.unsubscribe)||t.call(this),clearTimeout(this.timeout),bt.dC.closeToast()}render(){const{message:t,variant:e}=bt.dC.state,r={"wcm-success":"success"===e,"wcm-error":"error"===e};return this.open?z`<div class="${mt(r)}">${"success"===e?ze.CHECKMARK_ICON:null} ${"error"===e?ze.CROSS_ICON:null}<wcm-text variant="small-regular">${t}</wcm-text></div>`:null}};function lr(t,e,r){return t!==e&&(t-e<0?e-t:t-e)<=r+.1}ur.styles=[Me.globalCss,sr],cr([ft()],ur.prototype,"open",2),ur=cr([lt("wcm-modal-toast")],ur);const hr={generate(t,e,r){const n="#141414",i=[],s=function(t){const e=Array.prototype.slice.call(_e.create(t,{errorCorrectionLevel:"Q"}).modules.data,0),r=Math.sqrt(e.length);return e.reduce(((t,e,n)=>(n%r==0?t.push([e]):t[t.length-1].push(e))&&t),[])}(t),o=e/s.length,a=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];a.forEach((({x:t,y:e})=>{const r=(s.length-7)*o*t,c=(s.length-7)*o*e;for(let t=0;t<a.length;t+=1){const e=o*(7-2*t);i.push(q`<rect fill="${t%2==0?n:"#ffffff"}" height="${e}" rx="${.45*e}" ry="${.45*e}" width="${e}" x="${r+o*t}" y="${c+o*t}">`)}}));const c=Math.floor((r+25)/o),u=s.length/2-c/2,l=s.length/2+c/2-1,h=[];s.forEach(((t,e)=>{t.forEach(((t,r)=>{if(s[e][r]&&!(e<7&&r<7||e>s.length-8&&r<7||e<7&&r>s.length-8)&&!(e>u&&e<l&&r>u&&r<l)){const t=e*o+o/2,n=r*o+o/2;h.push([t,n])}}))}));const d={};return h.forEach((([t,e])=>{d[t]?d[t].push(e):d[t]=[e]})),Object.entries(d).map((([t,e])=>{const r=e.filter((t=>e.every((e=>!lr(t,e,o)))));return[Number(t),r]})).forEach((([t,e])=>{e.forEach((e=>{i.push(q`<circle cx="${t}" cy="${e}" fill="${n}" r="${o/2.5}">`)}))})),Object.entries(d).filter((([t,e])=>e.length>1)).map((([t,e])=>{const r=e.filter((t=>e.some((e=>lr(t,e,o)))));return[Number(t),r]})).map((([t,e])=>{e.sort(((t,e)=>t<e?-1:1));const r=[];for(const t of e){const e=r.find((e=>e.some((e=>lr(t,e,o)))));e?e.push(t):r.push([t])}return[t,r.map((t=>[t[0],t[t.length-1]]))]})).forEach((([t,e])=>{e.forEach((([e,r])=>{i.push(q`<line x1="${t}" x2="${t}" y1="${e}" y2="${r}" stroke="${n}" stroke-width="${o/1.25}" stroke-linecap="round">`)}))})),i}},dr=c`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var fr=Object.defineProperty,pr=Object.getOwnPropertyDescriptor,gr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?pr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&fr(e,r,s),s};let mr=class extends ct{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const t="light"===bt.lH.state.themeMode?this.size:this.size-36;return q`<svg height="${t}" width="${t}">${hr.generate(this.uri,t,t/4)}</svg>`}render(){const t={"wcm-dark":"dark"===bt.lH.state.themeMode};return z`<div style="${`width: ${this.size}px`}" class="${mt(t)}">${this.walletId||this.imageUrl?z`<wcm-wallet-image walletId="${ve(this.walletId)}" imageId="${ve(this.imageId)}" imageUrl="${ve(this.imageUrl)}"></wcm-wallet-image>`:ze.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};mr.styles=[Me.globalCss,dr],gr([dt()],mr.prototype,"uri",2),gr([dt({type:Number})],mr.prototype,"size",2),gr([dt()],mr.prototype,"imageId",2),gr([dt()],mr.prototype,"walletId",2),gr([dt()],mr.prototype,"imageUrl",2),mr=gr([lt("wcm-qrcode")],mr);const yr=c`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var br=Object.defineProperty,wr=Object.getOwnPropertyDescriptor,vr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?wr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&br(e,r,s),s};let _r=class extends ct{constructor(){super(...arguments),this.onChange=()=>null}render(){return z`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${ze.SEARCH_ICON}`}};_r.styles=[Me.globalCss,yr],vr([dt()],_r.prototype,"onChange",2),_r=vr([lt("wcm-search-input")],_r);const Er=c`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Ar=class extends ct{render(){return z`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Ar.styles=[Me.globalCss,Er],Ar=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-spinner")],Ar);const Sr=c`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var xr=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,Ir=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?kr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&xr(e,r,s),s};let Mr=class extends ct{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const t={"wcm-big-bold":"big-bold"===this.variant,"wcm-medium-regular":"medium-regular"===this.variant,"wcm-small-regular":"small-regular"===this.variant,"wcm-small-thin":"small-thin"===this.variant,"wcm-xsmall-regular":"xsmall-regular"===this.variant,"wcm-xsmall-bold":"xsmall-bold"===this.variant,"wcm-color-primary":"primary"===this.color,"wcm-color-secondary":"secondary"===this.color,"wcm-color-tertiary":"tertiary"===this.color,"wcm-color-inverse":"inverse"===this.color,"wcm-color-accnt":"accent"===this.color,"wcm-color-error":"error"===this.color};return z`<span><slot class="${mt(t)}"></slot></span>`}};Mr.styles=[Me.globalCss,Sr],Ir([dt()],Mr.prototype,"variant",2),Ir([dt()],Mr.prototype,"color",2),Mr=Ir([lt("wcm-text")],Mr);const Cr=c`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var Tr=Object.defineProperty,Or=Object.getOwnPropertyDescriptor,Rr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Or(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Tr(e,r,s),s};let Pr=class extends ct{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?z`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?z`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){bt.vZ.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var t;return z`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${ve(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${null!=(t=this.label)?t:Xe.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};Pr.styles=[Me.globalCss,Cr],Rr([dt()],Pr.prototype,"onClick",2),Rr([dt()],Pr.prototype,"name",2),Rr([dt()],Pr.prototype,"walletId",2),Rr([dt()],Pr.prototype,"label",2),Rr([dt()],Pr.prototype,"imageId",2),Rr([dt({type:Boolean})],Pr.prototype,"installed",2),Rr([dt({type:Boolean})],Pr.prototype,"recent",2),Pr=Rr([lt("wcm-wallet-button")],Pr);const Nr=c`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var Br=Object.defineProperty,Lr=Object.getOwnPropertyDescriptor,Dr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Lr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Br(e,r,s),s};let Ur=class extends ct{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var t;const e=null!=(t=this.imageUrl)&&t.length?this.imageUrl:Xe.getWalletIcon({id:this.walletId,image_id:this.imageId});return z`${e.length?z`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:ze.WALLET_PLACEHOLDER}`}};Ur.styles=[Me.globalCss,Nr],Dr([dt()],Ur.prototype,"walletId",2),Dr([dt()],Ur.prototype,"imageId",2),Dr([dt()],Ur.prototype,"imageUrl",2),Ur=Dr([lt("wcm-wallet-image")],Ur);var jr=Object.defineProperty,Fr=Object.getOwnPropertyDescriptor,zr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Fr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&jr(e,r,s),s};let qr=class extends ct{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(t){try{null!=t&&t.length&&await Promise.all(t.map((async t=>Xe.preloadImage(t))))}catch{console.info("Unsuccessful attempt at preloading some images",t)}}async preloadListings(){if(bt.mb.state.enableExplorer){await bt.pV.getRecomendedWallets(),bt.IN.setIsDataLoaded(!0);const{recomendedWallets:t}=bt.pV.state,e=t.map((t=>Xe.getWalletIcon(t)));await this.loadImages(e)}else bt.IN.setIsDataLoaded(!0)}async preloadCustomImages(){const t=Xe.getCustomImageUrls();await this.loadImages(t)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(t){console.error(t),bt.dC.openToast("Failed preloading","error")}}};zr([ft()],qr.prototype,"preload",2),qr=zr([lt("wcm-explorer-context")],qr);Object.defineProperty,Object.getOwnPropertyDescriptor;let Hr=class extends ct{constructor(){super(),this.unsubscribeTheme=void 0,Me.setTheme(),this.unsubscribeTheme=bt.lH.subscribe(Me.setTheme)}disconnectedCallback(){var t;null==(t=this.unsubscribeTheme)||t.call(this)}};Hr=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-theme-context")],Hr);const Wr=c`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Vr=class extends ct{onGoToQrcode(){bt.jL.push("Qrcode")}render(){const{recomendedWallets:t}=bt.pV.state,e=[...t,...t],r=2*bt.Ao.RECOMMENDED_WALLET_AMOUNT;return z`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${ze.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${ze.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map(((t,r)=>{const n=e[r%e.length];return n?z`<wcm-wallet-image walletId="${n.id}" imageId="${n.image_id}"></wcm-wallet-image>`:ze.WALLET_PLACEHOLDER}))}</div><wcm-button-big @click="${Xe.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Vr.styles=[Me.globalCss,Wr],Vr=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-android-wallet-selection")],Vr);const $r=c`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var Kr=Object.defineProperty,Gr=Object.getOwnPropertyDescriptor,Yr=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Gr(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Kr(e,r,s),s};let Zr=class extends ct{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var t,e;const r=null!=(e=null==(t=bt.lH.state.themeVariables)?void 0:t["--wcm-wallet-icon-large-border-radius"])?e:Me.getPreset("--wcm-wallet-icon-large-border-radius");let n=0;return n=r.includes("%")?.88*parseInt(r,10):parseInt(r,10),n*=1.17,z`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${n}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${317-1.57*n}" stroke-dashoffset="${425-1.8*n}"></use></svg>`}render(){const t={"wcm-error":this.isError,"wcm-stale":this.isStale};return z`<div class="${mt(t)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${ve(this.walletId)}" imageId="${ve(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Zr.styles=[Me.globalCss,$r],Yr([dt()],Zr.prototype,"walletId",2),Yr([dt()],Zr.prototype,"imageId",2),Yr([dt({type:Boolean})],Zr.prototype,"isError",2),Yr([dt({type:Boolean})],Zr.prototype,"isStale",2),Yr([dt()],Zr.prototype,"label",2),Zr=Yr([lt("wcm-connector-waiting")],Zr);const Jr={manualWallets(){var t,e;const{mobileWallets:r,desktopWallets:n}=bt.mb.state,i=null==(t=Jr.recentWallet())?void 0:t.id,s=bt.Ao.isMobile()?r:n,o=s?.filter((t=>i!==t.id));return null!=(e=bt.Ao.isMobile()?o?.map((({id:t,name:e,links:r})=>({id:t,name:e,mobile:r,links:r}))):o?.map((({id:t,name:e,links:r})=>({id:t,name:e,desktop:r,links:r}))))?e:[]},recentWallet:()=>Xe.getRecentWallet(),recomendedWallets(t=!1){var e;const r=t||null==(e=Jr.recentWallet())?void 0:e.id,{recomendedWallets:n}=bt.pV.state;return n.filter((t=>r!==t.id))}},Qr={onConnecting(t){Xe.goToConnectingView(t)},manualWalletsTemplate(){return Jr.manualWallets().map((t=>z`<wcm-wallet-button walletId="${t.id}" name="${t.name}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`))},recomendedWalletsTemplate(t=!1){return Jr.recomendedWallets(t).map((t=>z`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`))},recentWalletTemplate(){const t=Jr.recentWallet();if(t)return z`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${ve(t.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`}},Xr=c`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let tn=class extends ct{render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=bt.mb.state,r="ALL"!==t&&e,n=Qr.manualWalletsTemplate(),i=Qr.recomendedWalletsTemplate();let s=[Qr.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>4||r;let a=[];a=o?s.slice(0,3):s;const c=Boolean(a.length);return z`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Xe.handleUriCopy}" .actionIcon="${ze.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${ze.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${ze.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${c?z`<wcm-modal-footer><div class="wcm-desktop-title">${ze.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${a} ${o?z`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};tn.styles=[Me.globalCss,Xr],tn=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-desktop-wallet-selection")],tn);const en=c`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let rn=class extends ct{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=bt.mb.state;return t??e?z`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${t?z`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?z`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};rn.styles=[Me.globalCss,en],rn=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-legal-notice")],rn);const nn=c`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let sn=class extends ct{onQrcode(){bt.jL.push("Qrcode")}render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=bt.mb.state,r="ALL"!==t&&e,n=Qr.manualWalletsTemplate(),i=Qr.recomendedWalletsTemplate();let s=[Qr.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>8||r;let a=[];a=o?s.slice(0,7):s;const c=Boolean(a.length);return z`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${ze.QRCODE_ICON}"></wcm-modal-header>${c?z`<wcm-modal-content><div>${a} ${o?z`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};sn.styles=[Me.globalCss,nn],sn=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-mobile-wallet-selection")],sn);const on=c`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var an=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,un=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?cn(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&an(e,r,s),s};let ln=class extends ct{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=bt.D8.subscribe((t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()}))}disconnectedCallback(){var t;null==(t=this.unsubscribeModal)||t.call(this)}get overlayEl(){return Xe.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Xe.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(t){if(document.querySelector("body"))if(t){const t=document.getElementById("wcm-styles");t?.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(t){t.target===t.currentTarget&&bt.D8.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout((async()=>{const t=Xe.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]};await Promise.all([we(this.overlayEl,{opacity:[0,1]},{delay:.1,duration:.2}).finished,we(this.containerEl,t,{delay:.1,duration:.2}).finished]),this.active=!0}),0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const t=Xe.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]};await Promise.all([we(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished,we(this.containerEl,t,{duration:.2}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",(t=>{var e;"Escape"===t.key?bt.D8.close():"Tab"===t.key&&(null!=(e=t.target)&&e.tagName.includes("wcm-")||this.containerEl.focus())}),this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;null==(t=this.abortController)||t.abort(),this.abortController=void 0}render(){const t={"wcm-overlay":!0,"wcm-active":this.active};return z`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${mt(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?z`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};ln.styles=[Me.globalCss,on],un([ft()],ln.prototype,"open",2),un([ft()],ln.prototype,"active",2),ln=un([lt("wcm-modal")],ln);const hn=c`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var dn=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,pn=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?fn(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&dn(e,r,s),s};let gn=class extends ct{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){bt.Ao.isMobile()?bt.jL.replace("MobileConnecting"):bt.jL.replace("MobileQrcodeConnecting")}onDesktop(){bt.jL.replace("DesktopConnecting")}onWeb(){bt.jL.replace("WebConnecting")}render(){return z`<div>${this.isRetry?z`<slot></slot>`:null} ${this.isMobile?z`<wcm-button .onClick="${this.onMobile}" .iconLeft="${ze.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?z`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${ze.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?z`<wcm-button .onClick="${this.onWeb}" .iconLeft="${ze.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};gn.styles=[Me.globalCss,hn],pn([dt({type:Boolean})],gn.prototype,"isMobile",2),pn([dt({type:Boolean})],gn.prototype,"isDesktop",2),pn([dt({type:Boolean})],gn.prototype,"isWeb",2),pn([dt({type:Boolean})],gn.prototype,"isRetry",2),gn=pn([lt("wcm-platform-selection")],gn);const mn=c`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let yn=class extends ct{onClick(){bt.jL.push("WalletExplorer")}render(){const{recomendedWallets:t}=bt.pV.state,e=[...t,...Jr.manualWallets()].reverse().slice(0,4);return z`<button @click="${this.onClick}"><div class="wcm-icons">${e.map((t=>{const e=Xe.getWalletIcon(t);if(e)return z`<img crossorigin="anonymous" src="${e}">`;const r=Xe.getWalletIcon({id:t.id});return r?z`<img crossorigin="anonymous" src="${r}">`:ze.WALLET_PLACEHOLDER}))} ${[...Array(4-e.length)].map((()=>ze.WALLET_PLACEHOLDER))}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};yn.styles=[Me.globalCss,mn],yn=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-view-all-wallets-button")],yn);const bn=c`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var wn=Object.defineProperty,vn=Object.getOwnPropertyDescriptor,_n=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?vn(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&wn(e,r,s),s};let En=class extends ct{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout((()=>{const{walletConnectUri:t}=bt.IN.state;this.uri=t}),0)}get overlayEl(){return Xe.getShadowRootElement(this,".wcm-qr-container")}render(){return z`<div class="wcm-qr-container">${this.uri?z`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${ve(this.walletId)}" imageId="${ve(this.imageId)}"></wcm-qrcode>`:z`<wcm-spinner></wcm-spinner>`}</div>`}};En.styles=[Me.globalCss,bn],_n([dt()],En.prototype,"walletId",2),_n([dt()],En.prototype,"imageId",2),_n([ft()],En.prototype,"uri",2),En=_n([lt("wcm-walletconnect-qr")],En);Object.defineProperty,Object.getOwnPropertyDescriptor;let An=class extends ct{viewTemplate(){return bt.Ao.isAndroid()?z`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:bt.Ao.isMobile()?z`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:z`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return z`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};An.styles=[Me.globalCss],An=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-connect-wallet-view")],An);const Sn=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var xn=Object.defineProperty,kn=Object.getOwnPropertyDescriptor,In=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?kn(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&xn(e,r,s),s};let Mn=class extends ct{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(t){const{desktop:e,name:r}=bt.Ao.getWalletRouterData(),n=e?.native;if(n){const e=bt.Ao.formatNativeUrl(n,t,r);bt.Ao.openHref(e,"_self")}}openDesktopApp(){const{walletConnectUri:t}=bt.IN.state,e=bt.Ao.getWalletRouterData();Xe.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=bt.Ao.getWalletRouterData(),{isMobile:n,isWeb:i}=Xe.getCachedRouterWalletPlatforms();return z`<wcm-modal-header title="${t}" .onAction="${Xe.handleUriCopy}" .actionIcon="${ze.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${ve(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${t} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${ze.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Mn.styles=[Me.globalCss,Sn],In([ft()],Mn.prototype,"isError",2),Mn=In([lt("wcm-desktop-connecting-view")],Mn);const Cn=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Tn=class extends ct{onInstall(t){t&&bt.Ao.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,homepage:n}=bt.Ao.getWalletRouterData();return z`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${ve(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${t} to continue. If multiple browser extensions are installed, disable non ${t} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${ze.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};Tn.styles=[Me.globalCss,Cn],Tn=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-install-wallet-view")],Tn);const On=c`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var Rn=Object.defineProperty,Pn=Object.getOwnPropertyDescriptor,Nn=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?Pn(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Rn(e,r,s),s};let Bn=class extends ct{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(t,e=!1){const{mobile:r,name:n}=bt.Ao.getWalletRouterData(),i=r?.native,s=r?.universal;if(i&&!e){const e=bt.Ao.formatNativeUrl(i,t,n);bt.Ao.openHref(e,"_self")}else if(s){const e=bt.Ao.formatUniversalUrl(s,t,n);bt.Ao.openHref(e,"_self")}}openMobileApp(t=!1){const{walletConnectUri:e}=bt.IN.state,r=bt.Ao.getWalletRouterData();Xe.setRecentWallet(r),e&&this.onFormatAndRedirect(e,t)}onGoToAppStore(t){t&&bt.Ao.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,app:n,mobile:i}=bt.Ao.getWalletRouterData(),{isWeb:s}=Xe.getCachedRouterWalletPlatforms(),o=n?.ios,a=i?.universal;return z`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${ve(r)}" label="Tap 'Open' to continueâ€¦" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${ze.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?z`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${ve(r)}"></wcm-wallet-image><wcm-text>${`Get ${t}`}</wcm-text></div><wcm-button .iconRight="${ze.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Bn.styles=[Me.globalCss,On],Nn([ft()],Bn.prototype,"isError",2),Bn=Nn([lt("wcm-mobile-connecting-view")],Bn);const Ln=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;Object.defineProperty,Object.getOwnPropertyDescriptor;let Dn=class extends ct{render(){const{name:t,id:e,image_id:r}=bt.Ao.getWalletRouterData(),{isDesktop:n,isWeb:i}=Xe.getCachedRouterWalletPlatforms();return z`<wcm-modal-header title="${t}" .onAction="${Xe.handleUriCopy}" .actionIcon="${ze.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${ve(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${t} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};Dn.styles=[Me.globalCss,Ln],Dn=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-mobile-qr-connecting-view")],Dn);Object.defineProperty,Object.getOwnPropertyDescriptor;let Un=class extends ct{render(){return z`<wcm-modal-header title="Scan the code" .onAction="${Xe.handleUriCopy}" .actionIcon="${ze.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};Un.styles=[Me.globalCss],Un=((t,e)=>{for(var r,n=e,i=t.length-1;i>=0;i--)(r=t[i])&&(n=r(n)||n);return n})([lt("wcm-qrcode-view")],Un);const jn=c`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var Fn=Object.defineProperty,zn=Object.getOwnPropertyDescriptor,qn=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?zn(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Fn(e,r,s),s};let Hn=class extends ct{constructor(){super(...arguments),this.loading=!bt.pV.state.wallets.listings.length,this.firstFetch=!bt.pV.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Xe.debounce((t=>{t.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=t,bt.pV.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),bt.pV.resetSearch())}))}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;null==(t=this.intersectionObserver)||t.disconnect()}get placeholderEl(){return Xe.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver((([t])=>{t.isIntersecting&&(!this.search||!this.firstFetch)&&this.fetchWallets()})),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=bt.pV.state,{listings:r,total:n}=this.search?e:t;return n<=40||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=bt.pV.state,{listings:n,total:i,page:s}=this.search?r:e;if(!this.endReached&&(this.firstFetch||i>40&&n.length<i))try{this.loading=!0;const e=null==(t=bt.IN.state.chains)?void 0:t.join(","),{listings:r}=await bt.pV.getWallets({page:this.firstFetch?1:s+1,entries:40,search:this.search,version:2,chains:e}),n=r.map((t=>Xe.getWalletIcon(t)));await Promise.all([...n.map((async t=>Xe.preloadImage(t))),bt.Ao.wait(300)]),this.endReached=this.isLastPage()}catch(t){console.error(t),bt.dC.openToast(Xe.getErrorMessage(t),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(t){bt.Ao.isAndroid()?Xe.handleMobileLinking(t):Xe.goToConnectingView(t)}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}render(){const{wallets:t,search:e}=bt.pV.state,{listings:r}=this.search?e:t,n=this.loading&&!r.length,i=this.search.length>=3;let s=Qr.manualWalletsTemplate(),o=Qr.recomendedWalletsTemplate(!0);i&&(s=s.filter((({values:t})=>Xe.caseSafeIncludes(t[0],this.search))),o=o.filter((({values:t})=>Xe.caseSafeIncludes(t[0],this.search))));const a=!this.loading&&!r.length&&!o.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return z`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${mt(c)}"><div class="wcm-grid">${n?null:s} ${n?null:o} ${n?null:r.map((t=>z`${t?z`<wcm-wallet-button imageId="${t.image_id}" name="${t.name}" walletId="${t.id}" .onClick="${()=>this.onConnect(t)}"></wcm-wallet-button>`:null}`))}</div><div class="wcm-placeholder-block">${a?z`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?z`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Hn.styles=[Me.globalCss,jn],qn([ft()],Hn.prototype,"loading",2),qn([ft()],Hn.prototype,"firstFetch",2),qn([ft()],Hn.prototype,"search",2),qn([ft()],Hn.prototype,"endReached",2),Hn=qn([lt("wcm-wallet-explorer-view")],Hn);const Wn=c`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Vn=Object.defineProperty,$n=Object.getOwnPropertyDescriptor,Kn=(t,e,r,n)=>{for(var i,s=n>1?void 0:n?$n(e,r):e,o=t.length-1;o>=0;o--)(i=t[o])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Vn(e,r,s),s};let Gn=class extends ct{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(t){const{desktop:e,name:r}=bt.Ao.getWalletRouterData(),n=e?.universal;if(n){const e=bt.Ao.formatUniversalUrl(n,t,r);bt.Ao.openHref(e,"_blank")}}openWebWallet(){const{walletConnectUri:t}=bt.IN.state,e=bt.Ao.getWalletRouterData();Xe.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=bt.Ao.getWalletRouterData(),{isMobile:n,isDesktop:i}=Xe.getCachedRouterWalletPlatforms(),s=bt.Ao.isMobile();return z`<wcm-modal-header title="${t}" .onAction="${Xe.handleUriCopy}" .actionIcon="${ze.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${ve(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${t} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${!s&&i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${ze.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Gn.styles=[Me.globalCss,Wn],Kn([ft()],Gn.prototype,"isError",2),Gn=Kn([lt("wcm-web-connecting-view")],Gn)},9009:(t,e,r)=>{"use strict";r.d(e,{WalletConnectModal:()=>i});var n=r(4909);class i{constructor(t){this.openModal=n.D8.open,this.closeModal=n.D8.close,this.subscribeModal=n.D8.subscribe,this.setTheme=n.lH.setThemeConfig,n.lH.setThemeConfig(t),n.mb.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(r.bind(r,7091));const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),n.IN.setIsUiLoaded(!0)}}}},1635:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__addDisposableResource:()=>N,__assign:()=>s,__asyncDelegator:()=>x,__asyncGenerator:()=>S,__asyncValues:()=>k,__await:()=>A,__awaiter:()=>p,__classPrivateFieldGet:()=>O,__classPrivateFieldIn:()=>P,__classPrivateFieldSet:()=>R,__createBinding:()=>m,__decorate:()=>a,__disposeResources:()=>L,__esDecorate:()=>u,__exportStar:()=>y,__extends:()=>i,__generator:()=>g,__importDefault:()=>T,__importStar:()=>C,__makeTemplateObject:()=>I,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>w,__rest:()=>o,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>v,__spreadArray:()=>E,__spreadArrays:()=>_,__values:()=>b,default:()=>D});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e,r,n,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!e&&t?n.static?t:t.prototype:null,h=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d=!1,f=r.length-1;f>=0;f--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,r[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[u]=a)}l&&Object.defineProperty(l,n.name,h),d=!0}function l(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function h(t){return"symbol"==typeof t?t:"".concat(t)}function d(t,e,r){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(t){s(t)}}function a(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function g(t,e){var r,n,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var m=Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function y(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||m(e,t,r)}function b(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function E(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function S(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(t){return function(e){return Promise.resolve(e).then(t,u)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(t,e){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))},e&&(n[t]=e(n[t])))}function a(t,e){try{(r=i[t](e)).value instanceof A?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(t){l(s[0][3],t)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function x(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:A(t[n](e)),done:!1}:i?i(e):e}:i}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=b(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function I(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var M=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&m(e,t,r);return M(e,t),e}function T(t){return t&&t.__esModule?t:{default:t}}function O(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function R(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}function P(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function N(t,e,r){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var B="function"==typeof SuppressedError?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function L(t){function e(e){t.error=t.hasError?new B(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}var r,n=0;return function i(){for(;r=t.stack.pop();)try{if(!r.async&&1===n)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,(function(t){return e(t),i()}))}else n|=1}catch(t){e(t)}if(1===n)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}const D={__extends:i,__assign:s,__rest:o,__decorate:a,__param:c,__metadata:f,__awaiter:p,__generator:g,__createBinding:m,__exportStar:y,__values:b,__read:w,__spread:v,__spreadArrays:_,__spreadArray:E,__await:A,__asyncGenerator:S,__asyncDelegator:x,__asyncValues:k,__makeTemplateObject:I,__importStar:C,__importDefault:T,__classPrivateFieldGet:O,__classPrivateFieldSet:R,__classPrivateFieldIn:P,__addDisposableResource:N,__disposeResources:L}},6959:t=>{"use strict";t.exports={rE:"3.0.4"}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};(()=>{"use strict";var t={};__webpack_require__.r(t),__webpack_require__.d(t,{identity:()=>ue});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{base2:()=>le});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{base8:()=>he});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{base10:()=>de});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{base16:()=>fe,base16upper:()=>pe});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{base32:()=>ge,base32hex:()=>we,base32hexpad:()=>_e,base32hexpadupper:()=>Ee,base32hexupper:()=>ve,base32pad:()=>ye,base32padupper:()=>be,base32upper:()=>me,base32z:()=>Ae});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{base36:()=>Se,base36upper:()=>xe});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{base58btc:()=>ke,base58flickr:()=>Ie});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{base64:()=>Me,base64pad:()=>Ce,base64url:()=>Te,base64urlpad:()=>Oe});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{base256emoji:()=>Be});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{sha256:()=>sr,sha512:()=>or});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{identity:()=>cr});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{code:()=>lr,decode:()=>dr,encode:()=>hr,name:()=>ur});var f,p,g={};__webpack_require__.r(g),__webpack_require__.d(g,{code:()=>mr,decode:()=>br,encode:()=>yr,name:()=>gr}),function(t){t.Order="order",t.Bridge="bridge",t.SingleChainSwap="singleChainSwap",t.Ready="ready",t.NeedConnect="needConnect",t.CallData="callData",t.InputChainChanged="inputChainChanged",t.OutputChainChanged="outputChainChanged",t.InputTokenChanged="inputTokenChanged",t.OutputTokenChanged="outputTokenChanged",t.Wallet="Wallet",t.OrderValidation="orderValidation",t.ContentHeightChanged="contentHeightChanged"}(f||(f={})),function(t){t.ExternalEVMWallet="externalEVMWallet",t.ExternalSolanaWallet="externalSolanaWallet",t.Disconnect="disconnect",t.Response="response",t.Wallet="Wallet",t.ChangeInputChain="changeInputChain",t.ChangeOutputChain="changeOutputChain",t.ChangeInputToken="changeInputToken",t.ChangeOutputToken="changeOutputToken",t.SetReceiverAddress="setReceiverAddress"}(p||(p={}));var m=__webpack_require__(5606),y=(__webpack_require__(8216),__webpack_require__(8287));window.global=window,window.process=m,window.Buffer=y.Buffer;const b={production:!0,eth:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x2328Ee20fA271073328DC94e52Dd5b61aa0C91A7"},bsc:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},heco:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},arbitrum:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},polygon:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x36abc668b1C71c5cFb585Eb4457B3fBbA66bdCf5"},avalanche:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x55C93b20Dd2F790AC429D6341a022A781791654A",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},fantom:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x50188692d5549386d102642036bab916b998c814",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},linea:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x0e4AdD4DC86Ae1Aa0FA43Bd7e6a9fB8Be2d5504d",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},optimism:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x55C93b20Dd2F790AC429D6341a022A781791654A",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},base:{deBridgeGateAddress:"0xc1656B63D9EEBa6d114f6bE19565177893e5bCBF",signatureVerifier:"0x2a3e72eD893b5958690e16c3BBe1BD92137b6250",batchBalanceAddress:"0x202eF28cA6D4d2B94C4Ea0534a8E6261581c70a4",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},neon:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x2Df71B54A835648C0A0f6bc7470ee46400AaaAbe",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},gnosis:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x8244d6Ffe0695B30b2bAD424683Ee3bc534Ea464",batchBalanceAddress:"0x202eF28cA6D4d2B94C4Ea0534a8E6261581c70a4",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},metis:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x202eF28cA6D4d2B94C4Ea0534a8E6261581c70a4",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},lightLink:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x0e4AdD4DC86Ae1Aa0FA43Bd7e6a9fB8Be2d5504d",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},bitrock:{deBridgeGateAddress:"0x43dE2d77BF8027e25dBD179B491e8d64f38398aA",signatureVerifier:"0x949b3B3c098348b879C9e4F15cecc8046d9C8A8c",batchBalanceAddress:"0x0e4AdD4DC86Ae1Aa0FA43Bd7e6a9fB8Be2d5504d",preSwapAddress:"0x663dc15d3c1ac63ff12e45ab68fea3f0a883c251",subscriptionAddress:"0x0000000000000000000000000000000000000000"},inviteAddress:"0x941f514A3D30123Dd2FB1A99e7771CD8cEcCa9F4",remoteServiceBaseUrl:"https://api.debridge.finance",defaultChainId:1,supportedChains:[1,10,56,128,137,42161,43114,250,7565164,59144,8453,245022934,100,1890,1088,7171],dePortChains:[1,10,56,137,42161,43114,250,7565164,8453,245022934,100,1890,1088,7171],deSwapChains:[1,10,56,137,42161,43114,7565164,245022934,100,1890,1088,7171],pmmChains:[1,10,56,137,42161,43114,7565164,59144,8453,245022934,100,1890,1088,7171],widgetChains:[1,10,56,137,42161,43114,7565164,59144,8453,245022934,100,1890,1088,7171],widgetChainsDePort:[1,10,56,137,42161,43114,250,7565164,8453,245022934,100,1890,1088,7171],explorerOrders:[1,10,56,137,42161,43114,250,7565164,59144,8453,245022934,100,1890,1088,7171],explorerTransactions:[1,10,56,128,137,42161,43114,250,7565164,59144,8453,245022934,100,1890,1088,7171],isMainnet:!0,defaultMinDebridgeConfirmations:8,whiteListEnabled:!1,recommendExecutionFee:.001,recommendedExecutionFeeMultiplier:1.3,infuraKey:"deec1f0db8aa4960882206b0ef38e4a8",sentry:{dsn:"https://09c681dbcc9af08bca284b948fd1d21a@sentry-ui.debridge.finance/5",tracingOrigins:["https://app.debridge.finance"]},solanaProgramms:{programId:"DEbrdGj3HsRsAzx6uH4MKyREKxVAfBydijLUF3ygsFfh",settingsProgramId:"DeSetTwWhjZq6Pz9Kfdo1KoS5NqtsM6G8ERbX4SSCSft",debug:!0,cluster:"mainnet-beta",rpcUrl:"https://solana-rpc.debridge.finance/"},supportedWallets:["METAMASK","COINBASEWALLET","WALLETCONNECT","ONEINCHWALLET","GNOSIS","UNSTOPPABLEDOMAINS","Frontier","PHANTOM","Solflare","Salmon","Glow","Trust Wallet","SolflareMetamask","Fordefi","Fordefi Solana","PHANTOM EVM","Backpack","Backpack EVM","Brave Wallet","Brave","Browser Wallet EVM","Browser Wallet Solana","Trust","RABBY","Coinbase Wallet"],crossChainApi:"https://deswap.debridge.finance/v1.0",googleKey:"AIzaSyC91wuGwVwVkEdThEvppfwmKOKoyDwA4Hs",receivingForwarderAddress:"0x413dddce3d0ead2489648e482d192a7758c2b1b4",parentUrlHeaderWidget:"Parent-Url-Widget",previousUrl:"Previous-Url",enableSentry:!1,enablePermit:!0,unstoppabledomains:{clientID:"117aac0e-cbc6-4c41-a837-6ee553103f89",redirectUri:"http://localhost:4200/"},supportedNFTChains:[1,56,137,42161,43114],nftBridgeAddress:"0xD132698c56B03131c64e48732690249DD50562A1",moralisApiKey:"wHK0DRTI4dQyvwn3LxMYEeBC3eiR4NQgAHYWCgm83ltQc4te9xes98mVV8eLBu8z",affiliateCodes:[],dln:{enableContractsCache:!0,addresses:{1:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},56:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},128:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},137:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},42161:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},43114:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},250:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},59144:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},7565164:{dlnSourceAddress:"src5qyZHqTqecJV4aY6Cb6zDZLMDzrDKKezs22MPHr4",dlnDestinationAddress:"dst5MGcFPoBeREFAA5E3tU5ij8m5uVYwkzkSAbsLbNo",deBridge:"DEbrdGj3HsRsAzx6uH4MKyREKxVAfBydijLUF3ygsFfh",deBridgeSettings:"DeSetTwWhjZq6Pz9Kfdo1KoS5NqtsM6G8ERbX4SSCSft"},8453:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},10:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},245022934:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},100:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},1088:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},1890:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"},7171:{dlnSourceAddress:"0xeF4fB24aD0916217251F553c0596F8Edc630EB66",dlnDestinationAddress:"0xE7351Fd770A37282b91D153Ee690B63579D6dd7f"}}},pmmServiceBaseUrl:"https://stats-api.dln.trade",pointsServiceBaseUrl:"https://points-api-s2.debridge.finance",cacheTimeoutForPrices:1e4,ensResolverAddress:"0x3671aE578E63FdF66ad4F3E12CC0c0d71Ac7510C",checkNodeStatusDelay:6e4,disableAutoConnectWallet:!1,enableSignTerms:!0,noderealKey:"6ebc8f6453ac408f93e414f192be8db3",arweaveBaseUrl:"https://arweave-api.debridge.finance/api",inviteCode:4850,dlnBaseUrl:"https://app.dln.trade",deBridgeBaseUrl:"https://app.debridge.finance",shareLink:"https://debridge.finance",walletConnectProjectId:"95557055208ff76c831c3ffa9eaa72ab",enableWalletChangeChainEvent:!1,enableCreationLimitOrdersWithPreswap:!1,googleAnalyticsTag:"",txTracker:"https://monitoring-ui.debridge.io",solanaCallDataExecutor:"exe59FS5cojZkPJVDFDV8RnXCC7wd6yoBjsUtqH7Zai",enableSolanaBufferAmount:!0,configuration:"testing",tradingView:{sources:{dexGuru:{key:"7sC0BnqXUkh3HmmNVBUbpYrNelD9jitZ_eXeIi7ga-k",host:"https://api.dev.dex.guru",delay:1e4},birdeye:{key:"68f835271a3b4d33933a20bb20d1cae3"}}},bannerDomain:"app.debridge.finance",birdeye:{key:"68f835271a3b4d33933a20bb20d1cae3",url:"https://public-api.birdeye.so"},app:"DESWAP",targetPriorityLamports:1e6};var w,v,_;!function(t){t[t.EVM=1]="EVM",t[t.SOLANA=2]="SOLANA"}(w||(w={})),function(t){t[t.Ethereum=1]="Ethereum",t[t.BSC=56]="BSC",t[t.Heco=128]="Heco",t[t.Polygon=137]="Polygon",t[t.Arbitrum=42161]="Arbitrum",t[t.Avalanche=43114]="Avalanche",t[t.Solana=7565164]="Solana",t[t.Fantom=250]="Fantom",t[t.Linea=59144]="Linea",t[t.Optimism=10]="Optimism",t[t.Base=8453]="Base",t[t.Neon=245022934]="Neon",t[t.Gnosis=100]="Gnosis",t[t.Metis=1088]="Metis",t[t.LightLink=1890]="LightLink",t[t.Bitrock=7171]="Bitrock"}(v||(v={})),function(t){t.LOW="low",t.MEDIUM="medium",t.HIGH="high",t.CUSTOM="custom"}(_||(_={}));var E=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,A=Math.ceil,S=Math.floor,x="[BigNumber Error] ",k=x+"Number primitive has more than 15 significant digits: ",I=1e14,M=14,C=9007199254740991,T=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],O=1e7,R=1e9;function P(t){var e=0|t;return t>0||t===e?e:e-1}function N(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=M-e.length;r--;e="0"+e);s+=e}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function B(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,u=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==u,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=s.length)?c:u,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==u?0:c>u^r?1:-1}function L(t,e,r,n){if(t<e||t>r||t!==S(t))throw Error(x+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function D(t){var e=t.c.length-1;return P(t.e/M)==e&&t.c[e]%2!=0}function U(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function j(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var F=function t(e){var r,n,i,s,o,a,c,u,l,h,d=W.prototype={constructor:W,toString:null,valueOf:null},f=new W(1),p=20,g=4,m=-7,y=21,b=-1e7,w=1e7,v=!1,_=1,F=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function W(t,e){var r,s,o,a,c,u,l,h,d=this;if(!(d instanceof W))return new W(t,e);if(null==e){if(t&&!0===t._isBigNumber)return d.s=t.s,void(!t.c||t.e>w?d.c=d.e=null:t.e<b?d.c=[d.e=0]:(d.e=t.e,d.c=t.c.slice()));if((u="number"==typeof t)&&0*t==0){if(d.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,c=t;c>=10;c/=10,a++);return void(a>w?d.c=d.e=null:(d.e=a,d.c=[t]))}h=String(t)}else{if(!E.test(h=String(t)))return i(d,h,u);d.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(a=h.indexOf("."))>-1&&(h=h.replace(".","")),(c=h.search(/e/i))>0?(a<0&&(a=c),a+=+h.slice(c+1),h=h.substring(0,c)):a<0&&(a=h.length)}else{if(L(e,2,q.length,"Base"),10==e&&H)return G(d=new W(t),p+d.e+1,g);if(h=String(t),u="number"==typeof t){if(0*t!=0)return i(d,h,u,e);if(d.s=1/t<0?(h=h.slice(1),-1):1,W.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(k+t)}else d.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=q.slice(0,e),a=c=0,l=h.length;c<l;c++)if(r.indexOf(s=h.charAt(c))<0){if("."==s){if(c>a){a=l;continue}}else if(!o&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){o=!0,c=-1,a=0;continue}return i(d,String(t),u,e)}u=!1,(a=(h=n(h,e,10,d.s)).indexOf("."))>-1?h=h.replace(".",""):a=h.length}for(c=0;48===h.charCodeAt(c);c++);for(l=h.length;48===h.charCodeAt(--l););if(h=h.slice(c,++l)){if(l-=c,u&&W.DEBUG&&l>15&&(t>C||t!==S(t)))throw Error(k+d.s*t);if((a=a-c-1)>w)d.c=d.e=null;else if(a<b)d.c=[d.e=0];else{if(d.e=a,d.c=[],c=(a+1)%M,a<0&&(c+=M),c<l){for(c&&d.c.push(+h.slice(0,c)),l-=M;c<l;)d.c.push(+h.slice(c,c+=M));c=M-(h=h.slice(c)).length}else c-=l;for(;c--;h+="0");d.c.push(+h)}}else d.c=[d.e=0]}function V(t,e,r,n){var i,s,o,a,c;if(null==r?r=g:L(r,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)c=N(t.c),c=1==n||2==n&&(o<=m||o>=y)?U(c,o):j(c,o,"0");else if(s=(t=G(new W(t),e,r)).e,a=(c=N(t.c)).length,1==n||2==n&&(e<=s||s<=m)){for(;a<e;c+="0",a++);c=U(c,s)}else if(e-=o,c=j(c,s,"0"),s+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=s-a)>0)for(s+1==a&&(c+=".");e--;c+="0");return t.s<0&&i?"-"+c:c}function $(t,e){for(var r,n,i=1,s=new W(t[0]);i<t.length;i++)(!(n=new W(t[i])).s||(r=B(s,n))===e||0===r&&s.s===e)&&(s=n);return s}function K(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*M-1)>w?t.c=t.e=null:r<b?t.c=[t.e=0]:(t.e=r,t.c=e),t}function G(t,e,r,n){var i,s,o,a,c,u,l,h=t.c,d=T;if(h){t:{for(i=1,a=h[0];a>=10;a/=10,i++);if((s=e-i)<0)s+=M,o=e,c=h[u=0],l=S(c/d[i-o-1]%10);else if((u=A((s+1)/M))>=h.length){if(!n)break t;for(;h.length<=u;h.push(0));c=l=0,i=1,o=(s%=M)-M+1}else{for(c=a=h[u],i=1;a>=10;a/=10,i++);l=(o=(s%=M)-M+i)<0?0:S(c/d[i-o-1]%10)}if(n=n||e<0||null!=h[u+1]||(o<0?c:c%d[i-o-1]),n=r<4?(l||n)&&(0==r||r==(t.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(s>0?o>0?c/d[i-o]:0:h[u-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,n?(e-=t.e+1,h[0]=d[(M-e%M)%M],t.e=-e||0):h[0]=t.e=0,t;if(0==s?(h.length=u,a=1,u--):(h.length=u+1,a=d[M-s],h[u]=o>0?S(c/d[i-o]%d[o])*a:0),n)for(;;){if(0==u){for(s=1,o=h[0];o>=10;o/=10,s++);for(o=h[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(t.e++,h[0]==I&&(h[0]=1));break}if(h[u]+=a,h[u]!=I)break;h[u--]=0,a=1}for(s=h.length;0===h[--s];h.pop());}t.e>w?t.c=t.e=null:t.e<b&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=N(t.c),e=r<=m||r>=y?U(e,r):j(e,r,"0"),t.s<0?"-"+e:e)}return W.clone=t,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(x+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(L(r=t[e],0,R,e),p=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(L(r=t[e],0,8,e),g=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(L(r[0],-R,0,e),L(r[1],0,R,e),m=r[0],y=r[1]):(L(r,-R,R,e),m=-(y=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)L(r[0],-R,-1,e),L(r[1],1,R,e),b=r[0],w=r[1];else{if(L(r,-R,R,e),!r)throw Error(x+e+" cannot be zero: "+r);b=-(w=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(x+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw v=!r,Error(x+"crypto unavailable");v=r}else v=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(L(r=t[e],0,9,e),_=r),t.hasOwnProperty(e="POW_PRECISION")&&(L(r=t[e],0,R,e),F=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(x+e+" not an object: "+r);z=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(x+e+" invalid: "+r);H="0123456789"==r.slice(0,10),q=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[b,w],CRYPTO:v,MODULO_MODE:_,POW_PRECISION:F,FORMAT:z,ALPHABET:q}},W.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!W.DEBUG)return!0;var e,r,n=t.c,i=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-R&&i<=R&&i===S(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%M)<1&&(e+=M),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=I||r!==S(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(x+"Invalid BigNumber: "+t)},W.maximum=W.max=function(){return $(arguments,-1)},W.minimum=W.min=function(){return $(arguments,1)},W.random=(s=9007199254740992,o=Math.random()*s&2097151?function(){return S(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,s,a=0,c=[],u=new W(f);if(null==t?t=p:L(t,0,R),i=A(t/M),v)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(s=131072*e[a]+(e[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[a]=r[0],e[a+1]=r[1]):(c.push(s%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw v=!1,Error(x+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)(s=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(c.push(s%1e14),a+=7);a=i/7}if(!v)for(;a<i;)(s=o())<9e15&&(c[a++]=s%1e14);for(i=c[--a],t%=M,i&&t&&(s=T[M-t],c[a]=S(i/s)*s);0===c[a];c.pop(),a--);if(a<0)c=[n=0];else{for(n=-1;0===c[0];c.splice(0,1),n-=M);for(a=1,s=c[0];s>=10;s/=10,a++);a<M&&(n-=M-a)}return u.e=n,u.c=c,u}),W.sum=function(){for(var t=1,e=arguments,r=new W(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,s,o=[0],a=0,c=t.length;a<c;){for(s=o.length;s--;o[s]*=e);for(o[0]+=n.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var c,u,l,h,d,f,m,y,b=n.indexOf("."),w=p,v=g;for(b>=0&&(h=F,F=0,n=n.replace(".",""),f=(y=new W(i)).pow(n.length-b),F=h,y.c=e(j(N(f.c),f.e,"0"),10,s,t),y.e=y.c.length),l=h=(m=e(n,i,s,a?(c=q,t):(c=t,q))).length;0==m[--h];m.pop());if(!m[0])return c.charAt(0);if(b<0?--l:(f.c=m,f.e=l,f.s=o,m=(f=r(f,y,w,v,s)).c,d=f.r,l=f.e),b=m[u=l+w+1],h=s/2,d=d||u<0||null!=m[u+1],d=v<4?(null!=b||d)&&(0==v||v==(f.s<0?3:2)):b>h||b==h&&(4==v||d||6==v&&1&m[u-1]||v==(f.s<0?8:7)),u<1||!m[0])n=d?j(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,d)for(--s;++m[--u]>s;)m[u]=0,u||(++l,m=[1].concat(m));for(h=m.length;!m[--h];);for(b=0,n="";b<=h;n+=c.charAt(m[b++]));n=j(n,l,c.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,s,o,a=0,c=t.length,u=e%O,l=e/O|0;for(t=t.slice();c--;)a=((i=u*(s=t[c]%O)+(n=l*s+(o=t[c]/O|0)*u)%O*O+a)/r|0)+(n/O|0)+l*o,t[c]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,s,o,a){var c,u,l,h,d,f,p,g,m,y,b,w,v,_,E,A,x,k=n.s==i.s?1:-1,C=n.c,T=i.c;if(!(C&&C[0]&&T&&T[0]))return new W(n.s&&i.s&&(C?!T||C[0]!=T[0]:T)?C&&0==C[0]||!T?0*k:k/0:NaN);for(m=(g=new W(k)).c=[],k=s+(u=n.e-i.e)+1,a||(a=I,u=P(n.e/M)-P(i.e/M),k=k/M|0),l=0;T[l]==(C[l]||0);l++);if(T[l]>(C[l]||0)&&u--,k<0)m.push(1),h=!0;else{for(_=C.length,A=T.length,l=0,k+=2,(d=S(a/(T[0]+1)))>1&&(T=t(T,d,a),C=t(C,d,a),A=T.length,_=C.length),v=A,b=(y=C.slice(0,A)).length;b<A;y[b++]=0);x=T.slice(),x=[0].concat(x),E=T[0],T[1]>=a/2&&E++;do{if(d=0,(c=e(T,y,A,b))<0){if(w=y[0],A!=b&&(w=w*a+(y[1]||0)),(d=S(w/E))>1)for(d>=a&&(d=a-1),p=(f=t(T,d,a)).length,b=y.length;1==e(f,y,p,b);)d--,r(f,A<p?x:T,p,a),p=f.length,c=1;else 0==d&&(c=d=1),p=(f=T.slice()).length;if(p<b&&(f=[0].concat(f)),r(y,f,b,a),b=y.length,-1==c)for(;e(T,y,A,b)<1;)d++,r(y,A<b?x:T,b,a),b=y.length}else 0===c&&(d++,y=[0]);m[l++]=d,y[0]?y[b++]=C[v]||0:(y=[C[v]],b=1)}while((v++<_||null!=y[0])&&k--);h=null!=y[0],m[0]||m.splice(0,1)}if(a==I){for(l=1,k=m[0];k>=10;k/=10,l++);G(g,s+(g.e=l+u*M-1)+1,o,h)}else g.e=u,g.r=+h;return g}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,u=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,s=r?e:e.replace(h,"");if(l.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(a,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,s=s.replace(c,"$1").replace(u,"0.$1")),e!=s))return new W(s,i);if(W.DEBUG)throw Error(x+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},d.absoluteValue=d.abs=function(){var t=new W(this);return t.s<0&&(t.s=1),t},d.comparedTo=function(t,e){return B(this,new W(t,e))},d.decimalPlaces=d.dp=function(t,e){var r,n,i,s=this;if(null!=t)return L(t,0,R),null==e?e=g:L(e,0,8),G(new W(s),t+s.e+1,e);if(!(r=s.c))return null;if(n=((i=r.length-1)-P(this.e/M))*M,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},d.dividedBy=d.div=function(t,e){return r(this,new W(t,e),p,g)},d.dividedToIntegerBy=d.idiv=function(t,e){return r(this,new W(t,e),0,1)},d.exponentiatedBy=d.pow=function(t,e){var r,n,i,s,o,a,c,u,l=this;if((t=new W(t)).c&&!t.isInteger())throw Error(x+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new W(e)),o=t.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!t.c||!t.c[0])return u=new W(Math.pow(+Y(l),o?t.s*(2-D(t)):+Y(t))),e?u.mod(e):u;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new W(NaN);(n=!a&&l.isInteger()&&e.isInteger())&&(l=l.mod(e))}else{if(t.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||o&&l.c[1]>=24e7:l.c[0]<8e13||o&&l.c[0]<=9999975e7)))return s=l.s<0&&D(t)?-0:0,l.e>-1&&(s=1/s),new W(a?1/s:s);F&&(s=A(F/M+2))}for(o?(r=new W(.5),a&&(t.s=1),c=D(t)):c=(i=Math.abs(+Y(t)))%2,u=new W(f);;){if(c){if(!(u=u.times(l)).c)break;s?u.c.length>s&&(u.c.length=s):n&&(u=u.mod(e))}if(i){if(0===(i=S(i/2)))break;c=i%2}else if(G(t=t.times(r),t.e+1,1),t.e>14)c=D(t);else{if(0==(i=+Y(t)))break;c=i%2}l=l.times(l),s?l.c&&l.c.length>s&&(l.c.length=s):n&&(l=l.mod(e))}return n?u:(a&&(u=f.div(u)),e?u.mod(e):s?G(u,F,g,void 0):u)},d.integerValue=function(t){var e=new W(this);return null==t?t=g:L(t,0,8),G(e,e.e+1,t)},d.isEqualTo=d.eq=function(t,e){return 0===B(this,new W(t,e))},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(t,e){return B(this,new W(t,e))>0},d.isGreaterThanOrEqualTo=d.gte=function(t,e){return 1===(e=B(this,new W(t,e)))||0===e},d.isInteger=function(){return!!this.c&&P(this.e/M)>this.c.length-2},d.isLessThan=d.lt=function(t,e){return B(this,new W(t,e))<0},d.isLessThanOrEqualTo=d.lte=function(t,e){return-1===(e=B(this,new W(t,e)))||0===e},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&0==this.c[0]},d.minus=function(t,e){var r,n,i,s,o=this,a=o.s;if(e=(t=new W(t,e)).s,!a||!e)return new W(NaN);if(a!=e)return t.s=-e,o.plus(t);var c=o.e/M,u=t.e/M,l=o.c,h=t.c;if(!c||!u){if(!l||!h)return l?(t.s=-e,t):new W(h?o:NaN);if(!l[0]||!h[0])return h[0]?(t.s=-e,t):new W(l[0]?o:3==g?-0:0)}if(c=P(c),u=P(u),l=l.slice(),a=c-u){for((s=a<0)?(a=-a,i=l):(u=c,i=h),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(s=(a=l.length)<(e=h.length))?a:e,a=e=0;e<n;e++)if(l[e]!=h[e]){s=l[e]<h[e];break}if(s&&(i=l,l=h,h=i,t.s=-t.s),(e=(n=h.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=I-1;n>a;){if(l[--n]<h[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=I}l[n]-=h[n]}for(;0==l[0];l.splice(0,1),--u);return l[0]?K(t,l,u):(t.s=3==g?-1:1,t.c=[t.e=0],t)},d.modulo=d.mod=function(t,e){var n,i,s=this;return t=new W(t,e),!s.c||!t.s||t.c&&!t.c[0]?new W(NaN):!t.c||s.c&&!s.c[0]?new W(s):(9==_?(i=t.s,t.s=1,n=r(s,t,0,3),t.s=i,n.s*=i):n=r(s,t,0,_),(t=s.minus(n.times(t))).c[0]||1!=_||(t.s=s.s),t)},d.multipliedBy=d.times=function(t,e){var r,n,i,s,o,a,c,u,l,h,d,f,p,g,m,y=this,b=y.c,w=(t=new W(t,e)).c;if(!(b&&w&&b[0]&&w[0]))return!y.s||!t.s||b&&!b[0]&&!w||w&&!w[0]&&!b?t.c=t.e=t.s=null:(t.s*=y.s,b&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=P(y.e/M)+P(t.e/M),t.s*=y.s,(c=b.length)<(h=w.length)&&(p=b,b=w,w=p,i=c,c=h,h=i),i=c+h,p=[];i--;p.push(0));for(g=I,m=O,i=h;--i>=0;){for(r=0,d=w[i]%m,f=w[i]/m|0,s=i+(o=c);s>i;)r=((u=d*(u=b[--o]%m)+(a=f*u+(l=b[o]/m|0)*d)%m*m+p[s]+r)/g|0)+(a/m|0)+f*l,p[s--]=u%g;p[s]=r}return r?++n:p.splice(0,1),K(t,p,n)},d.negated=function(){var t=new W(this);return t.s=-t.s||null,t},d.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new W(t,e)).s,!i||!e)return new W(NaN);if(i!=e)return t.s=-e,n.minus(t);var s=n.e/M,o=t.e/M,a=n.c,c=t.c;if(!s||!o){if(!a||!c)return new W(i/0);if(!a[0]||!c[0])return c[0]?t:new W(a[0]?n:0*i)}if(s=P(s),o=P(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=c.length)<0&&(r=c,c=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+c[e]+i)/I|0,a[e]=I===a[e]?0:a[e]%I;return i&&(a=[i].concat(a),++o),K(t,a,o)},d.precision=d.sd=function(t,e){var r,n,i,s=this;if(null!=t&&t!==!!t)return L(t,1,R),null==e?e=g:L(e,0,8),G(new W(s),t,e);if(!(r=s.c))return null;if(n=(i=r.length-1)*M+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&s.e+1>n&&(n=s.e+1),n},d.shiftedBy=function(t){return L(t,-9007199254740991,C),this.times("1e"+t)},d.squareRoot=d.sqrt=function(){var t,e,n,i,s,o=this,a=o.c,c=o.s,u=o.e,l=p+4,h=new W("0.5");if(1!==c||!a||!a[0])return new W(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+Y(o)))||c==1/0?(((e=N(a)).length+u)%2==0&&(e+="0"),c=Math.sqrt(+e),u=P((u+1)/2)-(u<0||u%2),n=new W(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):n=new W(c+""),n.c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(s=n,n=h.times(s.plus(r(o,s,l,1))),N(s.c).slice(0,c)===(e=N(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(G(n,n.e+p+2,1),t=!n.times(n).eq(o));break}if(!i&&(G(s,s.e+p+2,0),s.times(s).eq(o))){n=s;break}l+=4,c+=4,i=1}return G(n,n.e+p+1,g,t)},d.toExponential=function(t,e){return null!=t&&(L(t,0,R),t++),V(this,t,e,1)},d.toFixed=function(t,e){return null!=t&&(L(t,0,R),t=t+this.e+1),V(this,t,e)},d.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=z;else if("object"!=typeof r)throw Error(x+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var s,o=n.split("."),a=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",l=o[0],h=o[1],d=i.s<0,f=d?l.slice(1):l,p=f.length;if(c&&(s=a,a=c,c=s,p-=s),a>0&&p>0){for(s=p%a||a,l=f.substr(0,s);s<p;s+=a)l+=u+f.substr(s,a);c>0&&(l+=u+f.slice(s)),d&&(l="-"+l)}n=h?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+n+(r.suffix||"")},d.toFraction=function(t){var e,n,i,s,o,a,c,u,l,h,d,p,m=this,y=m.c;if(null!=t&&(!(c=new W(t)).isInteger()&&(c.c||1!==c.s)||c.lt(f)))throw Error(x+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Y(c));if(!y)return new W(m);for(e=new W(f),l=n=new W(f),i=u=new W(f),p=N(y),o=e.e=p.length-m.e-1,e.c[0]=T[(a=o%M)<0?M+a:a],t=!t||c.comparedTo(e)>0?o>0?e:l:c,a=w,w=1/0,c=new W(p),u.c[0]=0;h=r(c,e,0,1),1!=(s=n.plus(h.times(i))).comparedTo(t);)n=i,i=s,l=u.plus(h.times(s=l)),u=s,e=c.minus(h.times(s=e)),c=s;return s=r(t.minus(n),i,0,1),u=u.plus(s.times(l)),n=n.plus(s.times(i)),u.s=l.s=m.s,d=r(l,i,o*=2,g).minus(m).abs().comparedTo(r(u,n,o,g).minus(m).abs())<1?[l,i]:[u,n],w=a,d},d.toNumber=function(){return+Y(this)},d.toPrecision=function(t,e){return null!=t&&L(t,1,R),V(this,t,e,2)},d.toString=function(t){var e,r=this,i=r.s,s=r.e;return null===s?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=s<=m||s>=y?U(N(r.c),s):j(N(r.c),s,"0"):10===t&&H?e=j(N((r=G(new W(r),p+s+1,g)).c),r.e,"0"):(L(t,2,q.length,"Base"),e=n(j(N(r.c),s,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},d.valueOf=d.toJSON=function(){return Y(this)},d._isBigNumber=!0,d[Symbol.toStringTag]="BigNumber",d[Symbol.for("nodejs.util.inspect.custom")]=d.valueOf,null!=e&&W.set(e),W}();const z=F,q=[{name:"Ethereum",type:w.EVM,chainId:v.Ethereum,disable:!1,colorForAnalytics:"#32AEF4",canDeployToken:!0,chainIdHex:"0x1",img:"/assets/images/chain/eth.svg",color:"#5065E4",isMainnet:!0,minBlockConfirmation:12,explorerName:"Etherscan",explorerTx:"https://etherscan.io/tx/",explorerAddress:"https://etherscan.io/address/",explorerToken:"https://etherscan.io/token/",weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",altToken:{chainId:v.Ethereum,address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",symbol:"USDC",decimals:6,name:"USD Coin",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png",eip2612:!0,domainVersion:"2"},oneInchAllowed:!0,supportsEIP1559:!0,canSwapToSameChain:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>t<25e9?1.3*e:t<3e10?1.2*e:t<5e10?1.1*e:e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>{const i=e.dividedBy(10);return t===_.LOW?(n=.1,r=e):t===_.MEDIUM?(n=.2,r=e.plus(i)):t===_.HIGH&&(n=.3,r=e.plus(i.multipliedBy(2))),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}},coingecko:{tokenId:"ethereum",platform:"ethereum"},networkParams:{chainId:"0x1",chainName:"Ethereum",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},rpcUrls:[],defaultGasPrice:50,defaultRpcUrl:"https://rpc.ankr.com/eth",signatureVerifier:b.eth.signatureVerifier,batchBalanceAddress:b.eth.batchBalanceAddress,deBridgeGateAddress:b.eth.deBridgeGateAddress,subscriptionAddress:b.eth.subscriptionAddress,preSwapAddress:b.eth.preSwapAddress,estimatedTime:"< 2.5 min",gasLimitsSwap:71e4,blockExplorerUrls:[]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"BNB Chain",type:w.EVM,chainId:v.BSC,canDeployToken:!0,disable:!1,chainIdHex:"0x38",colorForAnalytics:"#DC7941",img:"/assets/images/chain/bnb.svg",color:"#F3BA2F",isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"BscScan",defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.2*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>{const i=z.max(e,5);return{maxPriorityFee:n,maxFeePerGas:(t===_.HIGH?i.plus(2):t===_.MEDIUM?i.plus(1):i).toNumber()}},explorerTx:"https://bscscan.com/tx/",explorerAddress:"https://bscscan.com/address/",explorerToken:"https://bscscan.com/token/",weth:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",altToken:{chainId:v.BSC,address:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",symbol:"USDC",decimals:18,name:"USD Coin",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png"},supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"binancecoin",platform:"binance-smart-chain"},networkParams:{chainId:"0x38",chainName:"BNB Chain Mainnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18,logoURI:"/assets/images/chain/bnb.svg"},defaultGasPrice:5,rpcUrls:["https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed1.defibit.io","https://bsc-dataseed.binance.org"],defaultRpcUrl:"https://bsc-dataseed.binance.org/",signatureVerifier:b.bsc.signatureVerifier,batchBalanceAddress:b.bsc.batchBalanceAddress,deBridgeGateAddress:b.bsc.deBridgeGateAddress,subscriptionAddress:b.bsc.subscriptionAddress,preSwapAddress:b.bsc.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://bscscan.com/"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Heco",type:w.EVM,chainId:v.Heco,disable:!0,chainIdHex:"0x80",colorForAnalytics:"#4FC17D",img:"/assets/images/chain/heco.svg",canDeployToken:!0,color:"#3E4AA6",isMainnet:!0,defaultGasLimit:25e4,oneInchAllowed:!1,gasRecommendedExecutionFeeMultiplier:(t,e)=>2*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.MEDIUM?r=e.multipliedBy(2):t===_.HIGH&&(r=e.multipliedBy(3)),{maxPriorityFee:r.multipliedBy(.55).toNumber(),maxFeePerGas:r.toNumber()}),minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"HecoInfo",explorerTx:"https://hecoinfo.com/tx/",explorerAddress:"https://hecoinfo.com/address/",explorerToken:"https://hecoinfo.com/token/",weth:"0x5545153CCFcA01fbd7Dd11C0b23ba694D9509A6F",supportsEIP1559:!0,coingecko:{tokenId:"huobi-token",platform:"huobi-token"},networkParams:{chainId:"0x80",chainName:"Huobi ECO Chain Mainnet",gasLimitsSwap:25e5,nativeCurrency:{name:"HT",symbol:"HT",decimals:18,logoURI:"/assets/images/chain/heco.svg"},defaultGasPrice:3,rpcUrls:["https://http-mainnet-node.huobichain.com"],defaultRpcUrl:"https://http-mainnet-node.huobichain.com",signatureVerifier:b.heco.signatureVerifier,batchBalanceAddress:b.heco.batchBalanceAddress,deBridgeGateAddress:b.heco.deBridgeGateAddress,subscriptionAddress:b.heco.subscriptionAddress,preSwapAddress:b.heco.preSwapAddress,blockExplorerUrls:["https://hecoinfo.com"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Polygon",chainId:v.Polygon,chainIdHex:"0x89",disable:!1,canDeployToken:!0,colorForAnalytics:"#7254A5",img:"/assets/images/chain/polygon.svg",color:"#A46DFF",isMainnet:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.1)),t===_.MEDIUM?r=e.multipliedBy(1.4):t===_.HIGH&&(r=e.multipliedBy(2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),minBlockConfirmation:256,canSwapToSameChain:!0,explorerName:"Polygonscan",explorerTx:"https://polygonscan.com/tx/",explorerAddress:"https://polygonscan.com/address/",explorerToken:"https://polygonscan.com/token/",weth:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",altToken:{chainId:v.Polygon,address:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",symbol:"USDC_1",decimals:6,name:"USD Coin (PoS)",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png"},supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"matic-network",platform:"polygon-pos"},networkParams:{chainId:"0x89",chainName:"POLYGON",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18,logoURI:"/assets/images/chain/polygon.svg"},defaultGasPrice:200,rpcUrls:["https://polygon-mainnet.public.blastapi.io"],defaultRpcUrl:"https://polygon-mainnet.public.blastapi.io",signatureVerifier:b.polygon.signatureVerifier,batchBalanceAddress:b.polygon.batchBalanceAddress,deBridgeGateAddress:b.polygon.deBridgeGateAddress,subscriptionAddress:b.polygon.subscriptionAddress,preSwapAddress:b.polygon.preSwapAddress,estimatedTime:"< 13 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://polygonscan.com"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Arbitrum",chainId:v.Arbitrum,chainIdHex:"0xa4b1",disable:!1,canDeployToken:!0,img:"/assets/images/chain/arbitrum.svg",nativeTokenFromEthereum:!0,color:"#12AAFF",colorForAnalytics:"#9DCCED",isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,defaultGasLimit:14e5,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.1*e,getDeployTokenGasLimit:t=>25e5+2e5*t,getClaimGasLimit:t=>15e5+2e5*t,getGasSettings:(t,e,r,n)=>({maxPriorityFee:n,maxFeePerGas:r.toNumber()}),explorerName:"Arbiscan",explorerTx:"https://arbiscan.io/tx/",explorerAddress:"https://arbiscan.io/address/",explorerToken:"https://arbiscan.io/token/",weth:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",altToken:{address:"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8",symbol:"USDC.e",decimals:6,name:"USD Coin (Arb1)",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png",eip2612:!0,chainId:v.Arbitrum},supportsEIP1559:!0,oneInchAllowed:!0,coingecko:{tokenId:"ethereum",platform:"arbitrum-one"},networkParams:{chainId:"0xa4b1",chainName:"ARBITRUM",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/arbitrum.svg"},defaultGasPrice:.7,rpcUrls:["https://arb1.arbitrum.io/rpc"],defaultRpcUrl:"https://arb1.arbitrum.io/rpc",signatureVerifier:b.arbitrum.signatureVerifier,batchBalanceAddress:b.arbitrum.batchBalanceAddress,subscriptionAddress:b.arbitrum.subscriptionAddress,deBridgeGateAddress:b.arbitrum.deBridgeGateAddress,preSwapAddress:b.arbitrum.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:12e6,blockExplorerUrls:["https://arbiscan.io"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Avalanche",chainId:v.Avalanche,chainIdHex:"0xA86A",colorForAnalytics:"#CC2B4A",disable:!1,canDeployToken:!0,img:"/assets/images/chain/avalanche.svg",color:"#E84142",isMainnet:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.1*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.MEDIUM?r=e.multipliedBy(1.2):t===_.HIGH&&(r=e.multipliedBy(1.4)),{maxPriorityFee:r.multipliedBy(.55).toNumber(),maxFeePerGas:r.toNumber()}),minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"Snowtrace",explorerTx:"https://snowtrace.io/tx/",explorerAddress:"https://snowtrace.io/address/",explorerToken:"https://snowtrace.io/token/",weth:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",altToken:{address:"0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e",symbol:"USDC",decimals:6,name:"USD Coin",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png",chainId:v.Avalanche},supportsEIP1559:!0,oneInchAllowed:!0,coingecko:{tokenId:"avalanche-2",platform:"avalanche"},networkParams:{chainId:"0xA86A",chainName:"AVALANCHE",nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18,logoURI:"/assets/images/chain/avalanche.svg"},defaultGasPrice:100,rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],defaultRpcUrl:"https://api.avax.network/ext/bc/C/rpc",signatureVerifier:b.avalanche.signatureVerifier,batchBalanceAddress:b.avalanche.batchBalanceAddress,deBridgeGateAddress:b.avalanche.deBridgeGateAddress,subscriptionAddress:b.avalanche.subscriptionAddress,preSwapAddress:b.avalanche.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://snowtrace.io"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Solana",type:w.SOLANA,chainId:v.Solana,chainIdHex:"0x736f6c",weth:"So11111111111111111111111111111111111111112",canDeployToken:!0,disable:!1,colorForAnalytics:"#DC1FFF",img:"/assets/images/chain/solana.svg",color:"#A25AE7",isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,defaultGasLimit:0,oneInchAllowed:!1,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>0,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>({maxPriorityFee:n,maxFeePerGas:r.toNumber()}),explorerName:"Solscan",explorerTx:"https://solscan.io/tx/",explorerAddress:"https://solscan.io/address/",explorerToken:"https://solscan.io/token/",coingecko:{tokenId:"solana",platform:"solana"},networkParams:{chainId:"0x736f6c",chainName:"Solana",gasLimitsSwap:0,nativeCurrency:{name:"SOL",symbol:"SOL",decimals:9,logoURI:"/assets/images/chain/solana.svg"},rpcUrls:[],defaultRpcUrl:b.solanaProgramms.rpcUrl,estimatedTime:"< 1 min",blockExplorerUrls:[]},customTokens:[],altToken:{symbol:"USDC",name:"USD Coin",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",chainId:v.Solana},stableCoins:[],customTokensDeport:[]},{name:"Fantom",chainId:v.Fantom,type:w.EVM,chainIdHex:"0xFA",disable:!1,colorForAnalytics:"#02759B",img:"/assets/images/chain/fantom.svg",color:"#13b5ec",isMainnet:!0,canDeployToken:!0,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"FTMScan",defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.MEDIUM?r=e.isLessThan(250)?e.multipliedBy(2):e.multipliedBy(1.5):t===_.HIGH&&(r=e.isLessThan(500)?e.multipliedBy(3):e.multipliedBy(2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),explorerTx:"https://ftmscan.com/tx/",explorerAddress:"https://ftmscan.com/address/",explorerToken:"https://ftmscan.com/token/",weth:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",altToken:{address:"0x04068DA6C83AFCFA0e13ba15A6696662335D5B75",symbol:"USDC",decimals:6,name:"USD Coin",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png",chainId:v.Fantom},supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"fantom",platform:"fantom"},networkParams:{chainId:"0xFA",chainName:"Fantom Opera",gasLimitsSwap:25e5,nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18,logoURI:"/assets/images/chain/fantom.svg"},defaultGasPrice:1e3,rpcUrls:["https://rpc.ftm.tools/"],defaultRpcUrl:"https://rpc.ftm.tools/",signatureVerifier:b.fantom.signatureVerifier,batchBalanceAddress:b.fantom.batchBalanceAddress,deBridgeGateAddress:b.fantom.deBridgeGateAddress,subscriptionAddress:b.fantom.subscriptionAddress,preSwapAddress:b.fantom.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://ftmscan.com/"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Linea",chainId:v.Linea,type:w.EVM,chainIdHex:"0xe708",colorForAnalytics:"#61e9ff",disable:!1,img:"/assets/images/chain/linea.svg",color:"#64d2ff",canDeployToken:!1,isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!1,nativeTokenFromEthereum:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(_.LOW,t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),disableForTokensPrices:!0,explorerName:"LineaScan",explorerTx:"https://lineascan.build/tx/",explorerAddress:"https://lineascan.build/address/",explorerToken:"https://lineascan.build/token/",weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",altToken:{chainId:v.Linea,address:"0x176211869cA2b568f2A7D4EE941E073a821EE1ff",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png"},supportsEIP1559:!1,oneInchAllowed:!1,coingecko:{tokenId:"ethereum",platform:"linea"},networkParams:{chainId:"0xe708",chainName:"Linea",gasLimitsSwap:25e4,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},defaultGasPrice:5,rpcUrls:["https://rpc.linea.build/"],defaultRpcUrl:"https://rpc.linea.build/",signatureVerifier:b.linea.signatureVerifier,batchBalanceAddress:b.linea.batchBalanceAddress,deBridgeGateAddress:b.linea.deBridgeGateAddress,subscriptionAddress:b.linea.subscriptionAddress,preSwapAddress:b.linea.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://lineascan.build/"]},customTokens:[{chainId:v.Linea,address:"0x176211869cA2b568f2A7D4EE941E073a821EE1ff",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png"}],customTokensDeport:[{chainId:v.Linea,address:"0xe5D7C2a44FfDDf6b295A15c148167daaAf5Cf34f",name:"WETH",symbol:"WETH",decimals:18},{chainId:v.Linea,address:"0x176211869cA2b568f2A7D4EE941E073a821EE1ff",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png"}],stableCoins:["0x176211869cA2b568f2A7D4EE941E073a821EE1ff"]},{name:"Optimism",chainId:v.Optimism,type:w.EVM,chainIdHex:"0xa",colorForAnalytics:"#FF0421",disable:!1,img:"/assets/images/chain/optimism.svg",color:"#FF0420",canDeployToken:!0,isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,nativeTokenFromEthereum:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(_.LOW,t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),disableForTokensPrices:!0,explorerName:"Optimism Explorer",explorerTx:"https://optimistic.etherscan.io/tx/",explorerAddress:"https://optimistic.etherscan.io/address/",explorerToken:"https://optimistic.etherscan.io/token/",weth:"0x4200000000000000000000000000000000000006",altToken:{address:"0x7f5c764cbc14f9669b88837ca1490cca17c31607",symbol:"USDC.e",decimals:6,name:"USD Coin",logoURI:"https://tokens.1inch.io/0x7f5c764cbc14f9669b88837ca1490cca17c31607.png",chainId:v.Optimism},supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"ethereum",platform:"optimistic-ethereum"},networkParams:{chainId:"0xa",chainName:"optimism",gasLimitsSwap:25e4,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},defaultGasPrice:1,rpcUrls:["https://mainnet.optimism.io/"],defaultRpcUrl:"https://mainnet.optimism.io/",signatureVerifier:b.optimism.signatureVerifier,batchBalanceAddress:b.optimism.batchBalanceAddress,deBridgeGateAddress:b.optimism.deBridgeGateAddress,subscriptionAddress:b.optimism.subscriptionAddress,preSwapAddress:b.optimism.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://optimistic.etherscan.io/"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{name:"Base",chainId:v.Base,type:w.EVM,chainIdHex:"0x2105",colorForAnalytics:"#0052FF",disable:!1,img:"/assets/images/chain/base.svg",color:"#3F7BFC",canDeployToken:!0,isMainnet:!0,minBlockConfirmation:12,canSwapToSameChain:!0,nativeTokenFromEthereum:!0,defaultGasLimit:25e4,gasRecommendedExecutionFeeMultiplier:(t,e)=>e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(_.LOW,t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),disableForTokensPrices:!0,explorerName:"BaseScan",explorerTx:"https://basescan.org/tx/",explorerAddress:"https://basescan.org/address/",explorerToken:"https://basescan.org/token/",weth:"0x4200000000000000000000000000000000000006",altToken:{address:"0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca",symbol:"USDbC",decimals:6,name:"USD Base Coin",logoURI:"https://tokens.1inch.io/0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca.png",chainId:v.Base},supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"ethereum",platform:"base"},networkParams:{chainId:"0x2105",chainName:"base",gasLimitsSwap:25e4,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/eth.svg"},defaultGasPrice:1,rpcUrls:["https://mainnet.base.org/"],defaultRpcUrl:"https://mainnet.base.org/",signatureVerifier:b.base.signatureVerifier,batchBalanceAddress:b.base.batchBalanceAddress,deBridgeGateAddress:b.base.deBridgeGateAddress,subscriptionAddress:b.base.subscriptionAddress,preSwapAddress:b.base.preSwapAddress,estimatedTime:"< 1 min",blockExplorerUrls:["https://basescan.org/"]},customTokens:[],stableCoins:["0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca"],customTokensDeport:[]},{type:w.EVM,name:"Neon",chainId:v.Neon,chainIdHex:"0xE9AC0D6",canDeployToken:!0,colorForAnalytics:"#13CC7E",img:"/assets/images/chain/neon.svg",disable:!1,color:"#A46DFF",isMainnet:!0,defaultGasLimit:25e4,subscriptionId:100000001,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.05)),t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()}),minBlockConfirmation:32,canSwapToSameChain:!1,explorerName:"Neonscan",explorerTx:"https://neonscan.org/tx/",explorerAddress:"https://neonscan.org/address/",explorerToken:"https://neonscan.org/token/",weth:"0x202c35e517fa803b537565c40f0a6965d7204609",altToken:{address:"0xEA6B04272f9f62F997F666F07D3a974134f7FFb9",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png",chainId:v.Neon},supportsEIP1559:!1,oneInchAllowed:!0,coingecko:{tokenId:"neon",platform:"neon-evm"},networkParams:{chainId:"0xE9AC0D6",chainName:"Neon",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18,logoURI:"/assets/images/chain/neon.svg"},defaultGasPrice:200,rpcUrls:["https://neon-proxy-mainnet.solana.p2p.org"],defaultRpcUrl:"https://neon-proxy-mainnet.solana.p2p.org",signatureVerifier:b.neon.signatureVerifier,batchBalanceAddress:b.neon.batchBalanceAddress,deBridgeGateAddress:b.neon.deBridgeGateAddress,preSwapAddress:b.neon.preSwapAddress,estimatedTime:"< 13 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://neonscan.org"]},customTokens:[],stableCoins:[],customTokensDeport:[]},{type:w.EVM,name:"Gnosis",chainId:v.Gnosis,chainIdHex:"0x64",canDeployToken:!0,colorForAnalytics:"#0d8e74",img:"/assets/images/chain/gnosis.svg",color:"#0d8e74",defaultGasLimit:25e4,subscriptionId:100000002,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"Gnosisscan",explorerTx:"https://gnosisscan.io/tx/",explorerAddress:"https://gnosisscan.io/address/",explorerToken:"https://gnosisscan.io/token/",disable:!1,weth:"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",altToken:{address:"0xddafbb505ad214d7b80b1f830fccc89b60fb7a83",symbol:"USDC",decimals:6,name:"USD//C on xDai",logoURI:"https://tokens.1inch.io/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48.png",eip2612:!0,chainId:v.Gnosis},supportsEIP1559:!1,oneInchAllowed:!0,networkParams:{chainId:"0x64",chainName:"Gnosis",nativeCurrency:{name:"xDAI",symbol:"xDAI",decimals:18,logoURI:"/assets/images/chain/gnosis.svg"},defaultGasPrice:1,rpcUrls:["https://rpc.ankr.com/gnosis"],defaultRpcUrl:"https://rpc.ankr.com/gnosis",signatureVerifier:b.gnosis.signatureVerifier,batchBalanceAddress:b.gnosis.batchBalanceAddress,deBridgeGateAddress:b.gnosis.deBridgeGateAddress,preSwapAddress:b.gnosis.preSwapAddress,estimatedTime:"< 13 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://gnosisscan.io"]},customTokens:[],stableCoins:[],customTokensDeport:[],isMainnet:!0,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.05)),t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()})},{type:w.EVM,name:"LightLink",chainId:v.LightLink,chainIdHex:"0x762",canDeployToken:!0,colorForAnalytics:"#6a81ff",img:"/assets/images/chain/lightlink.svg",color:"#6a81ff",defaultGasLimit:25e4,subscriptionId:100000003,minBlockConfirmation:12,canSwapToSameChain:!1,explorerName:"LightLink Phoenix Mainnet explorer",disable:!1,explorerTx:"https://phoenix.lightlink.io/tx/",explorerAddress:"https://phoenix.lightlink.io/address/",explorerToken:"https://phoenix.lightlink.io/token/",weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",altToken:{address:"0x18fB38404DADeE1727Be4b805c5b242B5413Fa40",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png",chainId:v.LightLink},supportsEIP1559:!1,oneInchAllowed:!1,networkParams:{chainId:"0x762",chainName:"LightLink",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18,logoURI:"/assets/images/chain/lightlink.svg"},defaultGasPrice:1,rpcUrls:["https://replicator.phoenix.lightlink.io/rpc/v1"],defaultRpcUrl:"https://replicator.phoenix.lightlink.io/rpc/v1",signatureVerifier:b.lightLink.signatureVerifier,batchBalanceAddress:b.lightLink.batchBalanceAddress,deBridgeGateAddress:b.lightLink.deBridgeGateAddress,preSwapAddress:b.lightLink.preSwapAddress,estimatedTime:"< 13 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://phoenix.lightlink.io"]},customTokens:[],stableCoins:[],customTokensDeport:[],isMainnet:!0,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.05)),t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()})},{type:w.EVM,name:"Metis",chainId:v.Metis,chainIdHex:"0x440",canDeployToken:!0,disable:!1,colorForAnalytics:"#008EAF",img:"/assets/images/chain/metis.svg",color:"#00D2FF",defaultGasLimit:25e4,subscriptionId:100000004,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"Metis Explorer",explorerTx:"https://explorer.metis.io/tx/",explorerAddress:"https://explorer.metis.io/address/",explorerToken:"https://explorer.metis.io/token/",weth:"0x75cb093E4D61d2A2e65D8e0BBb01DE8d89b53481",altToken:{address:"0xEA32A96608495e54156Ae48931A7c20f0dcc1a21",name:"USDC",symbol:"USDC",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png",chainId:v.Metis},supportsEIP1559:!1,oneInchAllowed:!1,networkParams:{chainId:"0x440",chainName:"Metis",nativeCurrency:{name:"METIS",symbol:"METIS",decimals:18,logoURI:"/assets/images/chain/metis.svg"},defaultGasPrice:1,rpcUrls:["https://metis-mainnet.public.blastapi.io/"],defaultRpcUrl:"https://metis-mainnet.public.blastapi.io/",signatureVerifier:b.metis.signatureVerifier,batchBalanceAddress:b.metis.batchBalanceAddress,deBridgeGateAddress:b.metis.deBridgeGateAddress,preSwapAddress:b.metis.preSwapAddress,estimatedTime:"< 3 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://explorer.metis.io"]},customTokens:[],stableCoins:[],customTokensDeport:[],isMainnet:!0,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.05)),t===_.MEDIUM?r=e.multipliedBy(1.1):t===_.HIGH&&(r=e.multipliedBy(1.2)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()})},{type:w.EVM,name:"Bitrock",chainId:v.Bitrock,chainIdHex:"0x1c03",canDeployToken:!0,color:"#2e8e6f",disable:!1,colorForAnalytics:"#15f5ba",img:"/assets/images/chain/bitrock.svg",defaultGasLimit:25e4,subscriptionId:100000005,minBlockConfirmation:12,canSwapToSameChain:!0,explorerName:"Bitrock Explorer",explorerTx:"https://explorer.bit-rock.io/tx/",explorerAddress:"https://explorer.bit-rock.io/address/",explorerToken:"https://explorer.bit-rock.io/token/",weth:"0x413f0E3A440abA7A15137F4278121450416882d5",altToken:{address:"0xD647a6E1F898c39bA594443c19De0872EA935310",name:"USDB",symbol:"USDB",decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/29599.png",chainId:v.Bitrock},supportsEIP1559:!1,oneInchAllowed:!1,networkParams:{chainId:"0x1c03",chainName:"Bitrock",nativeCurrency:{name:"BROCK",symbol:"BROCK",decimals:18,logoURI:"/assets/images/chain/bitrock.svg"},defaultGasPrice:.01,rpcUrls:["https://connect.bit-rock.io/"],defaultRpcUrl:"https://connect.bit-rock.io/",signatureVerifier:b.bitrock.signatureVerifier,batchBalanceAddress:b.bitrock.batchBalanceAddress,deBridgeGateAddress:b.bitrock.deBridgeGateAddress,preSwapAddress:b.bitrock.preSwapAddress,estimatedTime:"< 1 min",gasLimitsSwap:5e5,blockExplorerUrls:["https://explorer.bit-rock.io/"]},customTokens:[],stableCoins:[],customTokensDeport:[],isMainnet:!0,gasRecommendedExecutionFeeMultiplier:(t,e)=>1.5*e,getDeployTokenGasLimit:t=>6e5+2e4*t,getClaimGasLimit:t=>13e4+2e4*t,getGasSettings:(t,e,r,n)=>(t===_.LOW&&(r=e.multipliedBy(1.5)),t===_.MEDIUM?r=e.multipliedBy(2):t===_.HIGH&&(r=e.multipliedBy(3)),{maxPriorityFee:n,maxFeePerGas:r.toNumber()})}];var H;!function(t){t[t.EVM=1]="EVM",t[t.SOLANA=2]="SOLANA"}(H||(H={}));class W{constructor(){this.evmNetworkIds=this.getAll().filter((t=>t.type==H.EVM)).map((t=>t.id))}isEVMChain(t){return this.evmNetworkIds.includes(t)}getAll(){return W.cache||(W.cache=q.filter((t=>b.supportedChains.includes(t.chainId))).map((t=>({img:t.img,id:t.chainId,label:t.name,currencySymbol:t.networkParams.nativeCurrency.name,networkParams:t.networkParams,chainIdHex:t.chainIdHex,type:t.type,altToken:t.altToken,coingecko:t.coingecko,explorerName:t.explorerName,explorerTx:t.explorerTx,explorerAddress:t.explorerAddress,explorerToken:t.explorerToken,oneInchAllowed:t.oneInchAllowed,estimatedTime:t.networkParams.estimatedTime,supportsEIP1559:t.supportsEIP1559,color:t.color,canSwapToSameChain:t.canSwapToSameChain,colorForAnalytics:t.colorForAnalytics,canDeployToken:t.canDeployToken,customTokens:t.customTokens||[],nativeTokenFromEthereum:!!t.nativeTokenFromEthereum,disableForTokensPrices:!!t.disableForTokensPrices}))))}getChain(t){return this.getAll().find((e=>e.id===t))}getDeSwapNetworks(){return this.getAll().filter((t=>b.deSwapChains.includes(t.id)))}getDePortNetworks(){return this.getAll().filter((t=>b.dePortChains.includes(t.id)))}getPmmNetworks(){return this.getAll().filter((t=>b.pmmChains.includes(t.id)))}getNFTNetworks(){return this.getAll().filter((t=>b.supportedNFTChains.includes(t.id)))}getWidgetNetworks(){return this.getAll().filter((t=>b.widgetChains.includes(t.id)))}getWidgetDePortNetworks(){return this.getAll().filter((t=>b.widgetChainsDePort.includes(t.id)))}getExplorerChains(){return this.getAll().filter((t=>b.explorerTransactions.includes(t.id)))}getExplorerOrdersChains(){return this.getAll().filter((t=>b.explorerOrders.includes(t.id)))}}var V=__webpack_require__(1635);function $(t){return"function"==typeof t}function K(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var G=K((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function Y(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Z=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,r,n,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=(0,V.__values)(s),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}else s.remove(this);var c=this.initialTeardown;if($(c))try{c()}catch(t){i=t instanceof G?t.errors:[t]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=(0,V.__values)(u),h=l.next();!h.done;h=l.next()){var d=h.value;try{X(d)}catch(t){i=null!=i?i:[],t instanceof G?i=(0,V.__spreadArray)((0,V.__spreadArray)([],(0,V.__read)(i)),(0,V.__read)(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new G(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)X(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Y(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&Y(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}(),J=Z.EMPTY;function Q(t){return t instanceof Z||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function X(t){$(t)?t():t.unsubscribe()}var tt=null,et=null,rt=void 0,nt=!1,it=!1,st={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=st.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,V.__spreadArray)([t,e],(0,V.__read)(r))):setTimeout.apply(void 0,(0,V.__spreadArray)([t,e],(0,V.__read)(r)))},clearTimeout:function(t){var e=st.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ot(t){st.setTimeout((function(){if(!tt)throw t;tt(t)}))}function at(){}var ct=ut("C",void 0,void 0);function ut(t,e,r){return{kind:t,value:e,error:r}}var lt=null;function ht(t){if(nt){var e=!lt;if(e&&(lt={errorThrown:!1,error:null}),t(),e){var r=lt,n=r.errorThrown,i=r.error;if(lt=null,n)throw i}}else t()}var dt=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,Q(e)&&e.add(r)):r.destination=wt,r}return(0,V.__extends)(e,t),e.create=function(t,e,r){return new mt(t,e,r)},e.prototype.next=function(t){this.isStopped?bt(function(t){return ut("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?bt(ut("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?bt(ct,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Z),ft=Function.prototype.bind;function pt(t,e){return ft.call(t,e)}var gt=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){yt(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){yt(t)}else yt(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){yt(t)}},t}(),mt=function(t){function e(e,r,n){var i,s,o=t.call(this)||this;return $(e)||!e?i={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:o&&it?((s=Object.create(e)).unsubscribe=function(){return o.unsubscribe()},i={next:e.next&&pt(e.next,s),error:e.error&&pt(e.error,s),complete:e.complete&&pt(e.complete,s)}):i=e,o.destination=new gt(i),o}return(0,V.__extends)(e,t),e}(dt);function yt(t){nt?function(t){nt&&lt&&(lt.errorThrown=!0,lt.error=t)}(t):ot(t)}function bt(t,e){var r=et;r&&st.setTimeout((function(){return r(t,e)}))}var wt={closed:!0,next:at,error:function(t){throw t},complete:at},vt="function"==typeof Symbol&&Symbol.observable||"@@observable";function _t(t){return t}var Et=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,s=(n=t)&&n instanceof dt||function(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}(n)&&Q(n)?t:new mt(t,e,r);return ht((function(){var t=i,e=t.operator,r=t.source;s.add(e?e.call(s,r):r?i._subscribe(s):i._trySubscribe(s))})),s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=At(e))((function(e,n){var i=new mt({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[vt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(r=t).length?_t:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r},t.prototype.toPromise=function(t){var e=this;return new(t=At(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function At(t){var e;return null!==(e=null!=t?t:rt)&&void 0!==e?e:Promise}var St,xt,kt=K((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),It=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,V.__extends)(e,t),e.prototype.lift=function(t){var e=new Mt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new kt},e.prototype.next=function(t){var e=this;ht((function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=(0,V.__values)(e.currentObservers),s=i.next();!s.done;s=i.next())s.value.next(t)}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},e.prototype.error=function(t){var e=this;ht((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}}))},e.prototype.complete=function(){var t=this;ht((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this,n=r.hasError,i=r.isStopped,s=r.observers;return n||i?J:(this.currentObservers=null,s.push(t),new Z((function(){e.currentObservers=null,Y(s,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,i=e.isStopped;r?t.error(n):i&&t.complete()},e.prototype.asObservable=function(){var t=new Et;return t.source=this,t},e.create=function(t,e){return new Mt(t,e)},e}(Et),Mt=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return(0,V.__extends)(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:J},e}(It);class Ct{constructor(t){this.walletId=t,this.accountChanged$=new It,this.chainChanged$=new It,this.disconnect$=new It,this.error$=new It,this.netWorkService=new W,this.provider=null}getNetworkType(){return H.EVM}get accountChanged(){return this.accountChanged$.asObservable()}get disconnected(){return this.disconnect$.asObservable()}get error(){return this.error$.asObservable()}get chainChanged(){return this.chainChanged$.asObservable()}getAccounts(){return this.handle("eth_accounts")}async getAccount(){return(await this.getAccounts()||[""])[0]}requestAccounts(){return this.handle("eth_requestAccounts")}async sendAsync(t){return new Promise((async(e,r)=>{const n=(t,n)=>{t?r(t):n.error?(console.error(n.error),r(n.error)):e(n?.result||n)},i=this.provider.provider?.provider||this.provider.provider||this.provider;i.getUncheckedSigner?i.send(t.method,t.params).then((t=>e(t))).catch((t=>r(t))):i.sendAsync?i.sendAsync(t,n):i.send(t,n).catch((n=>{if("Hardhat Network doesn't support JSON-RPC params sent as an object"!==n.message)throw n;i.send(t.method,t.params).then((t=>e(t))).catch((t=>r(t)))}))}))}handle(t,e){return this.provider.request({method:t,params:e})}request(t,e){return this.handle(t,e)}setProvider(t){this.provider=t,this.provider&&"function"==typeof t.on&&(t.on("accountsChanged",(t=>{this.accountChanged$.next(t)})),t.on("disconnect",(()=>{this.disconnect$.next()})),t.on("chainChanged",(t=>{this.chainChanged$.next(t)})))}}!function(t){t.Metamask="METAMASK",t.WalletConnect="WALLETCONNECT",t.Coinbase="COINBASEWALLET",t.Phantom="PHANTOM",t.Coin98="COIN98",t.Xdefi="XDEFI",t.OneInch="ONEINCHWALLET",t.Rabby="RABBY",t.Avalanche="AVALANCHE",t.GNOSIS="GNOSIS",t.UNSTOPPABLEDOMAINS="UNSTOPPABLEDOMAINS",t.TrustWallet="Trust Wallet",t.ExternalEvmWallet="External Evm Wallet",t.ExternalSolanaWallet="External Solana Wallet",t.SolflareMetamask="SolflareMetamask",t.FordefiSolana="Fordefi Solana",t.PhantomEVM="PHANTOM EVM",t.BackpackEVM="Backpack EVM",t.BackpackSolana="Backpack",t.BrowserWalletEVM="Browser Wallet EVM",t.BrowserWalletSolana="Browser Wallet Solana",t.BraveSolana="Brave",t.Solflare="Solflare"}(St||(St={})),function(t){t.CONNECT_ERROR="CONNECT_ERROR",t.NEED_CONNECT="NEED_CONNECT",t.WALLET_NOT_FOUND="WALLET_NOT_FOUND",t.WALLET_NOT_UNSWERED="WALLET_NOT_UNSWERED",t.WALLET_ALREAY_PROCESSING="WALLET_ALREAY_PROCESSING",t.NOT_SUPPORT_CHAIN="NOT_SUPPORT_CHAIN",t.NEED_CONFIRM_PREVIOUS_REQUEST="NEED_CONFIRM_PREVIOUS_REQUEST",t.USER_REJECTED="USER_REJECTED",t.NOT_FOUND_CONTRACT="NOT_FOUND_CONTRACT",t.TOKEN_NOT_FOUND="TOKEN_NOT_FOUND",t.TIMEOUT="TIMEOUT",t.TRANSACTION_EXPIRED="TRANSACTION_EXPIRED",t.CANT_CHANGE_CHAIN="CANT_CHANGE_CHAIN",t.UNKNOWN_CHAIN="UNKNOWN_CHAIN",t.RPC_NODE_UNSYNC="RPC_NODE_UNSYNC",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.TRANSACTION_WAS_NOT_MINED_50_BLOCKS="TRANSACTION_WAS_NOT_MINED_50_BLOCKS",t.SIGNATURES_NOT_SAVE="SIGNATURES_NOT_SAVE",t.CREATE_ORDER_INVALID_QUERY_PARAMETERS="INVALID_QUERY_PARAMETERS",t.CREATE_ORDER_SOURCE_AND_DESTINATION_CHAINS_ARE_EQUAL="SOURCE_AND_DESTINATION_CHAINS_ARE_EQUAL",t.IMPOSSIBLE_ROUTE="IMPOSSIBLE_ROUTE",t.CREATE_ORDER_INCLUDED_GAS_FEE_NOT_COVERED_BY_INPUT_AMOUNT="INCLUDED_GAS_FEE_NOT_COVERED_BY_INPUT_AMOUNT",t.CREATE_ORDER_INCLUDED_GAS_FEE_CANNOT_BE_ESTIMATED_FOR_TRANSACTION_BUNDLE="INCLUDED_GAS_FEE_CANNOT_BE_ESTIMATED_FOR_TRANSACTION_BUNDLE",t.CREATE_ORDER_CONNECTOR_1INCH_RETURNED_ERROR="CONNECTOR_1INCH_RETURNED_ERROR",t.CREATE_ORDER_INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",t.CREATE_ORDER_INTERNAL_SDK_ERROR="INTERNAL_SDK_ERROR",t.CREATE_ORDER_ERROR_LOW_GIVE_AMOUNT="ERROR_LOW_GIVE_AMOUNT",t.CREATE_ORDER_AFFILIATE_FEE_RECIPIENT_NOT_SET="CREATE_ORDER_AFFILIATE_FEE_RECIPIENT_NOT_SET",t.CREATE_ORDER_AFFILIATE_FEE_PERCENT_NOT_SET="CREATE_ORDER_AFFILIATE_FEE_PERCENT_NOT_SET",t.CREATE_ORDER_ESTIMATION_FAILED="CREATE_ORDER_ESTIMATION_FAILED",t.CREATE_ORDER_SENDER_ADDRESS_EMPTY="CREATE_ORDER_SENDER_ADDRESS_EMPTY",t.CREATE_ORDER_UNSUPPORTED_TOKEN_IN="CREATE_ORDER_UNSUPPORTED_TOKEN_IN",t.CREATE_ORDER_UNSUPPORTED_TOKEN_OUT="CREATE_ORDER_UNSUPPORTED_TOKEN_OUT",t.CREATE_ORDER_UNABLE_TO_ESTIMATE_ORDER_FULFILLMENT="UNABLE_TO_ESTIMATE_ORDER_FULFILLMENT",t.CREATE_ORDER_HUGE_AMOUNT="HUGE_AMOUNT",t.EXTERNAL_CALL_ERROR="EXTERNAL_CALL_ERROR",t.NEED_UPDATE_WALLET="NEED_UPDATE_WALLET",t.NO_SUBMISSION_INFO="NO_SUBMISSION_INFO",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.GET_CREATE_ORDER_TX_ERROR="GET_CREATE_ORDER_TX_ERROR",t.ERROR_NETWORK_CONFIG="ERROR_NETWORK_CONFIG",t.ORDER_IS_NOT_PROFITABLE="ORDER_IS_NOT_PROFITABLE",t.WRONG_ACCOUNT="WRONG_ACCOUNT",t.WRONG_NETWORK="WRONG_NETWORK",t.SOLANA_TX_NOT_FINALIZED="SOLANA_TX_NOT_FINALIZED",t.UNEXPECTED_GIVE_STATUS="UNEXPECTED_GIVE_STATUS",t.TRANSACTION_FAILED="TRANSACTION_FAILED",t.EXCALLDATA_EXECUTED="EXCALLDATA_EXECUTED",t.EXCALLDATA_CANT_EXECUTE_NOW="EXCALLDATA_CANT_EXECUTE_NOW",t.ERROR_GET_PRICE="ERROR_GET_PRICE",t.TRANSFER_AMOUNT_EXCEEDS_BALANCE="TRANSFER_AMOUNT_EXCEEDS_BALANCE",t.TRANSFER_AMOUNT_EXCEEDS_ALLOWANCE="TRANSFER_AMOUNT_EXCEEDS_ALLOWANCE",t.WALLET_RPC_NODE_ERROR="WALLET_RPC_NODE_ERROR",t.NOT_ENOUGH_BALANCE="NOT_ENOUGH_BALANCE",t.ERROR_GET_MAX_BALANCE="ERROR_GET_MAX_BALANCE",t.SLIPPAGE_TOLERANCE_EXCEEDED="SLIPPAGE_TOLERANCE_EXCEEDED",t.MAX_TARGET_PRIORITY_LAMPORTS="MAX_TARGET_PRIORITY_LAMPORTS",t.TRANSACTION_REVERTED="TRANSACTION_REVERTED",t.SOLANA_IS_CONGESTED="SOLANA_IS_CONGESTED",t.SIMULATION_TX_ERROR="SIMULATION_TX_ERROR",t.ROUTING_ERROR="ROUTING_ERROR",t.ROUTING_ERROR_FROM_USDC="ROUTING_ERROR_FROM_USDC",t.NEED_APPROVE="NEED_APPROVE",t.TRANSFER_TO_CONTRACT="TRANSFER_TO_CONTRACT",t.TERMS_SIGN_ERROR="TERMS_SIGN_ERROR",t.APPROVE_ERROR="APPROVE_ERROR",t.ORDER_VALIATION_ERROR="ORDER_VALIATION_ERROR"}(xt||(xt={}));class Tt extends Error{constructor(t,e){super(t),this.type=t,this.params=e}toString(){return this.type}get error(){return this}get message(){return this.toString()}}class Ot extends Ct{constructor(t){super(St.ExternalEvmWallet),this.setProvider(t)}async connect(t){try{console.log("ExternalEvmWalletService::connect connect to wallet from widget"),await this.getAccount()}catch(t){throw new Tt(xt.CONNECT_ERROR)}}async disconnect(){console.log("ExternalEvmWalletService::disconnect disconnect wallet from widget")}}var Rt=function(t){function e(e,r,n,i,s,o){var a=t.call(this,e)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return(0,V.__extends)(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(dt),Pt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Nt(t){return new Et((function(e){(function(t,e){var r,n,i,s;return(0,V.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,V.__generator)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=(0,V.__asyncValues)(t),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function Bt(t){return e=function(e,r){(function(t){if(t instanceof Et)return t;if(null!=t){if(function(t){return $(t[vt])}(t))return s=t,new Et((function(t){var e=s[vt]();if($(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((e=t)&&"number"==typeof e.length&&"function"!=typeof e)return function(t){return new Et((function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()}))}(t);if($(null==(i=t)?void 0:i.then))return n=t,new Et((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ot)}));if(function(t){return Symbol.asyncIterator&&$(null==t?void 0:t[Symbol.asyncIterator])}(t))return Nt(t);if(function(t){return $(null==t?void 0:t[Pt])}(t))return r=t,new Et((function(t){var e,n;try{for(var i=(0,V.__values)(r),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.complete()}));if(function(t){return $(null==t?void 0:t.getReader)}(t))return Nt(function(t){return(0,V.__asyncGenerator)(this,arguments,(function(){var e,r,n;return(0,V.__generator)(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,V.__await)(e.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,(0,V.__await)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,V.__await)(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}(t))}var e,r,n,i,s;throw function(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(t)})(t).subscribe(new Rt(r,(function(){return r.complete()}),at,void 0,void 0)),!r.closed&&e.subscribe(r)},function(t){if(function(t){return $(null==t?void 0:t.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")};var e}var Lt=__webpack_require__(9229),Dt=__webpack_require__(1975),Ut=__webpack_require__.n(Dt);class jt extends Ct{constructor(){super(St.Coinbase),this.coinbaseWallet=new Lt.Ay({appName:"deBridge Finance"})}async connect(t){console.log("CoinbaseWalletService::connect connect to wallet from widget");let e=null;try{const t=await this.detectEthereumProvider(500,2);e=this.findProvider(t)}catch(t){}if(!e?.isCoinbaseWallet)try{e=this.coinbaseWallet?.walletExtension;const t=this.coinbaseWallet.makeWeb3Provider(this.netWorkService.getChain(v.Ethereum).networkParams.defaultRpcUrl);await t.enable(),e||(e=t)}catch(t){throw new Tt(xt.CONNECT_ERROR,{walletId:this.walletId})}try{if(!e)throw new Tt(xt.CONNECT_ERROR,{walletId:this.walletId});this.setProvider(e),await e.enable()}catch(t){throw new Tt(xt.CONNECT_ERROR,{walletId:this.walletId})}}async disconnect(){if(this.provider?.disconnect)try{await this.provider.disconnect()}catch(t){console.error("CoinbaseWalletService::disconnect",t)}this.setProvider(null)}async detectEthereumProvider(t,e){if(e<=0)return null;do{const e=await Ut()({timeout:t});if(e)return e}while(--e);return null}findProvider(t){const e=t?.providers||[t];return e.length>1?e.find((t=>t.isCoinbaseWallet)):t}}const Ft=4001;BigInt("18446744073709551615"),v.Arbitrum,v.Avalanche,v.Base,v.BSC,v.Ethereum,v.Linea,v.Optimism,v.Polygon,v.Solana,v.Neon,v.Metis,v.Gnosis,v.LightLink;class zt extends Ct{constructor(){super(St.Metamask)}async disconnect(){if(this.provider?.disconnect)try{await this.provider.disconnect()}catch(t){console.error("MetamaskWalletService::disconnect",t)}this.setProvider(null)}async connect(t){console.log("MetamaskWalletService::connect connect to wallet from widget");let e=await this.detectEthereumProvider(500,2);if(e||(e=window?.web3?.currentProvider),!e)throw new Tt(xt.CONNECT_ERROR,{walletId:this.walletId});const r=this.findProvider(e);if(!r)throw new Tt(xt.CONNECT_ERROR,{walletId:this.walletId});return this.setProvider(r),new Promise((async(e,r)=>{try{const n=setTimeout((()=>{e()}),5e3),i=await this.getAccount();if(clearTimeout(n),!i)try{!t&&await this.requestAccounts()}catch(t){t.code===Ft?r(new Tt(xt.USER_REJECTED)):-32002===t.code&&r(new Tt(xt.WALLET_ALREAY_PROCESSING))}console.log("MetamaskWalletService::connect resolve"),e()}catch(t){-32002===t.code?r(new Tt(xt.WALLET_ALREAY_PROCESSING)):r(t)}}))}async detectEthereumProvider(t,e){if(e<=0)return null;do{const e=await Ut()({timeout:t});if(e)return e}while(--e);return null}findProvider(t){return(t?.providers||[t]).find((t=>t?.isMetaMask))||t}}var qt=__webpack_require__(7007),Ht=__webpack_require__.n(qt),Wt=__webpack_require__(8900),Vt=(__webpack_require__(8979),__webpack_require__(1510),__webpack_require__(6663)),$t=__webpack_require__(1612),Kt=__webpack_require__(6804),Gt=__webpack_require__(7052),Yt=__webpack_require__(204),Zt=__webpack_require__(774);function Jt(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Qt(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=Jt(e);let n=0;for(const e of t)r.set(e,n),n+=e.length;return r}const Xt=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===c;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var l=r[t.charCodeAt(e)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*o[d]>>>0,o[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*l+1>>>0,u=new Uint8Array(o);i!==s;){for(var h=e[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===u[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}},te=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class ee{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class re{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return ie(this,t)}}class ne{constructor(t){this.decoders=t}or(t){return ie(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ie=(t,e)=>new ne({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class se{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new ee(t,e,r),this.decoder=new re(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const oe=({name:t,prefix:e,encode:r,decode:n})=>new se(t,e,r,n),ae=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Xt(r,e);return oe({prefix:t,name:e,encode:n,decode:t=>te(i(t))})},ce=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>oe({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let e=0;e<s;++e){const s=i[t[e]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,r,t)}),ue=oe({prefix:"\0",name:"identity",encode:t=>{return e=t,(new TextDecoder).decode(e);var e},decode:t=>(t=>(new TextEncoder).encode(t))(t)}),le=ce({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),he=ce({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),de=ae({prefix:"9",name:"base10",alphabet:"0123456789"}),fe=ce({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pe=ce({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ge=ce({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),me=ce({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ye=ce({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),be=ce({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),we=ce({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ve=ce({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_e=ce({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ee=ce({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ae=ce({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Se=ae({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),xe=ae({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ke=ae({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ie=ae({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Me=ce({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ce=ce({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Te=ce({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Oe=ce({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Re=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),Pe=Re.reduce(((t,e,r)=>(t[r]=e,t)),[]),Ne=Re.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]),Be=oe({prefix:"ðŸš€",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+Pe[e]),"")},decode:function(t){const e=[];for(const r of t){const t=Ne[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var Le=128,De=-128,Ue=Math.pow(2,31),je=128,Fe=127,ze=Math.pow(2,7),qe=Math.pow(2,14),He=Math.pow(2,21),We=Math.pow(2,28),Ve=Math.pow(2,35),$e=Math.pow(2,42),Ke=Math.pow(2,49),Ge=Math.pow(2,56),Ye=Math.pow(2,63),Ze={encode:function t(e,r,n){r=r||[];for(var i=n=n||0;e>=Ue;)r[n++]=255&e|Le,e/=128;for(;e&De;)r[n++]=255&e|Le,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},decode:function t(e,r){var n,i=0,s=(r=r||0,0),o=r,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[o++],i+=s<28?(n&Fe)<<s:(n&Fe)*Math.pow(2,s),s+=7}while(n>=je);return t.bytes=o-r,i},encodingLength:function(t){return t<ze?1:t<qe?2:t<He?3:t<We?4:t<Ve?5:t<$e?6:t<Ke?7:t<Ge?8:t<Ye?9:10}};const Je=Ze,Qe=(t,e,r=0)=>(Je.encode(t,e,r),e),Xe=t=>Je.encodingLength(t),tr=(t,e)=>{const r=e.byteLength,n=Xe(t),i=n+Xe(r),s=new Uint8Array(i+r);return Qe(t,s,0),Qe(r,s,n),s.set(e,i),new er(t,r,e,s)};class er{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const rr=({name:t,code:e,encode:r})=>new nr(t,e,r);class nr{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?tr(this.code,e):e.then((t=>tr(this.code,t)))}throw Error("Unknown type, must be binary type")}}const ir=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sr=rr({name:"sha2-256",code:18,encode:ir("SHA-256")}),or=rr({name:"sha2-512",code:19,encode:ir("SHA-512")}),ar=te,cr={code:0,name:"identity",encode:ar,digest:t=>tr(0,ar(t))},ur="raw",lr=85,hr=t=>te(t),dr=t=>te(t),fr=new TextEncoder,pr=new TextDecoder,gr="json",mr=512,yr=t=>fr.encode(JSON.stringify(t)),br=t=>JSON.parse(pr.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const wr={...t,...e,...r,...n,...i,...s,...o,...a,...c,...u};function vr(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const _r=vr("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),Er=vr("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=Jt((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),Ar={utf8:_r,"utf-8":_r,hex:wr.base16,latin1:Er,ascii:Er,binary:Er,...wr};function Sr(t,e="utf8"){const r=Ar[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}function xr(t,e="utf8"){const r=Ar[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}function kr(t,e=[]){const r=[];return Object.keys(t).forEach((n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)})),r}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Ir,Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{};Ir={exports:{}},function(){var t="input is invalid type",e="object"==typeof window,r=e?window:{};r.JS_SHA3_NO_WINDOW&&(e=!1);var n=!e&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=Mr:n&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&Ir.exports,s=!r.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",o="0123456789abcdef".split(""),a=[4,1024,262144,67108864],c=[0,8,16,24],u=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],l=[224,256,384,512],h=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],f={128:168,256:136};(r.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),s&&(r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var p=function(t,e,r){return function(n){return new C(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new C(t,e,i).update(n)[r]()}},m=function(t,e,r){return function(e,n,i,s){return _["cshake"+t].update(e,n,i,s)[r]()}},y=function(t,e,r){return function(e,n,i,s){return _["kmac"+t].update(e,n,i,s)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var s=d[i];t[s]=e(r,n,s)}return t},w=function(t,e){var r=p(t,e,"hex");return r.create=function(){return new C(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,p,t,e)},v=[{name:"keccak",padding:[1,256,65536,16777216],bits:l,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:l,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new C(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:a,bits:h,createMethod:function(t,e){var r=f[t],n=m(t,0,"hex");return n.create=function(n,i,s){return i||s?new C(t,e,n).bytepad([i,s],r):_["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,m,t,e)}},{name:"kmac",padding:a,bits:h,createMethod:function(t,e){var r=f[t],n=y(t,0,"hex");return n.create=function(n,i,s){return new T(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],_={},E=[],A=0;A<v.length;++A)for(var S=v[A],x=S.bits,k=0;k<x.length;++k){var I=S.name+"_"+x[k];if(E.push(I),_[I]=S.createMethod(x[k],S.padding),"sha3"!==S.name){var M=S.name+x[k];E.push(M),_[M]=_[I]}}function C(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function T(t,e,r){C.call(this,t,e,r)}C.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,a=this.blocks,u=this.byteCount,l=e.length,h=this.blockCount,d=0,f=this.s;d<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;d<l&&i<u;++d)a[i>>2]|=e[d]<<c[3&i++];else for(i=this.start;d<l&&i<u;++d)(o=e.charCodeAt(d))<128?a[i>>2]|=o<<c[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<c[3&i++],a[i>>2]|=(128|63&o)<<c[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<c[3&i++],a[i>>2]|=(128|o>>6&63)<<c[3&i++],a[i>>2]|=(128|63&o)<<c[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++d)),a[i>>2]|=(240|o>>18)<<c[3&i++],a[i>>2]|=(128|o>>12&63)<<c[3&i++],a[i>>2]|=(128|o>>6&63)<<c[3&i++],a[i>>2]|=(128|63&o)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=a[h],i=0;i<h;++i)f[i]^=a[i];O(f),this.reset=!0}else this.start=i}return this},C.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},C.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,o=e.length;if(r)i=o;else for(var a=0;a<e.length;++a){var c=e.charCodeAt(a);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&e.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(e),i},C.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];O(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,a=0,c="";a<n;){for(s=0;s<e&&a<n;++s,++a)t=r[s],c+=o[t>>4&15]+o[15&t]+o[t>>12&15]+o[t>>8&15]+o[t>>20&15]+o[t>>16&15]+o[t>>28&15]+o[t>>24&15];a%e==0&&(O(r),s=0)}return i&&(t=r[s],c+=o[t>>4&15]+o[15&t],i>1&&(c+=o[t>>12&15]+o[t>>8&15]),i>2&&(c+=o[t>>20&15]+o[t>>16&15])),c},C.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)c[o]=r[s];o%e==0&&O(r)}return i&&(c[s]=r[s],t=t.slice(0,a)),t},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,c=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],c[t]=255&e,c[t+1]=e>>8&255,c[t+2]=e>>16&255,c[t+3]=e>>24&255;a%r==0&&O(n)}return s&&(t=a<<2,e=n[o],c[t]=255&e,s>1&&(c[t+1]=e>>8&255),s>2&&(c[t+2]=e>>16&255)),c},T.prototype=new C,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var O=function(t){var e,r,n,i,s,o,a,c,l,h,d,f,p,g,m,y,b,w,v,_,E,A,S,x,k,I,M,C,T,O,R,P,N,B,L,D,U,j,F,z,q,H,W,V,$,K,G,Y,Z,J,Q,X,tt,et,rt,nt,it,st,ot,at,ct,ut,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],d=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|l>>>31),r=s^(l<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(h<<1|d>>>31),r=a^(d<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(f<<1|p>>>31),r=l^(p<<1|f>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=d^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],K=t[11]<<4|t[10]>>>28,G=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ct=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,W=t[41]<<18|t[40]>>>14,B=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,R=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,v=t[24]<<11|t[25]>>>21,J=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,x=t[6]<<28|t[7]>>>4,k=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,j=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,X=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,$=t[9]<<27|t[8]>>>5,I=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,A=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=g^~y&w,t[1]=m^~b&v,t[10]=x^~I&C,t[11]=k^~M&T,t[20]=B^~D&j,t[21]=L^~U&F,t[30]=V^~K&Y,t[31]=$^~G&Z,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~w&_,t[3]=b^~v&E,t[12]=I^~C&O,t[13]=M^~T&R,t[22]=D^~j&z,t[23]=U^~F&q,t[32]=K^~Y&J,t[33]=G^~Z&Q,t[42]=nt^~st&at,t[43]=it^~ot&ct,t[4]=w^~_&A,t[5]=v^~E&S,t[14]=C^~O&P,t[15]=T^~R&N,t[24]=j^~z&H,t[25]=F^~q&W,t[34]=Y^~J&X,t[35]=Z^~Q&tt,t[44]=st^~at&ut,t[45]=ot^~ct&lt,t[6]=_^~A&g,t[7]=E^~S&m,t[16]=O^~P&x,t[17]=R^~N&k,t[26]=z^~H&B,t[27]=q^~W&L,t[36]=J^~X&V,t[37]=Q^~tt&$,t[46]=at^~ut&et,t[47]=ct^~lt&rt,t[8]=A^~g&y,t[9]=S^~m&b,t[18]=P^~x&I,t[19]=N^~k&M,t[28]=H^~B&D,t[29]=W^~L&U,t[38]=X^~V&K,t[39]=tt^~$&G,t[48]=ut^~et&nt,t[49]=lt^~rt&it,t[0]^=u[n],t[1]^=u[n+1]};if(i)Ir.exports=_;else for(A=0;A<E.length;++A)r[E[A]]=_[E[A]]}();let Cr=!1,Tr=!1;const Or={debug:1,default:2,info:2,warning:3,error:4,off:5};let Rr=Or.default,Pr=null;const Nr=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Br,Lr;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Br||(Br={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Lr||(Lr={}));const Dr="0123456789abcdef";class Ur{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Or[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(Rr>Or[r])&&console.log.apply(console,e)}debug(...t){this._log(Ur.levels.DEBUG,t)}info(...t){this._log(Ur.levels.INFO,t)}warn(...t){this._log(Ur.levels.WARNING,t)}makeError(t,e,r){if(Tr)return this.makeError("censored error",e,{});e||(e=Ur.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Dr[e[t]>>4],r+=Dr[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch{n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case Lr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Lr.CALL_EXCEPTION:case Lr.INSUFFICIENT_FUNDS:case Lr.MISSING_NEW:case Lr.NONCE_EXPIRED:case Lr.REPLACEMENT_UNDERPRICED:case Lr.TRANSACTION_REPLACED:case Lr.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Ur.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Nr&&this.throwError("platform missing String.prototype.normalize",Ur.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Nr})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ur.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ur.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ur.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ur.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",Ur.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ur.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",Ur.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Pr||(Pr=new Ur("logger/5.7.0")),Pr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ur.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cr){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ur.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Tr=!!t,Cr=!!e}static setLogLevel(t){const e=Or[t.toLowerCase()];null!=e?Rr=e:Ur.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ur(t)}}Ur.errors=Lr,Ur.levels=Br;const jr=new Ur("bytes/5.7.0");function Fr(t){return!!t.toHexString}function zr(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return zr(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function qr(t){return"number"==typeof t&&t==t&&t%1==0}function Hr(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!qr(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!qr(r)||r<0||r>=256)return!1}return!0}function Wr(t,e){if(e||(e={}),"number"==typeof t){jr.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),zr(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Fr(t)&&(t=t.toHexString()),Vr(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":jr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return zr(new Uint8Array(n))}return Hr(t)?zr(new Uint8Array(t)):jr.throwArgumentError("invalid arrayify value","value",t)}function Vr(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const $r="0123456789abcdef";function Kr(t,e){if(e||(e={}),"number"==typeof t){jr.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=$r[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Fr(t))return t.toHexString();if(Vr(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":jr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Hr(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=$r[(240&n)>>4]+$r[15&n]}return e}return jr.throwArgumentError("invalid hexlify value","value",t)}function Gr(t,e){for("string"!=typeof t?t=Kr(t):Vr(t)||jr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&jr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Yr={exports:{}},Zr=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:Zr.Buffer}catch{}function o(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function c(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],l=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(l).toString(t);n=(p=p.idivn(l)).isZero()?g+n:h[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,c=r.words,u=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,b=m>>>13,w=0|o[3],v=8191&w,_=w>>>13,E=0|o[4],A=8191&E,S=E>>>13,x=0|o[5],k=8191&x,I=x>>>13,M=0|o[6],C=8191&M,T=M>>>13,O=0|o[7],R=8191&O,P=O>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],z=8191&F,q=F>>>13,H=0|a[1],W=8191&H,V=H>>>13,$=0|a[2],K=8191&$,G=$>>>13,Y=0|a[3],Z=8191&Y,J=Y>>>13,Q=0|a[4],X=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,gt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,z)|0))<<13)|0;u=((s=Math.imul(d,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,q))+Math.imul(g,z)|0,s=Math.imul(g,q);var yt=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,q))+Math.imul(b,z)|0,s=Math.imul(b,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,V)|0;var bt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,q))+Math.imul(_,z)|0,s=Math.imul(_,q),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,G)|0;var wt=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,z),i=(i=Math.imul(A,q))+Math.imul(S,z)|0,s=Math.imul(S,q),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,V)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,q))+Math.imul(I,z)|0,s=Math.imul(I,q),n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,q))+Math.imul(T,z)|0,s=Math.imul(T,q),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,V)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,G)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,q))+Math.imul(P,z)|0,s=Math.imul(P,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,V)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var At=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,q))+Math.imul(L,z)|0,s=Math.imul(L,q),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(P,W)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(T,K)|0,s=s+Math.imul(T,G)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,q))+Math.imul(j,z)|0,s=Math.imul(j,q),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(L,W)|0,s=s+Math.imul(L,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,G)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,J)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(v,st)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ct)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,dt)|0;var xt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,gt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,V))+Math.imul(j,W)|0,s=Math.imul(j,V),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(L,K)|0,s=s+Math.imul(L,G)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,dt)|0;var kt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,G))+Math.imul(j,K)|0,s=Math.imul(j,G),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Z)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,J))+Math.imul(j,Z)|0,s=Math.imul(j,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,s=s+Math.imul(P,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(I,ct)|0,s=s+Math.imul(I,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Mt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(T,ct)|0,s=s+Math.imul(T,ut)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Ct=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(P,ct)|0,s=s+Math.imul(P,ut)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,dt)|0;var Tt=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((s=s+Math.imul(I,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(L,ct)|0,s=s+Math.imul(L,ut)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(P,ht)|0,s=s+Math.imul(P,dt)|0;var Ot=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((s=s+Math.imul(T,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ct),i=(i=Math.imul(U,ut))+Math.imul(j,ct)|0,s=Math.imul(j,ut),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Rt=(u+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((s=s+Math.imul(P,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Pt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((s=s+Math.imul(L,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(u+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,gt))+Math.imul(j,pt)|0))<<13)|0;return u=((s=Math.imul(j,gt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,c[0]=mt,c[1]=yt,c[2]=bt,c[3]=wt,c[4]=vt,c[5]=_t,c[6]=Et,c[7]=At,c[8]=St,c[9]=xt,c[10]=kt,c[11]=It,c[12]=Mt,c[13]=Ct,c[14]=Tt,c[15]=Ot,c[16]=Rt,c[17]=Pt,c[18]=Nt,0!==u&&(c[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=c;u++){var l=s-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}Math.imul||(g=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,c=(0|this.words[e])-a<<n;this.words[e]=c|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=n;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s=t.length+n;this._expand(s);var o,a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!=(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,c=n.length-s.length;if("mod"!==e){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(s,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[s.length+h])+(0|n.words[s.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(s,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(s,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),c=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(l),o.isub(h)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(c)):(n.isub(e),a.isub(s),c.isub(o))}return{a,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,n=this,s=t.clone();n=0!==n.negative?n.umod(t):n.clone();for(var o=new i(1),a=new i(0),c=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,l=1;!(n.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;!(s.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(s.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);n.cmp(s)>=0?(n.isub(s),o.isub(a)):(s.isub(n),a.isub(o))}return(e=0===n.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},n(v,w),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,w),n(E,w),n(A,w),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,s),d=this.pow(t,s.addn(1).iushrn(1)),f=this.pow(t,s),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(h,new i(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=m}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;s!==r[0]&&(s=this.sqr(s)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===l)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}c=26}return s},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new x(t)},n(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Mr)}(Yr);var Jr=Yr.exports;const Qr="bignumber/5.7.0";var Xr=Jr.BN;const tn=new Ur(Qr),en={},rn=9007199254740991;let nn=!1;class sn{constructor(t,e){t!==en&&tn.throwError("cannot call constructor directly; use BigNumber.from",Ur.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return an(cn(this).fromTwos(t))}toTwos(t){return an(cn(this).toTwos(t))}abs(){return"-"===this._hex[0]?sn.from(this._hex.substring(1)):this}add(t){return an(cn(this).add(cn(t)))}sub(t){return an(cn(this).sub(cn(t)))}div(t){return sn.from(t).isZero()&&un("division-by-zero","div"),an(cn(this).div(cn(t)))}mul(t){return an(cn(this).mul(cn(t)))}mod(t){const e=cn(t);return e.isNeg()&&un("division-by-zero","mod"),an(cn(this).umod(e))}pow(t){const e=cn(t);return e.isNeg()&&un("negative-power","pow"),an(cn(this).pow(e))}and(t){const e=cn(t);return(this.isNegative()||e.isNeg())&&un("unbound-bitwise-result","and"),an(cn(this).and(e))}or(t){const e=cn(t);return(this.isNegative()||e.isNeg())&&un("unbound-bitwise-result","or"),an(cn(this).or(e))}xor(t){const e=cn(t);return(this.isNegative()||e.isNeg())&&un("unbound-bitwise-result","xor"),an(cn(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&un("negative-width","mask"),an(cn(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&un("negative-width","shl"),an(cn(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&un("negative-width","shr"),an(cn(this).shrn(t))}eq(t){return cn(this).eq(cn(t))}lt(t){return cn(this).lt(cn(t))}lte(t){return cn(this).lte(cn(t))}gt(t){return cn(this).gt(cn(t))}gte(t){return cn(this).gte(cn(t))}isNegative(){return"-"===this._hex[0]}isZero(){return cn(this).isZero()}toNumber(){try{return cn(this).toNumber()}catch{un("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return tn.throwError("this platform does not support BigInt",Ur.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?nn||(nn=!0,tn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?tn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ur.errors.UNEXPECTED_ARGUMENT,{}):tn.throwError("BigNumber.toString does not accept parameters",Ur.errors.UNEXPECTED_ARGUMENT,{})),cn(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof sn)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new sn(en,on(t)):t.match(/^-?[0-9]+$/)?new sn(en,on(new Xr(t))):tn.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&un("underflow","BigNumber.from",t),(t>=rn||t<=-rn)&&un("overflow","BigNumber.from",t),sn.from(String(t));const e=t;if("bigint"==typeof e)return sn.from(e.toString());if(Hr(e))return sn.from(Kr(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return sn.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Vr(t)||"-"===t[0]&&Vr(t.substring(1))))return sn.from(t)}return tn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function on(t){if("string"!=typeof t)return on(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&tn.throwArgumentError("invalid hex","value",t),"0x00"===(t=on(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function an(t){return sn.from(on(t))}function cn(t){const e=sn.from(t).toHexString();return"-"===e[0]?new Xr("-"+e.substring(3),16):new Xr(e.substring(2),16)}function un(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),tn.throwError(t,Ur.errors.NUMERIC_FAULT,n)}const ln=new Ur(Qr),hn={},dn=sn.from(0),fn=sn.from(-1);function pn(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),ln.throwError(t,Ur.errors.NUMERIC_FAULT,i)}let gn="0";for(;gn.length<256;)gn+=gn;function mn(t){if("number"!=typeof t)try{t=sn.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+gn.substring(0,t):ln.throwArgumentError("invalid decimal size","decimals",t)}function yn(t,e){null==e&&(e=0);const r=mn(e),n=(t=sn.from(t)).lt(dn);n&&(t=t.mul(fn));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+i,n&&(t="-"+t),t}function bn(t,e){null==e&&(e=0);const r=mn(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&ln.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&ln.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&ln.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&pn("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=sn.from(s),c=sn.from(o);let u=a.mul(r).add(c);return n&&(u=u.mul(fn)),u}class wn{constructor(t,e,r,n){t!==hn&&ln.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ur.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=mn(n),Object.freeze(this)}static from(t){if(t instanceof wn)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||ln.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&ln.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&ln.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&ln.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new wn(hn,e,r,n)}}class vn{constructor(t,e,r,n){t!==hn&&ln.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ur.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&ln.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=bn(this._value,this.format.decimals),r=bn(t._value,t.format.decimals);return vn.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=bn(this._value,this.format.decimals),r=bn(t._value,t.format.decimals);return vn.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=bn(this._value,this.format.decimals),r=bn(t._value,t.format.decimals);return vn.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=bn(this._value,this.format.decimals),r=bn(t._value,t.format.decimals);return vn.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=vn.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(_n.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=vn.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(_n.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&ln.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=vn.from("1"+gn.substring(0,t),this.format),n=En.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){return null==t?this._hex:(t%8&&ln.throwArgumentError("invalid byte width","width",t),Gr(sn.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return vn.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(sn.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||Vr(t)||"bigint"==typeof t||Hr(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),vn.fromString(yn(t,e),wn.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=wn.from(e),n=bn(t,r.decimals);!r.signed&&n.lt(dn)&&pn("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=Gr(i,r.width/8));const s=yn(n,r.decimals);return new vn(hn,i,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=wn.from(e);if(Wr(t).length>r.width/8)throw new Error("overflow");let n=sn.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),s=yn(n,r.decimals);return new vn(hn,i,s,r)}static from(t,e){if("string"==typeof t)return vn.fromString(t,e);if(Hr(t))return vn.fromBytes(t,e);try{return vn.fromValue(t,0,e)}catch(t){if(t.code!==Ur.errors.INVALID_ARGUMENT)throw t}return ln.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const _n=vn.from(1),En=vn.from("0.5"),An=new Ur("strings/5.7.0");var Sn,xn;function kn(t,e,r,n,i){if(t===xn.BAD_PREFIX||t===xn.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===xn.OVERRUN?r.length-e-1:0}function In(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Mn(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Sn||(Sn={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(xn||(xn={})),Object.freeze({error:function(t,e,r,n,i){return An.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:kn,replace:function(t,e,r,n,i){return t===xn.OVERLONG?(n.push(i),0):(n.push(65533),kn(t,e,r))}}),Mn("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),In("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),In("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),In("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Mn("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const Cn="hash/5.7.0";function Tn(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function On(t){return 1&t?~t>>1:t>>1}function Rn(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Pn(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=On(e());return r}function Nn(t,e){let r=Rn(t(),t),n=t(),i=Rn(n,t),s=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let t=0;t<n;t++)for(let e=0;e<s[t];e++)r.push(i[t]+e);return e?r.map((t=>e[t])):r}function Bn(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)Pn(t,r).forEach(((t,e)=>n[e].push(t)));return n}function Ln(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return Tn(Bn(i.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))})))}function Dn(t,e){return Bn(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Un=function(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let t=1;t<n;t++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return 0==c&&(u=u<<8|t[e++],c=8),u>>--c&1}const h=Math.pow(2,31),d=h>>>1,f=d>>1,p=h-1;let g=0;for(let t=0;t<31;t++)g=g<<1|l();let m=[],y=0,b=h;for(;;){let t=Math.floor(((g-y+1)*i-1)/b),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;m.push(e);let o=y+Math.floor(b*s[e]/i),a=y+Math.floor(b*s[e+1]/i)-1;for(;!((o^a)&d);)g=g<<1&p|l(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&d|g<<1&p>>>1|l(),o=o<<1^d,a=(a^d)<<1|d|1;y=o,b=1+a-o}let w=n-4;return m.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Wr(e)}("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="));new Set(Nn(Un)),new Set(Nn(Un)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Ln(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Dn(r,t))}!function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}}(Tn(e))}(Un),function(t){let e=Nn(t).sort(((t,e)=>t-e));!function r(){let n=[];for(;;){let i=Nn(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),s=i%3;i=i/3|0;let o=!!(1&i);return i>>=1,{branches:n,valid:s,fe0f:o,save:1==i,check:2==i}}()}(Un),new Ur(Cn),new Uint8Array(32).fill(0),new Ur("rlp/5.7.0"),new Ur("address/5.7.0");const jn={};for(let t=0;t<10;t++)jn[String(t)]=String(t);for(let t=0;t<26;t++)jn[String.fromCharCode(65+t)]=String(10+t);Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991)),new Ur("properties/5.7.0"),new Ur(Cn),new Uint8Array(32).fill(0),sn.from(-1);const Fn=sn.from(0),zn=sn.from(1);sn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Gr(zn.toHexString(),32),Gr(Fn.toHexString(),32);var qn={},Hn={},Wn=Vn;function Vn(t,e){if(!t)throw new Error(e||"Assertion failed")}Vn.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var $n={exports:{}};"function"==typeof Object.create?$n.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:$n.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Kn=Wn,Gn=$n.exports;function Yn(t,e){return!(55296!=(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function Zn(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Jn(t){return 1===t.length?"0"+t:t}function Qn(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Hn.inherits=Gn,Hn.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):Yn(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Hn.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Jn(t[r].toString(16));return e},Hn.htonl=Zn,Hn.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=Zn(i)),r+=Qn(i.toString(16))}return r},Hn.zero2=Jn,Hn.zero8=Qn,Hn.join32=function(t,e,r,n){var i=r-e;Kn(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;c="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s},Hn.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},Hn.rotr32=function(t,e){return t>>>e|t<<32-e},Hn.rotl32=function(t,e){return t<<e|t>>>32-e},Hn.sum32=function(t,e){return t+e>>>0},Hn.sum32_3=function(t,e,r){return t+e+r>>>0},Hn.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Hn.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Hn.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},Hn.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Hn.sum64_lo=function(t,e,r,n){return e+n>>>0},Hn.sum64_4_hi=function(t,e,r,n,i,s,o,a){var c=0,u=e;return c+=(u=u+n>>>0)<e?1:0,c+=(u=u+s>>>0)<s?1:0,t+r+i+o+(c+=(u=u+a>>>0)<a?1:0)>>>0},Hn.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},Hn.sum64_5_hi=function(t,e,r,n,i,s,o,a,c,u){var l=0,h=e;return l+=(h=h+n>>>0)<e?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+a>>>0)<a?1:0,t+r+i+o+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},Hn.sum64_5_lo=function(t,e,r,n,i,s,o,a,c,u){return e+n+s+a+u>>>0},Hn.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Hn.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Hn.shr64_hi=function(t,e,r){return t>>>r},Hn.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var Xn={},ti=Hn,ei=Wn;function ri(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Xn.BlockHash=ri,ri.prototype.update=function(t,e){if(t=ti.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=ti.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},ri.prototype.digest=function(t){return this.update(this._pad()),ei(null===this.pending),this._digest(t)},ri.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var ni={},ii={},si=Hn.rotr32;function oi(t,e,r){return t&e^~t&r}function ai(t,e,r){return t&e^t&r^e&r}function ci(t,e,r){return t^e^r}ii.ft_1=function(t,e,r,n){return 0===t?oi(e,r,n):1===t||3===t?ci(e,r,n):2===t?ai(e,r,n):void 0},ii.ch32=oi,ii.maj32=ai,ii.p32=ci,ii.s0_256=function(t){return si(t,2)^si(t,13)^si(t,22)},ii.s1_256=function(t){return si(t,6)^si(t,11)^si(t,25)},ii.g0_256=function(t){return si(t,7)^si(t,18)^t>>>3},ii.g1_256=function(t){return si(t,17)^si(t,19)^t>>>10};var ui=Hn,li=Xn,hi=ii,di=ui.rotl32,fi=ui.sum32,pi=ui.sum32_5,gi=hi.ft_1,mi=li.BlockHash,yi=[1518500249,1859775393,2400959708,3395469782];function bi(){if(!(this instanceof bi))return new bi;mi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ui.inherits(bi,mi);var wi=bi;bi.blockSize=512,bi.outSize=160,bi.hmacStrength=80,bi.padLength=64,bi.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=di(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=pi(di(i,5),gi(u,s,o,a),c,r[n],yi[u]);c=a,a=o,o=di(s,30),s=i,i=l}this.h[0]=fi(this.h[0],i),this.h[1]=fi(this.h[1],s),this.h[2]=fi(this.h[2],o),this.h[3]=fi(this.h[3],a),this.h[4]=fi(this.h[4],c)},bi.prototype._digest=function(t){return"hex"===t?ui.toHex32(this.h,"big"):ui.split32(this.h,"big")};var vi=Hn,_i=Xn,Ei=ii,Ai=Wn,Si=vi.sum32,xi=vi.sum32_4,ki=vi.sum32_5,Ii=Ei.ch32,Mi=Ei.maj32,Ci=Ei.s0_256,Ti=Ei.s1_256,Oi=Ei.g0_256,Ri=Ei.g1_256,Pi=_i.BlockHash,Ni=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bi(){if(!(this instanceof Bi))return new Bi;Pi.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ni,this.W=new Array(64)}vi.inherits(Bi,Pi);var Li=Bi;Bi.blockSize=512,Bi.outSize=256,Bi.hmacStrength=192,Bi.padLength=64,Bi.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=xi(Ri(r[n-2]),r[n-7],Oi(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(Ai(this.k.length===r.length),n=0;n<r.length;n++){var d=ki(h,Ti(c),Ii(c,u,l),this.k[n],r[n]),f=Si(Ci(i),Mi(i,s,o));h=l,l=u,u=c,c=Si(a,d),a=o,o=s,s=i,i=Si(d,f)}this.h[0]=Si(this.h[0],i),this.h[1]=Si(this.h[1],s),this.h[2]=Si(this.h[2],o),this.h[3]=Si(this.h[3],a),this.h[4]=Si(this.h[4],c),this.h[5]=Si(this.h[5],u),this.h[6]=Si(this.h[6],l),this.h[7]=Si(this.h[7],h)},Bi.prototype._digest=function(t){return"hex"===t?vi.toHex32(this.h,"big"):vi.split32(this.h,"big")};var Di=Hn,Ui=Li;function ji(){if(!(this instanceof ji))return new ji;Ui.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Di.inherits(ji,Ui);var Fi=ji;ji.blockSize=512,ji.outSize=224,ji.hmacStrength=192,ji.padLength=64,ji.prototype._digest=function(t){return"hex"===t?Di.toHex32(this.h.slice(0,7),"big"):Di.split32(this.h.slice(0,7),"big")};var zi=Hn,qi=Xn,Hi=Wn,Wi=zi.rotr64_hi,Vi=zi.rotr64_lo,$i=zi.shr64_hi,Ki=zi.shr64_lo,Gi=zi.sum64,Yi=zi.sum64_hi,Zi=zi.sum64_lo,Ji=zi.sum64_4_hi,Qi=zi.sum64_4_lo,Xi=zi.sum64_5_hi,ts=zi.sum64_5_lo,es=qi.BlockHash,rs=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ns(){if(!(this instanceof ns))return new ns;es.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=rs,this.W=new Array(160)}zi.inherits(ns,es);var is=ns;function ss(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function os(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function as(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function cs(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function us(t,e){var r=Wi(t,e,28)^Wi(e,t,2)^Wi(e,t,7);return r<0&&(r+=4294967296),r}function ls(t,e){var r=Vi(t,e,28)^Vi(e,t,2)^Vi(e,t,7);return r<0&&(r+=4294967296),r}function hs(t,e){var r=Wi(t,e,14)^Wi(t,e,18)^Wi(e,t,9);return r<0&&(r+=4294967296),r}function ds(t,e){var r=Vi(t,e,14)^Vi(t,e,18)^Vi(e,t,9);return r<0&&(r+=4294967296),r}function fs(t,e){var r=Wi(t,e,1)^Wi(t,e,8)^$i(t,e,7);return r<0&&(r+=4294967296),r}function ps(t,e){var r=Vi(t,e,1)^Vi(t,e,8)^Ki(t,e,7);return r<0&&(r+=4294967296),r}function gs(t,e){var r=Wi(t,e,19)^Wi(e,t,29)^$i(t,e,6);return r<0&&(r+=4294967296),r}function ms(t,e){var r=Vi(t,e,19)^Vi(e,t,29)^Ki(t,e,6);return r<0&&(r+=4294967296),r}ns.blockSize=1024,ns.outSize=512,ns.hmacStrength=192,ns.padLength=128,ns.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=gs(r[n-4],r[n-3]),s=ms(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=fs(r[n-30],r[n-29]),u=ps(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=Ji(i,s,o,a,c,u,l,h),r[n+1]=Qi(i,s,o,a,c,u,l,h)}},ns.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];Hi(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=y,_=b,E=hs(h,d),A=ds(h,d),S=ss(h,0,f,0,g),x=os(0,d,0,p,0,m),k=this.k[w],I=this.k[w+1],M=r[w],C=r[w+1],T=Xi(v,_,E,A,S,x,k,I,M,C),O=ts(v,_,E,A,S,x,k,I,M,C);v=us(n,i),_=ls(n,i),E=as(n,0,s,0,a),A=cs(0,i,0,o,0,c);var R=Yi(v,_,E,A),P=Zi(v,_,E,A);y=g,b=m,g=f,m=p,f=h,p=d,h=Yi(u,l,T,O),d=Zi(l,l,T,O),u=a,l=c,a=s,c=o,s=n,o=i,n=Yi(T,O,R,P),i=Zi(T,O,R,P)}Gi(this.h,0,n,i),Gi(this.h,2,s,o),Gi(this.h,4,a,c),Gi(this.h,6,u,l),Gi(this.h,8,h,d),Gi(this.h,10,f,p),Gi(this.h,12,g,m),Gi(this.h,14,y,b)},ns.prototype._digest=function(t){return"hex"===t?zi.toHex32(this.h,"big"):zi.split32(this.h,"big")};var ys=Hn,bs=is;function ws(){if(!(this instanceof ws))return new ws;bs.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ys.inherits(ws,bs);var vs=ws;ws.blockSize=1024,ws.outSize=384,ws.hmacStrength=192,ws.padLength=128,ws.prototype._digest=function(t){return"hex"===t?ys.toHex32(this.h.slice(0,12),"big"):ys.split32(this.h.slice(0,12),"big")},ni.sha1=wi,ni.sha224=Fi,ni.sha256=Li,ni.sha384=vs,ni.sha512=is;var _s={},Es=Hn,As=Xn,Ss=Es.rotl32,xs=Es.sum32,ks=Es.sum32_3,Is=Es.sum32_4,Ms=As.BlockHash;function Cs(){if(!(this instanceof Cs))return new Cs;Ms.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Ts(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Os(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Rs(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Es.inherits(Cs,Ms),_s.ripemd160=Cs,Cs.blockSize=512,Cs.outSize=160,Cs.hmacStrength=192,Cs.padLength=64,Cs.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,c=n,u=i,l=s,h=o,d=0;d<80;d++){var f=xs(Ss(Is(r,Ts(d,n,i,s),t[Ps[d]+e],Os(d)),Bs[d]),o);r=o,o=s,s=Ss(i,10),i=n,n=f,f=xs(Ss(Is(a,Ts(79-d,c,u,l),t[Ns[d]+e],Rs(d)),Ls[d]),h),a=h,h=l,l=Ss(u,10),u=c,c=f}f=ks(this.h[1],i,l),this.h[1]=ks(this.h[2],s,h),this.h[2]=ks(this.h[3],o,a),this.h[3]=ks(this.h[4],r,c),this.h[4]=ks(this.h[0],n,u),this.h[0]=f},Cs.prototype._digest=function(t){return"hex"===t?Es.toHex32(this.h,"little"):Es.split32(this.h,"little")};var Ps=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ns=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Bs=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ls=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ds=Hn,Us=Wn;function js(t,e,r){if(!(this instanceof js))return new js(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ds.toArray(e,r))}var Fs=js;function zs(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},r.exports),r.exports}js.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Us(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},js.prototype.update=function(t,e){return this.inner.update(t,e),this},js.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Hn,e.common=Xn,e.sha=ni,e.ripemd=_s,e.hmac=Fs,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(qn);var qs=Hs;function Hs(t,e){if(!t)throw new Error(e||"Assertion failed")}Hs.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Ws=zs((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Vs=zs((function(t,e){var r=e;r.assert=qs,r.toArray=Ws.toArray,r.zero2=Ws.zero2,r.toHex=Ws.toHex,r.encode=Ws.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,c=s.andln(i-1);s.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,c=t.andln(3)+i&3,u=e.andln(3)+s&3;3===c&&(c=-1),3===u&&(u=-1),o=1&c?3!=(n=t.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(o),a=1&u?3!=(n=e.andln(7)+s&7)&&5!==n||2!==c?u:-u:0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new Jr(t,"hex","le")}})),$s=Vs.getNAF,Ks=Vs.getJSF,Gs=Vs.assert;function Ys(t,e){this.type=t,this.p=new Jr(e.p,16),this.red=e.prime?Jr.red(e.prime):Jr.mont(this.p),this.zero=new Jr(0).toRed(this.red),this.one=new Jr(1).toRed(this.red),this.two=new Jr(2).toRed(this.red),this.n=e.n&&new Jr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Zs=Ys;function Js(t,e){this.curve=t,this.type=e,this.precomputed=null}Ys.prototype.point=function(){throw new Error("Not implemented")},Ys.prototype.validate=function(){throw new Error("Not implemented")},Ys.prototype._fixedNafMul=function(t,e){Gs(t.precomputed);var r=t._getDoubles(),n=$s(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var c=s+r.step-1;c>=s;c--)o=(o<<1)+n[c];a.push(o)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?l=l.mixedAdd(r.points[s]):o===-h&&(l=l.mixedAdd(r.points[s].neg()));u=u.add(l)}return u.toP()},Ys.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=$s(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var c=0;a>=0&&0===s[a];a--)c++;if(a>=0&&c++,o=o.dblp(c),a<0)break;var u=s[a];Gs(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},Ys.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,c=this._wnafT1,u=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var d=(a=e[s])._getNAFPoints(t);c[s]=d.wnd,u[s]=d.points}for(s=n-1;s>=1;s-=2){var f=s-1,p=s;if(1===c[f]&&1===c[p]){var g=[e[f],null,null,e[p]];0===e[f].y.cmp(e[p].y)?(g[1]=e[f].add(e[p]),g[2]=e[f].toJ().mixedAdd(e[p].neg())):0===e[f].y.cmp(e[p].y.redNeg())?(g[1]=e[f].toJ().mixedAdd(e[p]),g[2]=e[f].add(e[p].neg())):(g[1]=e[f].toJ().mixedAdd(e[p]),g[2]=e[f].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=Ks(r[f],r[p]);for(h=Math.max(y[0].length,h),l[f]=new Array(h),l[p]=new Array(h),o=0;o<h;o++){var b=0|y[0][o],w=0|y[1][o];l[f][o]=m[3*(b+1)+(w+1)],l[p][o]=0,u[f]=g}}else l[f]=$s(r[f],c[f],this._bitLength),l[p]=$s(r[p],c[p],this._bitLength),h=Math.max(l[f].length,h),h=Math.max(l[p].length,h)}var v=this.jpoint(null,null,null),_=this._wnafT4;for(s=h;s>=0;s--){for(var E=0;s>=0;){var A=!0;for(o=0;o<n;o++)_[o]=0|l[o][s],0!==_[o]&&(A=!1);if(!A)break;E++,s--}if(s>=0&&E++,v=v.dblp(E),s<0)break;for(o=0;o<n;o++){var S=_[o];0!==S&&(S>0?a=u[o][S-1>>1]:S<0&&(a=u[o][-S-1>>1].neg()),v="affine"===a.type?v.mixedAdd(a):v.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?v:v.toP()},Ys.BasePoint=Js,Js.prototype.eq=function(){throw new Error("Not implemented")},Js.prototype.validate=function(){return this.curve.validate(this)},Ys.prototype.decodePoint=function(t,e){t=Vs.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Gs(t[t.length-1]%2==0):7===t[0]&&Gs(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Js.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Js.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Js.prototype.encode=function(t,e){return Vs.encode(this._encode(e),t)},Js.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Js.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Js.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},Js.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Js.prototype._getBeta=function(){return null},Js.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Qs=zs((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Xs=Vs.assert;function to(t){Zs.call(this,"short",t),this.a=new Jr(t.a,16).toRed(this.red),this.b=new Jr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Qs(to,Zs);var eo=to;function ro(t,e,r,n){Zs.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Jr(e,16),this.y=new Jr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function no(t,e,r,n){Zs.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Jr(0)):(this.x=new Jr(e,16),this.y=new Jr(r,16),this.z=new Jr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}to.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new Jr(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new Jr(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Xs(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new Jr(t.a,16),b:new Jr(t.b,16)}})):this._getEndoBasis(r)}}},to.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Jr.mont(t),r=new Jr(2).toRed(e).redInvm(),n=r.redNeg(),i=new Jr(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},to.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,d=this.n.clone(),f=new Jr(1),p=new Jr(0),g=new Jr(0),m=new Jr(1),y=0;0!==h.cmpn(0);){var b=d.div(h);c=d.sub(b.mul(h)),u=g.sub(b.mul(f));var w=m.sub(b.mul(p));if(!n&&c.cmp(l)<0)e=a.neg(),r=f,n=c.neg(),i=u;else if(n&&2==++y)break;a=c,d=h,h=c,g=f,f=u,m=p,p=w}s=c.neg(),o=u;var v=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(v)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},to.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:c.add(u).neg()}},to.prototype.pointFromX=function(t,e){(t=new Jr(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},to.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},to.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},Qs(ro,Zs.BasePoint),to.prototype.point=function(t,e,r){return new ro(this,t,e,r)},to.prototype.pointFromJSON=function(t,e){return ro.fromJSON(this,t,e)},ro.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},ro.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ro.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},ro.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ro.prototype.isInfinity=function(){return this.inf},ro.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ro.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},ro.prototype.getX=function(){return this.x.fromRed()},ro.prototype.getY=function(){return this.y.fromRed()},ro.prototype.mul=function(t){return t=new Jr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},ro.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ro.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ro.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},ro.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},ro.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Qs(no,Zs.BasePoint),to.prototype.jpoint=function(t,e,r){return new no(this,t,e,r)},no.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},no.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},no.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=n.redMul(u),d=c.redSqr().redIAdd(l).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,p)},no.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=r.redMul(c),h=a.redSqr().redIAdd(u).redISub(l).redISub(l),d=a.redMul(l.redISub(h)).redISub(i.redMul(u)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},no.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var l=s.redSqr(),h=u.redSqr(),d=h.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=f.redMul(m);y=y.redIAdd(y).redISub(d);var b=u.redMul(a);e+1<t&&(c=c.redMul(d)),s=g,a=b,u=y}return this.curve.jpoint(s,u.redMul(i),a)},no.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},no.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=c,e=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(l).redISub(d);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(f).redISub(f),e=p.redMul(f.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},no.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);t=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);t=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=f.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},no.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),c=e.redAdd(e),u=(c=c.redIAdd(c)).redMul(o),l=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,p)},no.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},no.prototype.mul=function(t,e){return t=new Jr(t,e),this.curve._wnafMul(this,t)},no.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},no.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},no.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},no.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var io=zs((function(t,e){var r=e;r.base=Zs,r.short=eo,r.mont=null,r.edwards=null})),so=zs((function(t,e){var r,n=e,i=Vs.assert;function s(t){"short"===t.type?this.curve=new io.short(t):"edwards"===t.type?this.curve=new io.edwards(t):this.curve=new io.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:qn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:qn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:qn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:qn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:qn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qn.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:qn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function oo(t){if(!(this instanceof oo))return new oo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ws.toArray(t.entropy,t.entropyEnc||"hex"),r=Ws.toArray(t.nonce,t.nonceEnc||"hex"),n=Ws.toArray(t.pers,t.persEnc||"hex");qs(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ao=oo;oo.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},oo.prototype._hmac=function(){return new qn.hmac(this.hash,this.K)},oo.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},oo.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=Ws.toArray(t,e),r=Ws.toArray(r,n),qs(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},oo.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=Ws.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,Ws.encode(s,e)};var co=Vs.assert;function uo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var lo=uo;uo.fromPublic=function(t,e,r){return e instanceof uo?e:new uo(t,{pub:e,pubEnc:r})},uo.fromPrivate=function(t,e,r){return e instanceof uo?e:new uo(t,{priv:e,privEnc:r})},uo.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},uo.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},uo.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},uo.prototype._importPrivate=function(t,e){this.priv=new Jr(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},uo.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?co(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&co(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},uo.prototype.derive=function(t){return t.validate()||co(t.validate(),"public point not validated"),t.mul(this.priv).getX()},uo.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},uo.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},uo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ho=Vs.assert;function fo(t,e){if(t instanceof fo)return t;this._importDER(t,e)||(ho(t.r&&t.s,"Signature without r or s"),this.r=new Jr(t.r,16),this.s=new Jr(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var po=fo;function go(){this.place=0}function mo(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function yo(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function bo(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}fo.prototype._importDER=function(t,e){t=Vs.toArray(t,e);var r=new go;if(48!==t[r.place++])return!1;var n=mo(t,r);if(!1===n||n+r.place!==t.length||2!==t[r.place++])return!1;var i=mo(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=mo(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new Jr(s),this.s=new Jr(a),this.recoveryParam=null,!0},fo.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=yo(e),r=yo(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];bo(n,e.length),(n=n.concat(e)).push(2),bo(n,r.length);var i=n.concat(r),s=[48];return bo(s,i.length),s=s.concat(i),Vs.encode(s,t)};var wo=function(){throw new Error("unsupported")},vo=Vs.assert;function _o(t){if(!(this instanceof _o))return new _o(t);"string"==typeof t&&(vo(Object.prototype.hasOwnProperty.call(so,t),"Unknown curve "+t),t=so[t]),t instanceof so.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Eo,Ao=_o;_o.prototype.keyPair=function(t){return new lo(this,t)},_o.prototype.keyFromPrivate=function(t,e){return lo.fromPrivate(this,t,e)},_o.prototype.keyFromPublic=function(t,e){return lo.fromPublic(this,t,e)},_o.prototype.genKeyPair=function(t){t||(t={});for(var e=new ao({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||wo(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Jr(2));;){var i=new Jr(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},_o.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},_o.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Jr(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new ao({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Jr(1)),u=0;;u++){var l=n.k?n.k(u):new Jr(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var d=h.getX(),f=d.umod(this.n);if(0!==f.cmpn(0)){var p=l.invm(this.n).mul(f.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==d.cmp(f)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new po({r:f,s:p,recoveryParam:g})}}}}}},_o.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Jr(t,16)),r=this.keyFromPublic(r,n);var i=(e=new po(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),c=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},_o.prototype.recoverPubKey=function(t,e,r,n){vo((3&r)===r,"The recovery param is more than two bits"),e=new po(e,n);var i=this.n,s=new Jr(t),o=e.r,a=e.s,c=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),c):this.curve.pointFromX(o,c);var l=e.r.invm(i),h=i.sub(s).mul(l).umod(i),d=a.mul(l).umod(i);return this.g.mulAdd(h,o,d)},_o.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new po(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")},zs((function(t,e){var r=e;r.version="6.5.4",r.utils=Vs,r.rand=function(){throw new Error("unsupported")},r.curve=io,r.curves=so,r.ec=Ao,r.eddsa=null})).ec,new Ur("signing-key/5.7.0"),new Ur("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Eo||(Eo={})),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const So={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function xo(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}const ko=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Io=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Mo=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Co(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e;!function(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}(t)}function To(t,e={}){if("string"!=typeof t)return t;const r=t.trim();if('"'===t[0]&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const t=r.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;if("null"===t)return null;if("nan"===t)return Number.NaN;if("infinity"===t)return Number.POSITIVE_INFINITY;if("-infinity"===t)return Number.NEGATIVE_INFINITY}if(!Mo.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(ko.test(t)||Io.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Co)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Oo(t,...e){try{return(r=t(...e))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(t){return Promise.reject(t)}var r}function Ro(t){if(function(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}(t))return String(t);if(function(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}(t)||Array.isArray(t))return JSON.stringify(t);if("function"==typeof t.toJSON)return Ro(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Po(){if("undefined"==typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const No="base64:";function Bo(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Lo(...t){return Bo(t.join(":"))}function Do(t){return(t=Bo(t))?t+":":""}const Uo=()=>{const t=new Map;return{name:"memory",getInstance:()=>t,hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys:()=>[...t.keys()],clear(){t.clear()},dispose(){t.clear()}}};function jo(t,e,r){return t.watch?t.watch(((t,n)=>e(t,r+n))):()=>{}}async function Fo(t){"function"==typeof t.dispose&&await Oo(t.dispose)}function zo(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}function qo(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=zo(r);return(t,r)=>n.then((n=>r(n.transaction(e,t).objectStore(e))))}let Ho;function Wo(){return Ho||(Ho=qo("keyval-store","keyval")),Ho}function Vo(t,e=Wo()){return e("readonly",(e=>zo(e.get(t))))}function $o(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))})(t)}catch(e){return t}}function Ko(t){return"string"==typeof t?t:(e=t,JSON.stringify(e,((t,e)=>"bigint"==typeof e?e.toString()+"n":e))||"");var e}var Go=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=t=>e+t;let n;return t.dbName&&t.storeName&&(n=qo(t.dbName,t.storeName)),{name:"idb-keyval",options:t,hasItem:async t=>!(typeof await Vo(r(t),n)>"u"),getItem:async t=>await Vo(r(t),n)??null,setItem:(t,e)=>function(t,e,r=Wo()){return r("readwrite",(r=>(r.put(e,t),zo(r.transaction))))}(r(t),e,n),removeItem:t=>function(t,e=Wo()){return e("readwrite",(e=>(e.delete(t),zo(e.transaction))))}(r(t),n),getKeys:()=>function(t=Wo()){return t("readonly",(t=>{if(t.getAllKeys)return zo(t.getAllKeys());const e=[];return function(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},zo(t.transaction)}(t,(t=>e.push(t.key))).then((()=>e))}))}(n),clear:()=>function(t=Wo()){return t("readwrite",(t=>(t.clear(),zo(t.transaction))))}(n)}};class Yo{constructor(){this.indexedDb=function(t={}){const e={mounts:{"":t.driver||Uo()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),i=(t,r)=>{if(e.watching){r=Bo(r);for(const n of e.watchListeners)n(t,r)}},s=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},o=(t,e,n)=>{const i=new Map,s=t=>{let e=i.get(t.base);return e||(e={driver:t.driver,base:t.base,items:[]},i.set(t.base,e)),e};for(const n of t){const t="string"==typeof n,i=Bo(t?n:n.key),o=t?void 0:n.value,a=t||!n.options?e:{...e,...n.options},c=r(i);s(c).items.push({key:i,value:o,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map((t=>n(t)))).then((t=>t.flat()))},a={hasItem(t,e={}){t=Bo(t);const{relativeKey:n,driver:i}=r(t);return Oo(i.hasItem,n,e)},getItem(t,e={}){t=Bo(t);const{relativeKey:n,driver:i}=r(t);return Oo(i.getItem,n,e).then((t=>To(t)))},getItems:(t,e)=>o(t,e,(t=>t.driver.getItems?Oo(t.driver.getItems,t.items.map((t=>({key:t.relativeKey,options:t.options}))),e).then((e=>e.map((e=>({key:Lo(t.base,e.key),value:To(e.value)}))))):Promise.all(t.items.map((e=>Oo(t.driver.getItem,e.relativeKey,e.options).then((t=>({key:e.key,value:To(t)})))))))),getItemRaw(t,e={}){t=Bo(t);const{relativeKey:n,driver:i}=r(t);return i.getItemRaw?Oo(i.getItemRaw,n,e):Oo(i.getItem,n,e).then((t=>function(t){return"string"!=typeof t?t:t.startsWith(No)?(Po(),Buffer.from(t.slice(7),"base64")):t}(t)))},async setItem(t,e,n={}){if(void 0===e)return a.removeItem(t);t=Bo(t);const{relativeKey:s,driver:o}=r(t);o.setItem&&(await Oo(o.setItem,s,Ro(e),n),o.watch||i("update",t))},async setItems(t,e){await o(t,e,(async t=>{if(t.driver.setItems)return Oo(t.driver.setItems,t.items.map((t=>({key:t.relativeKey,value:Ro(t.value),options:t.options}))),e);t.driver.setItem&&await Promise.all(t.items.map((e=>Oo(t.driver.setItem,e.relativeKey,Ro(e.value),e.options))))}))},async setItemRaw(t,e,n={}){if(void 0===e)return a.removeItem(t,n);t=Bo(t);const{relativeKey:s,driver:o}=r(t);if(o.setItemRaw)await Oo(o.setItemRaw,s,e,n);else{if(!o.setItem)return;await Oo(o.setItem,s,function(t){if("string"==typeof t)return t;Po();const e=Buffer.from(t).toString("base64");return No+e}(e),n)}o.watch||i("update",t)},async removeItem(t,e={}){"boolean"==typeof e&&(e={removeMeta:e}),t=Bo(t);const{relativeKey:n,driver:s}=r(t);s.removeItem&&(await Oo(s.removeItem,n,e),(e.removeMeta||e.removeMata)&&await Oo(s.removeItem,n+"$",e),s.watch||i("remove",t))},async getMeta(t,e={}){"boolean"==typeof e&&(e={nativeOnly:e}),t=Bo(t);const{relativeKey:n,driver:i}=r(t),s=Object.create(null);if(i.getMeta&&Object.assign(s,await Oo(i.getMeta,n,e)),!e.nativeOnly){const t=await Oo(i.getItem,n+"$",e).then((t=>To(t)));t&&"object"==typeof t&&("string"==typeof t.atime&&(t.atime=new Date(t.atime)),"string"==typeof t.mtime&&(t.mtime=new Date(t.mtime)),Object.assign(s,t))}return s},setMeta(t,e,r={}){return this.setItem(t+"$",e,r)},removeMeta(t,e={}){return this.removeItem(t+"$",e)},async getKeys(t,e={}){t=Do(t);const r=n(t,!0);let i=[];const s=[];for(const t of r){const r=await Oo(t.driver.getKeys,t.relativeBase,e);for(const e of r){const r=t.mountpoint+Bo(e);i.some((t=>r.startsWith(t)))||s.push(r)}i=[t.mountpoint,...i.filter((e=>!e.startsWith(t.mountpoint)))]}return t?s.filter((e=>e.startsWith(t)&&"$"!==e[e.length-1])):s.filter((t=>"$"!==t[t.length-1]))},async clear(t,e={}){t=Do(t),await Promise.all(n(t,!1).map((async t=>{if(t.driver.clear)return Oo(t.driver.clear,t.relativeBase,e);if(t.driver.removeItem){const r=await t.driver.getKeys(t.relativeBase||"",e);return Promise.all(r.map((r=>t.driver.removeItem(r,e))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((t=>Fo(t))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await jo(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await s()}),async unwatch(){e.watchListeners=[],await s()},mount(t,r){if((t=Do(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort(((t,e)=>e.length-t.length))),e.mounts[t]=r,e.watching&&Promise.resolve(jo(r,i,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),a},async unmount(t,r=!0){(t=Do(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t](),delete e.unwatch[t]),r&&await Fo(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t])},getMount(t=""){t=Bo(t)+":";const e=r(t);return{driver:e.driver,base:e.base}},getMounts:(t="",e={})=>(t=Bo(t),n(t,e.parents).map((t=>({driver:t.driver,base:t.mountpoint})))),keys:(t,e={})=>a.getKeys(t,e),get:(t,e={})=>a.getItem(t,e),set:(t,e,r={})=>a.setItem(t,e,r),has:(t,e={})=>a.hasItem(t,e),del:(t,e={})=>a.removeItem(t,e),remove:(t,e={})=>a.removeItem(t,e)};return a}({driver:Go({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t=>[t.key,t.value]))}async getItem(t){const e=await this.indexedDb.getItem(t);if(null!==e)return e}async setItem(t,e){await this.indexedDb.setItem(t,Ko(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Jo={exports:{}};function Qo(t){var e;return[t[0],$o(null!=(e=t[1])?e:"")]}!function(){let t;function e(){}t=e,t.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.setItem=function(t,e){this[t]=String(e)},t.prototype.removeItem=function(t){delete this[t]},t.prototype.clear=function(){const t=this;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]}))},t.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},t.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof Zo<"u"&&Zo.localStorage?Jo.exports=Zo.localStorage:typeof window<"u"&&window.localStorage?Jo.exports=window.localStorage:Jo.exports=new e}();class Xo{constructor(){this.localStorage=Jo.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Qo)}async getItem(t){const e=this.localStorage.getItem(t);if(null!==e)return $o(e)}async setItem(t,e){this.localStorage.setItem(t,Ko(e))}async removeItem(t){this.localStorage.removeItem(t)}}class ta{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const t=new Xo;this.storage=t;try{(async(t,e,r)=>{const n="wc_storage_version",i=await e.getItem(n);if(i&&i>=1)return void r(e);const s=await t.getKeys();if(!s.length)return void r(e);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){const n=await t.getItem(r);await e.setItem(r,n),o.push(r)}}await e.setItem(n,1),r(e),(async(t,e)=>{e.length&&e.forEach((async e=>{await t.removeItem(e)}))})(t,o)})(t,new Yo,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise((t=>{const e=setInterval((()=>{this.initialized&&(clearInterval(e),t())}),20)}))}}class ea{}class ra extends ea{constructor(t){super()}}const na=Wt.FIVE_SECONDS,ia="heartbeat_pulse";class sa extends ra{constructor(t){super(t),this.events=new qt.EventEmitter,this.interval=na,this.interval=t?.interval||na}static async init(t){const e=new sa(t);return await e.init(),e}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,Wt.toMiliseconds)(this.interval))}pulse(){this.events.emit(ia)}}var oa=__webpack_require__(8076),aa=__webpack_require__.n(oa);const ca="custom_context";class ua{constructor(t){this.nodeValue=t,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class la{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const e=new ua(t);if(e.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${e.size}`);for(;this.size+e.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=e),this.tail=e):(this.head=e,this.tail=e),this.lengthInNodes++,this.sizeInBytes+=e.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let e=this.head;for(;null!==e;)t.push(e.value),e=e.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const e=t.value;return t=t.next,{done:!1,value:e}}}}}class ha{constructor(t,e=1024e3){this.level=t??"error",this.levelValue=oa.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=e,this.logs=new la(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,e){e===oa.levels.values.error?console.error(t):e===oa.levels.values.warn?console.warn(t):e===oa.levels.values.debug?console.debug(t):e===oa.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Ko({timestamp:(new Date).toISOString(),log:t}));const e="string"==typeof t?JSON.parse(t).level:t.level;e>=this.levelValue&&this.forwardToConsole(t,e)}getLogs(){return this.logs}clearLogs(){this.logs=new la(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const e=this.getLogArray();return e.push(Ko({extraMetadata:t})),new Blob(e,{type:"application/json"})}}class da{constructor(t,e=1024e3){this.baseChunkLogger=new ha(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const e=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=e,r.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e)}}class fa{constructor(t,e=1024e3){this.baseChunkLogger=new ha(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var pa=Object.defineProperty,ga=Object.defineProperties,ma=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertySymbols,ba=Object.prototype.hasOwnProperty,wa=Object.prototype.propertyIsEnumerable,va=(t,e,r)=>e in t?pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_a=(t,e)=>{for(var r in e||(e={}))ba.call(e,r)&&va(t,r,e[r]);if(ya)for(var r of ya(e))wa.call(e,r)&&va(t,r,e[r]);return t},Ea=(t,e)=>ga(t,ma(e));function Aa(t){return Ea(_a({},t),{level:t?.level||"info"})}function Sa(t,e=ca){let r="";return r=typeof t.bindings>"u"?function(t,e=ca){return t[e]||""}(t,e):t.bindings().context||"",r}function xa(t,e,r=ca){const n=function(t,e,r=ca){const n=Sa(t,r);return n.trim()?`${n}/${e}`:e}(t,e,r);return function(t,e,r=ca){return t[r]=e,t}(t.child({context:n}),n,r)}function ka(t){return typeof t.loggerOverride<"u"&&"string"!=typeof t.loggerOverride?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(t){var e,r;const n=new da(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:aa()(Ea(_a({},t.opts),{level:"trace",browser:Ea(_a({},null==(r=t.opts)?void 0:r.browser),{write:t=>n.write(t)})})),chunkLoggerController:n}}(t):function(t){var e;const r=new fa(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:aa()(Ea(_a({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}(t)}class Ia extends ea{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class Ma extends ea{constructor(t,e){super(),this.core=t,this.logger=e,this.records=new Map}}class Ca{constructor(t,e){this.logger=t,this.core=e}}class Ta extends ea{constructor(t,e){super(),this.relayer=t,this.logger=e}}class Oa extends ea{constructor(t){super()}}class Ra{constructor(t,e,r,n){this.core=t,this.logger=e,this.name=r}}class Pa extends ea{constructor(t,e){super(),this.relayer=t,this.logger=e}}class Na extends ea{constructor(t,e){super(),this.core=t,this.logger=e}}class Ba{constructor(t,e){this.projectId=t,this.logger=e}}class La{constructor(t,e){this.projectId=t,this.logger=e}}Ht();class Da{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}qt.EventEmitter;class Ua{constructor(t){this.client=t}}var ja=__webpack_require__(4904);const Fa="base64url",za="did",qa="key",Ha="base58btc";function Wa(t){return xr(Sr(Ko(t),"utf8"),Fa)}function Va(t){const e="z"+xr(Qt([Sr("K36",Ha),t]),Ha);return[za,qa,e].join(":")}function $a(t=(0,Gt.randomBytes)(32)){return ja.K(t)}__webpack_require__(5665);var Ka=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},Ga=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},Ya=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},Za=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},Ja=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Qa=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Xa=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tc=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ec=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function rc(t){var e=function(t){return""!==t&&tc.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]}),!1)}(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new Ja;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Ka(Ka([],i,!0),function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(3-i.length),!0)):i=[];var s=i.join("."),o=function(t){for(var e=0,r=ec.length;e<r;e++){var n=ec[e],i=n[0];if(n[1].exec(t))return i}return null}(t),a=Xa.exec(t);return a&&a[1]?new Za(r,s,o,a[1]):new Ga(r,s,o)}var nc=__webpack_require__(3833),ic=__webpack_require__(5436);const sc={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function oc(t){const[e,r]=t.split(":");return{namespace:e,reference:r}}function ac(t,e){return t.includes(":")?[t]:e.chains||[]}var cc=Object.defineProperty,uc=Object.getOwnPropertySymbols,lc=Object.prototype.hasOwnProperty,hc=Object.prototype.propertyIsEnumerable,dc=(t,e,r)=>e in t?cc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fc=(t,e)=>{for(var r in e||(e={}))lc.call(e,r)&&dc(t,r,e[r]);if(uc)for(var r of uc(e))hc.call(e,r)&&dc(t,r,e[r]);return t};const pc="react-native",gc="browser",mc="js";function yc(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function bc(){return!(0,nc.getDocument)()&&!!(0,nc.getNavigator)()&&"ReactNative"===navigator.product}function wc(){return!yc()&&!!(0,nc.getNavigator)()&&!!(0,nc.getDocument)()}function vc(){return bc()?pc:yc()?"node":wc()?gc:"unknown"}function _c(t,e,r){const n=function(){if(vc()===pc&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Platform)<"u"){const{OS:t,Version:e}=__webpack_require__.g.Platform;return[t,e].join("-")}const t=e?rc(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Qa:"undefined"!=typeof navigator?rc(navigator.userAgent):"undefined"!=typeof process&&process.version?new Ya(process.version.slice(1)):null;var e;if(null===t)return"unknown";const r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),i=function(){var t;const e=vc();return e===gc?[e,(null==(t=(0,nc.getLocation)())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[mc,r].join("-"),n,i].join("/")}function Ec(t,e){return t.filter((t=>e.includes(t))).length===t.length}function Ac(t){return Object.fromEntries(t.entries())}function Sc(t){return new Map(Object.entries(t))}function xc(t=Wt.FIVE_MINUTES,e){const r=(0,Wt.toMiliseconds)(t||Wt.FIVE_MINUTES);let n,i,s;return{resolve:t=>{s&&n&&(clearTimeout(s),n(t))},reject:t=>{s&&i&&(clearTimeout(s),i(t))},done:()=>new Promise(((t,o)=>{s=setTimeout((()=>{o(new Error(e))}),r),n=t,i=o}))}}function kc(t,e,r){return new Promise((async(n,i)=>{const s=setTimeout((()=>i(new Error(r))),e);try{n(await t)}catch(t){i(t)}clearTimeout(s)}))}function Ic(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Mc(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)n.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);n.id=Number(r)}return n}function Cc(t,e){return(0,Wt.fromMiliseconds)((e||Date.now())+(0,Wt.toMiliseconds)(t))}function Tc(t){return Date.now()>=(0,Wt.toMiliseconds)(t)}function Oc(t,e){return`${t}${e?`:${e}`:""}`}function Rc(t=[],e=[]){return[...new Set([...t,...e])]}var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Nc={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=Pc:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),c=[4,1024,262144,67108864],u=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],d=[128,256],f=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(n){return new T(t,e,t).update(n)[r]()}},m=function(t,e,r){return function(n,i){return new T(t,e,i).update(n)[r]()}},y=function(t,e,r){return function(e,n,i,s){return E["cshake"+t].update(e,n,i,s)[r]()}},b=function(t,e,r){return function(e,n,i,s){return E["kmac"+t].update(e,n,i,s)[r]()}},w=function(t,e,r,n){for(var i=0;i<f.length;++i){var s=f[i];t[s]=e(r,n,s)}return t},v=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new T(t,e,t)},r.update=function(t){return r.create().update(t)},w(r,g,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:v},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:v},{name:"shake",padding:[31,7936,2031616,520093696],bits:d,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new T(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},w(r,m,t,e)}},{name:"cshake",padding:c,bits:d,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,s){return i||s?new T(t,e,n).bytepad([i,s],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},w(n,y,t,e)}},{name:"kmac",padding:c,bits:d,createMethod:function(t,e){var r=p[t],n=b(t,0,"hex");return n.create=function(n,i,s){return new O(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},w(n,b,t,e)}}],E={},A=[],S=0;S<_.length;++S)for(var x=_[S],k=x.bits,I=0;I<k.length;++I){var M=x.name+"_"+k[I];if(A.push(M),E[M]=x.createMethod(k[I],x.padding),"sha3"!==x.name){var C=x.name+k[I];A.push(C),E[C]=E[M]}}function T(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function O(t,e,r){T.call(this,t,e,r)}T.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,a=this.blocks,c=this.byteCount,l=t.length,h=this.blockCount,d=0,f=this.s;d<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;d<l&&i<c;++d)a[i>>2]|=t[d]<<u[3&i++];else for(i=this.start;d<l&&i<c;++d)(s=t.charCodeAt(d))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++d)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=c){for(this.start=i-c,this.block=a[h],i=0;i<h;++i)f[i]^=a[i];R(f),this.reset=!0}else this.start=i}return this},T.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},T.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,s=t.length;if(r)i=s;else for(var a=0;a<t.length;++a){var c=t.charCodeAt(a);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},T.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];R(n)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,c="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],c+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e==0&&(R(r),s=0)}return i&&(t=r[s],c+=a[t>>4&15]+a[15&t],i>1&&(c+=a[t>>12&15]+a[t>>8&15]),i>2&&(c+=a[t>>20&15]+a[t>>16&15])),c},T.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)c[o]=r[s];o%e==0&&R(r)}return i&&(c[s]=r[s],t=t.slice(0,a)),t},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,c=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],c[t]=255&e,c[t+1]=e>>8&255,c[t+2]=e>>16&255,c[t+3]=e>>24&255;a%r==0&&R(n)}return s&&(t=a<<2,e=n[o],c[t]=255&e,s>1&&(c[t+1]=e>>8&255),s>2&&(c[t+2]=e>>16&255)),c},O.prototype=new T,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var R=function(t){var e,r,n,i,s,o,a,c,u,h,d,f,p,g,m,y,b,w,v,_,E,A,S,x,k,I,M,C,T,O,R,P,N,B,L,D,U,j,F,z,q,H,W,V,$,K,G,Y,Z,J,Q,X,tt,et,rt,nt,it,st,ot,at,ct,ut,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],d=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|u>>>31),r=s^(u<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(h<<1|d>>>31),r=a^(d<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(f<<1|p>>>31),r=u^(p<<1|f>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=d^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],K=t[11]<<4|t[10]>>>28,G=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ct=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,W=t[41]<<18|t[40]>>>14,B=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,R=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,v=t[24]<<11|t[25]>>>21,J=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,x=t[6]<<28|t[7]>>>4,k=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,j=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,X=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,$=t[9]<<27|t[8]>>>5,I=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,A=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=g^~y&w,t[1]=m^~b&v,t[10]=x^~I&C,t[11]=k^~M&T,t[20]=B^~D&j,t[21]=L^~U&F,t[30]=V^~K&Y,t[31]=$^~G&Z,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~w&_,t[3]=b^~v&E,t[12]=I^~C&O,t[13]=M^~T&R,t[22]=D^~j&z,t[23]=U^~F&q,t[32]=K^~Y&J,t[33]=G^~Z&Q,t[42]=nt^~st&at,t[43]=it^~ot&ct,t[4]=w^~_&A,t[5]=v^~E&S,t[14]=C^~O&P,t[15]=T^~R&N,t[24]=j^~z&H,t[25]=F^~q&W,t[34]=Y^~J&X,t[35]=Z^~Q&tt,t[44]=st^~at&ut,t[45]=ot^~ct&lt,t[6]=_^~A&g,t[7]=E^~S&m,t[16]=O^~P&x,t[17]=R^~N&k,t[26]=z^~H&B,t[27]=q^~W&L,t[36]=J^~X&V,t[37]=Q^~tt&$,t[46]=at^~ut&et,t[47]=ct^~lt&rt,t[8]=A^~g&y,t[9]=S^~m&b,t[18]=P^~x&I,t[19]=N^~k&M,t[28]=H^~B&D,t[29]=W^~L&U,t[38]=X^~V&K,t[39]=tt^~$&G,t[48]=ut^~et&nt,t[49]=lt^~rt&it,t[0]^=l[n],t[1]^=l[n+1]};if(s)t.exports=E;else for(S=0;S<A.length;++S)n[A[S]]=E[A[S]]}()}(Nc);var Bc=Nc.exports;let Lc=!1,Dc=!1;const Uc={debug:1,default:2,info:2,warning:3,error:4,off:5};let jc=Uc.default,Fc=null;const zc=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var qc,Hc;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(qc||(qc={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Hc||(Hc={}));const Wc="0123456789abcdef";class Vc{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Uc[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(jc>Uc[r])&&console.log.apply(console,e)}debug(...t){this._log(Vc.levels.DEBUG,t)}info(...t){this._log(Vc.levels.INFO,t)}warn(...t){this._log(Vc.levels.WARNING,t)}makeError(t,e,r){if(Dc)return this.makeError("censored error",e,{});e||(e=Vc.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Wc[e[t]>>4],r+=Wc[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch{n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case Hc.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Hc.CALL_EXCEPTION:case Hc.INSUFFICIENT_FUNDS:case Hc.MISSING_NEW:case Hc.NONCE_EXPIRED:case Hc.REPLACEMENT_UNDERPRICED:case Hc.TRANSACTION_REPLACED:case Hc.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Vc.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){zc&&this.throwError("platform missing String.prototype.normalize",Vc.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:zc})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Vc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Vc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Vc.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Vc.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",Vc.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Vc.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",Vc.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Fc||(Fc=new Vc("logger/5.7.0")),Fc}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Vc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Lc){if(!t)return;this.globalLogger().throwError("error censorship permanent",Vc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Dc=!!t,Lc=!!e}static setLogLevel(t){const e=Uc[t.toLowerCase()];null!=e?jc=e:Vc.globalLogger().warn("invalid log level - "+t)}static from(t){return new Vc(t)}}Vc.errors=Hc,Vc.levels=qc;const $c=new Vc("bytes/5.7.0");function Kc(t){return!!t.toHexString}function Gc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Yc(t){return"number"==typeof t&&t==t&&t%1==0}function Zc(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!Yc(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Yc(r)||r<0||r>=256)return!1}return!0}function Jc(t,e){if(e||(e={}),"number"==typeof t){$c.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Gc(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Kc(t)&&(t=t.toHexString()),Qc(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":$c.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Gc(new Uint8Array(n))}return Zc(t)?Gc(new Uint8Array(t)):$c.throwArgumentError("invalid arrayify value","value",t)}function Qc(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Xc="0123456789abcdef";function tu(t,e){if(e||(e={}),"number"==typeof t){$c.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Xc[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Kc(t))return t.toHexString();if(Qc(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":$c.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Zc(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Xc[(240&n)>>4]+Xc[15&n]}return e}return $c.throwArgumentError("invalid hexlify value","value",t)}function eu(t,e,r){return"string"!=typeof t?t=tu(t):(!Qc(t)||t.length%2)&&$c.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ru(t,e){for("string"!=typeof t?t=tu(t):Qc(t)||$c.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&$c.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function nu(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(function(t){return Qc(t)&&!(t.length%2)||Zc(t)}(t)){let r=Jc(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=tu(r.slice(0,32)),e.s=tu(r.slice(32,64))):65===r.length?(e.r=tu(r.slice(0,32)),e.s=tu(r.slice(32,64)),e.v=r[64]):$c.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:$c.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=tu(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Jc(t)).length>e&&$c.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Gc(r)}(Jc(e._vs),32);e._vs=tu(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&$c.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=tu(r);null==e.s?e.s=i:e.s!==i&&$c.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?$c.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&$c.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Qc(e.r)?e.r=ru(e.r,32):$c.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Qc(e.s)?e.s=ru(e.s,32):$c.throwArgumentError("signature missing or invalid s","signature",t);const r=Jc(e.s);r[0]>=128&&$c.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=tu(r);e._vs&&(Qc(e._vs)||$c.throwArgumentError("signature invalid _vs","signature",t),e._vs=ru(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&$c.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function iu(t){return"0x"+Bc.keccak_256(Jc(t))}var su={exports:{}},ou=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:ou.Buffer}catch{}function o(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function c(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],l=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(l).toString(t);n=(p=p.idivn(l)).isZero()?g+n:h[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,c=r.words,u=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,b=m>>>13,w=0|o[3],v=8191&w,_=w>>>13,E=0|o[4],A=8191&E,S=E>>>13,x=0|o[5],k=8191&x,I=x>>>13,M=0|o[6],C=8191&M,T=M>>>13,O=0|o[7],R=8191&O,P=O>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],z=8191&F,q=F>>>13,H=0|a[1],W=8191&H,V=H>>>13,$=0|a[2],K=8191&$,G=$>>>13,Y=0|a[3],Z=8191&Y,J=Y>>>13,Q=0|a[4],X=8191&Q,tt=Q>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,gt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,z)|0))<<13)|0;u=((s=Math.imul(d,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,q))+Math.imul(g,z)|0,s=Math.imul(g,q);var yt=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,V)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,q))+Math.imul(b,z)|0,s=Math.imul(b,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,V)|0;var bt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,K)|0))<<13)|0;u=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,q))+Math.imul(_,z)|0,s=Math.imul(_,q),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,G)|0;var wt=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,z),i=(i=Math.imul(A,q))+Math.imul(S,z)|0,s=Math.imul(S,q),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,V)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,q))+Math.imul(I,z)|0,s=Math.imul(I,q),n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,V)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,q))+Math.imul(T,z)|0,s=Math.imul(T,q),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,V)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,G)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,q))+Math.imul(P,z)|0,s=Math.imul(P,q),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,V)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var At=(u+(n=n+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,q))+Math.imul(L,z)|0,s=Math.imul(L,q),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(P,W)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(T,K)|0,s=s+Math.imul(T,G)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ct)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,q))+Math.imul(j,z)|0,s=Math.imul(j,q),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(L,W)|0,s=s+Math.imul(L,V)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,G)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,J)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(v,st)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ct)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,dt)|0;var xt=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,gt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,V))+Math.imul(j,W)|0,s=Math.imul(j,V),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(L,K)|0,s=s+Math.imul(L,G)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(A,st)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,dt)|0;var kt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,G))+Math.imul(j,K)|0,s=Math.imul(j,G),n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Z)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ut)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,J))+Math.imul(j,Z)|0,s=Math.imul(j,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,s=s+Math.imul(P,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(I,ct)|0,s=s+Math.imul(I,ut)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Mt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,gt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,n=n+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(T,ct)|0,s=s+Math.imul(T,ut)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Ct=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(P,ct)|0,s=s+Math.imul(P,ut)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,dt)|0;var Tt=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((s=s+Math.imul(I,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(L,ct)|0,s=s+Math.imul(L,ut)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(P,ht)|0,s=s+Math.imul(P,dt)|0;var Ot=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((s=s+Math.imul(T,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ct),i=(i=Math.imul(U,ut))+Math.imul(j,ct)|0,s=Math.imul(j,ut),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Rt=(u+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,gt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((s=s+Math.imul(P,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Pt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((s=s+Math.imul(L,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(u+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,gt))+Math.imul(j,pt)|0))<<13)|0;return u=((s=Math.imul(j,gt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,c[0]=mt,c[1]=yt,c[2]=bt,c[3]=wt,c[4]=vt,c[5]=_t,c[6]=Et,c[7]=At,c[8]=St,c[9]=xt,c[10]=kt,c[11]=It,c[12]=Mt,c[13]=Ct,c[14]=Tt,c[15]=Ot,c[16]=Rt,c[17]=Pt,c[18]=Nt,0!==u&&(c[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=c;u++){var l=s-u,h=(0|t.words[l])*(0|e.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}Math.imul||(g=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,c=(0|this.words[e])-a<<n;this.words[e]=c|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=n;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s=t.length+n;this._expand(s);var o,a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!=(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,c=n.length-s.length;if("mod"!==e){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(s,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[s.length+h])+(0|n.words[s.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(s,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(s,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),c=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(l),o.isub(h)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(c)):(n.isub(e),a.isub(s),c.isub(o))}return{a,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,n=this,s=t.clone();n=0!==n.negative?n.umod(t):n.clone();for(var o=new i(1),a=new i(0),c=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,l=1;!(n.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;!(s.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(s.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);n.cmp(s)>=0?(n.isub(s),o.isub(a)):(s.isub(n),a.isub(o))}return(e=0===n.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},n(v,w),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,w),n(E,w),n(A,w),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,s),d=this.pow(t,s.addn(1).iushrn(1)),f=this.pow(t,s),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(h,new i(1).iushln(p-m-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=m}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=c-1;l>=0;l--){var h=u>>l&1;s!==r[0]&&(s=this.sqr(s)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===l)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}c=26}return s},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new x(t)},n(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Pc)}(su);var au=su.exports;const cu="bignumber/5.7.0";var uu=au.BN;const lu=new Vc(cu),hu={},du=9007199254740991;let fu=!1;class pu{constructor(t,e){t!==hu&&lu.throwError("cannot call constructor directly; use BigNumber.from",Vc.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return mu(yu(this).fromTwos(t))}toTwos(t){return mu(yu(this).toTwos(t))}abs(){return"-"===this._hex[0]?pu.from(this._hex.substring(1)):this}add(t){return mu(yu(this).add(yu(t)))}sub(t){return mu(yu(this).sub(yu(t)))}div(t){return pu.from(t).isZero()&&bu("division-by-zero","div"),mu(yu(this).div(yu(t)))}mul(t){return mu(yu(this).mul(yu(t)))}mod(t){const e=yu(t);return e.isNeg()&&bu("division-by-zero","mod"),mu(yu(this).umod(e))}pow(t){const e=yu(t);return e.isNeg()&&bu("negative-power","pow"),mu(yu(this).pow(e))}and(t){const e=yu(t);return(this.isNegative()||e.isNeg())&&bu("unbound-bitwise-result","and"),mu(yu(this).and(e))}or(t){const e=yu(t);return(this.isNegative()||e.isNeg())&&bu("unbound-bitwise-result","or"),mu(yu(this).or(e))}xor(t){const e=yu(t);return(this.isNegative()||e.isNeg())&&bu("unbound-bitwise-result","xor"),mu(yu(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&bu("negative-width","mask"),mu(yu(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&bu("negative-width","shl"),mu(yu(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&bu("negative-width","shr"),mu(yu(this).shrn(t))}eq(t){return yu(this).eq(yu(t))}lt(t){return yu(this).lt(yu(t))}lte(t){return yu(this).lte(yu(t))}gt(t){return yu(this).gt(yu(t))}gte(t){return yu(this).gte(yu(t))}isNegative(){return"-"===this._hex[0]}isZero(){return yu(this).isZero()}toNumber(){try{return yu(this).toNumber()}catch{bu("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return lu.throwError("this platform does not support BigInt",Vc.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?fu||(fu=!0,lu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?lu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Vc.errors.UNEXPECTED_ARGUMENT,{}):lu.throwError("BigNumber.toString does not accept parameters",Vc.errors.UNEXPECTED_ARGUMENT,{})),yu(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof pu)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new pu(hu,gu(t)):t.match(/^-?[0-9]+$/)?new pu(hu,gu(new uu(t))):lu.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&bu("underflow","BigNumber.from",t),(t>=du||t<=-du)&&bu("overflow","BigNumber.from",t),pu.from(String(t));const e=t;if("bigint"==typeof e)return pu.from(e.toString());if(Zc(e))return pu.from(tu(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return pu.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Qc(t)||"-"===t[0]&&Qc(t.substring(1))))return pu.from(t)}return lu.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function gu(t){if("string"!=typeof t)return gu(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&lu.throwArgumentError("invalid hex","value",t),"0x00"===(t=gu(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function mu(t){return pu.from(gu(t))}function yu(t){const e=pu.from(t).toHexString();return"-"===e[0]?new uu("-"+e.substring(3),16):new uu(e.substring(2),16)}function bu(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),lu.throwError(t,Vc.errors.NUMERIC_FAULT,n)}const wu=new Vc(cu),vu={},_u=pu.from(0),Eu=pu.from(-1);function Au(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),wu.throwError(t,Vc.errors.NUMERIC_FAULT,i)}let Su="0";for(;Su.length<256;)Su+=Su;function xu(t){if("number"!=typeof t)try{t=pu.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+Su.substring(0,t):wu.throwArgumentError("invalid decimal size","decimals",t)}function ku(t,e){null==e&&(e=0);const r=xu(e),n=(t=pu.from(t)).lt(_u);n&&(t=t.mul(Eu));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+i,n&&(t="-"+t),t}function Iu(t,e){null==e&&(e=0);const r=xu(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&wu.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&wu.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&wu.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Au("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=pu.from(s),c=pu.from(o);let u=a.mul(r).add(c);return n&&(u=u.mul(Eu)),u}class Mu{constructor(t,e,r,n){t!==vu&&wu.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Vc.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=xu(n),Object.freeze(this)}static from(t){if(t instanceof Mu)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||wu.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&wu.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&wu.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&wu.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Mu(vu,e,r,n)}}class Cu{constructor(t,e,r,n){t!==vu&&wu.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Vc.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&wu.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Iu(this._value,this.format.decimals),r=Iu(t._value,t.format.decimals);return Cu.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Iu(this._value,this.format.decimals),r=Iu(t._value,t.format.decimals);return Cu.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Iu(this._value,this.format.decimals),r=Iu(t._value,t.format.decimals);return Cu.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Iu(this._value,this.format.decimals),r=Iu(t._value,t.format.decimals);return Cu.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Cu.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(Tu.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Cu.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(Tu.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&wu.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Cu.from("1"+Su.substring(0,t),this.format),n=Ou.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){return null==t?this._hex:(t%8&&wu.throwArgumentError("invalid byte width","width",t),ru(pu.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Cu.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(pu.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||Qc(t)||"bigint"==typeof t||Zc(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Cu.fromString(ku(t,e),Mu.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Mu.from(e),n=Iu(t,r.decimals);!r.signed&&n.lt(_u)&&Au("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=ru(i,r.width/8));const s=ku(n,r.decimals);return new Cu(vu,i,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Mu.from(e);if(Jc(t).length>r.width/8)throw new Error("overflow");let n=pu.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),s=ku(n,r.decimals);return new Cu(vu,i,s,r)}static from(t,e){if("string"==typeof t)return Cu.fromString(t,e);if(Zc(t))return Cu.fromBytes(t,e);try{return Cu.fromValue(t,0,e)}catch(t){if(t.code!==Vc.errors.INVALID_ARGUMENT)throw t}return wu.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const Tu=Cu.from(1),Ou=Cu.from("0.5"),Ru=new Vc("strings/5.7.0");var Pu,Nu;function Bu(t,e,r,n,i){if(t===Nu.BAD_PREFIX||t===Nu.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Nu.OVERRUN?r.length-e-1:0}function Lu(t,e=Pu.current){e!=Pu.current&&(Ru.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Jc(r)}function Du(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Uu(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Pu||(Pu={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Nu||(Nu={})),Object.freeze({error:function(t,e,r,n,i){return Ru.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Bu,replace:function(t,e,r,n,i){return t===Nu.OVERLONG?(n.push(i),0):(n.push(65533),Bu(t,e,r))}}),Uu("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Du("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Du("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Du("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Uu("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const ju="hash/5.7.0";function Fu(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function zu(t){return 1&t?~t>>1:t>>1}function qu(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Hu(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=zu(e());return r}function Wu(t,e){let r=qu(t(),t),n=t(),i=qu(n,t),s=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let t=0;t<n;t++)for(let e=0;e<s[t];e++)r.push(i[t]+e);return e?r.map((t=>e[t])):r}function Vu(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)Hu(t,r).forEach(((t,e)=>n[e].push(t)));return n}function $u(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return Fu(Vu(i.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))})))}function Ku(t,e){return Vu(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Gu=function(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let t=1;t<n;t++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return 0==c&&(u=u<<8|t[e++],c=8),u>>--c&1}const h=Math.pow(2,31),d=h>>>1,f=d>>1,p=h-1;let g=0;for(let t=0;t<31;t++)g=g<<1|l();let m=[],y=0,b=h;for(;;){let t=Math.floor(((g-y+1)*i-1)/b),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;m.push(e);let o=y+Math.floor(b*s[e]/i),a=y+Math.floor(b*s[e+1]/i)-1;for(;!((o^a)&d);)g=g<<1&p|l(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&d|g<<1&p>>>1|l(),o=o<<1^d,a=(a^d)<<1|d|1;y=o,b=1+a-o}let w=n-4;return m.map((e=>{switch(e-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return e-1}}))}(t))}(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Jc(e)}("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="));function Yu(t){return"string"==typeof t&&(t=Lu(t)),iu(function(t){const e=t.map((t=>Jc(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Gc(n)}([Lu("Ethereum Signed Message:\n"),Lu(String(t.length)),t]))}new Set(Wu(Gu)),new Set(Wu(Gu)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push($u(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Ku(r,t))}!function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}}(Fu(e))}(Gu),function(t){let e=Wu(t).sort(((t,e)=>t-e));!function r(){let n=[];for(;;){let i=Wu(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),s=i%3;i=i/3|0;let o=!!(1&i);return i>>=1,{branches:n,valid:s,fe0f:o,save:1==i,check:2==i}}()}(Gu),new Vc(ju),new Uint8Array(32).fill(0),new Vc("rlp/5.7.0");const Zu=new Vc("address/5.7.0");function Ju(t){Qc(t,20)||Zu.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Jc(iu(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Qu={};for(let t=0;t<10;t++)Qu[String(t)]=String(t);for(let t=0;t<26;t++)Qu[String.fromCharCode(65+t)]=String(10+t);const Xu=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function tl(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new Vc("properties/5.7.0"),new Vc(ju),new Uint8Array(32).fill(0),pu.from(-1);const el=pu.from(0),rl=pu.from(1);pu.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ru(rl.toHexString(),32),ru(el.toHexString(),32);var nl={},il={},sl=ol;function ol(t,e){if(!t)throw new Error(e||"Assertion failed")}ol.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var al={exports:{}};"function"==typeof Object.create?al.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:al.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var cl=sl,ul=al.exports;function ll(t,e){return!(55296!=(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function hl(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function dl(t){return 1===t.length?"0"+t:t}function fl(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}il.inherits=ul,il.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):ll(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},il.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=dl(t[r].toString(16));return e},il.htonl=hl,il.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=hl(i)),r+=fl(i.toString(16))}return r},il.zero2=dl,il.zero8=fl,il.join32=function(t,e,r,n){var i=r-e;cl(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;c="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s},il.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},il.rotr32=function(t,e){return t>>>e|t<<32-e},il.rotl32=function(t,e){return t<<e|t>>>32-e},il.sum32=function(t,e){return t+e>>>0},il.sum32_3=function(t,e,r){return t+e+r>>>0},il.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},il.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},il.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},il.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},il.sum64_lo=function(t,e,r,n){return e+n>>>0},il.sum64_4_hi=function(t,e,r,n,i,s,o,a){var c=0,u=e;return c+=(u=u+n>>>0)<e?1:0,c+=(u=u+s>>>0)<s?1:0,t+r+i+o+(c+=(u=u+a>>>0)<a?1:0)>>>0},il.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},il.sum64_5_hi=function(t,e,r,n,i,s,o,a,c,u){var l=0,h=e;return l+=(h=h+n>>>0)<e?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+a>>>0)<a?1:0,t+r+i+o+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},il.sum64_5_lo=function(t,e,r,n,i,s,o,a,c,u){return e+n+s+a+u>>>0},il.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},il.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},il.shr64_hi=function(t,e,r){return t>>>r},il.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var pl={},gl=il,ml=sl;function yl(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}pl.BlockHash=yl,yl.prototype.update=function(t,e){if(t=gl.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=gl.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},yl.prototype.digest=function(t){return this.update(this._pad()),ml(null===this.pending),this._digest(t)},yl.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var bl={},wl={},vl=il.rotr32;function _l(t,e,r){return t&e^~t&r}function El(t,e,r){return t&e^t&r^e&r}function Al(t,e,r){return t^e^r}wl.ft_1=function(t,e,r,n){return 0===t?_l(e,r,n):1===t||3===t?Al(e,r,n):2===t?El(e,r,n):void 0},wl.ch32=_l,wl.maj32=El,wl.p32=Al,wl.s0_256=function(t){return vl(t,2)^vl(t,13)^vl(t,22)},wl.s1_256=function(t){return vl(t,6)^vl(t,11)^vl(t,25)},wl.g0_256=function(t){return vl(t,7)^vl(t,18)^t>>>3},wl.g1_256=function(t){return vl(t,17)^vl(t,19)^t>>>10};var Sl=il,xl=pl,kl=wl,Il=Sl.rotl32,Ml=Sl.sum32,Cl=Sl.sum32_5,Tl=kl.ft_1,Ol=xl.BlockHash,Rl=[1518500249,1859775393,2400959708,3395469782];function Pl(){if(!(this instanceof Pl))return new Pl;Ol.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Sl.inherits(Pl,Ol);var Nl=Pl;Pl.blockSize=512,Pl.outSize=160,Pl.hmacStrength=80,Pl.padLength=64,Pl.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Il(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=Cl(Il(i,5),Tl(u,s,o,a),c,r[n],Rl[u]);c=a,a=o,o=Il(s,30),s=i,i=l}this.h[0]=Ml(this.h[0],i),this.h[1]=Ml(this.h[1],s),this.h[2]=Ml(this.h[2],o),this.h[3]=Ml(this.h[3],a),this.h[4]=Ml(this.h[4],c)},Pl.prototype._digest=function(t){return"hex"===t?Sl.toHex32(this.h,"big"):Sl.split32(this.h,"big")};var Bl=il,Ll=pl,Dl=wl,Ul=sl,jl=Bl.sum32,Fl=Bl.sum32_4,zl=Bl.sum32_5,ql=Dl.ch32,Hl=Dl.maj32,Wl=Dl.s0_256,Vl=Dl.s1_256,$l=Dl.g0_256,Kl=Dl.g1_256,Gl=Ll.BlockHash,Yl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Zl(){if(!(this instanceof Zl))return new Zl;Gl.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Yl,this.W=new Array(64)}Bl.inherits(Zl,Gl);var Jl=Zl;Zl.blockSize=512,Zl.outSize=256,Zl.hmacStrength=192,Zl.padLength=64,Zl.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Fl(Kl(r[n-2]),r[n-7],$l(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(Ul(this.k.length===r.length),n=0;n<r.length;n++){var d=zl(h,Vl(c),ql(c,u,l),this.k[n],r[n]),f=jl(Wl(i),Hl(i,s,o));h=l,l=u,u=c,c=jl(a,d),a=o,o=s,s=i,i=jl(d,f)}this.h[0]=jl(this.h[0],i),this.h[1]=jl(this.h[1],s),this.h[2]=jl(this.h[2],o),this.h[3]=jl(this.h[3],a),this.h[4]=jl(this.h[4],c),this.h[5]=jl(this.h[5],u),this.h[6]=jl(this.h[6],l),this.h[7]=jl(this.h[7],h)},Zl.prototype._digest=function(t){return"hex"===t?Bl.toHex32(this.h,"big"):Bl.split32(this.h,"big")};var Ql=il,Xl=Jl;function th(){if(!(this instanceof th))return new th;Xl.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ql.inherits(th,Xl);var eh=th;th.blockSize=512,th.outSize=224,th.hmacStrength=192,th.padLength=64,th.prototype._digest=function(t){return"hex"===t?Ql.toHex32(this.h.slice(0,7),"big"):Ql.split32(this.h.slice(0,7),"big")};var rh=il,nh=pl,ih=sl,sh=rh.rotr64_hi,oh=rh.rotr64_lo,ah=rh.shr64_hi,ch=rh.shr64_lo,uh=rh.sum64,lh=rh.sum64_hi,hh=rh.sum64_lo,dh=rh.sum64_4_hi,fh=rh.sum64_4_lo,ph=rh.sum64_5_hi,gh=rh.sum64_5_lo,mh=nh.BlockHash,yh=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function bh(){if(!(this instanceof bh))return new bh;mh.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=yh,this.W=new Array(160)}rh.inherits(bh,mh);var wh=bh;function vh(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function _h(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Eh(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function Ah(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function Sh(t,e){var r=sh(t,e,28)^sh(e,t,2)^sh(e,t,7);return r<0&&(r+=4294967296),r}function xh(t,e){var r=oh(t,e,28)^oh(e,t,2)^oh(e,t,7);return r<0&&(r+=4294967296),r}function kh(t,e){var r=sh(t,e,14)^sh(t,e,18)^sh(e,t,9);return r<0&&(r+=4294967296),r}function Ih(t,e){var r=oh(t,e,14)^oh(t,e,18)^oh(e,t,9);return r<0&&(r+=4294967296),r}function Mh(t,e){var r=sh(t,e,1)^sh(t,e,8)^ah(t,e,7);return r<0&&(r+=4294967296),r}function Ch(t,e){var r=oh(t,e,1)^oh(t,e,8)^ch(t,e,7);return r<0&&(r+=4294967296),r}function Th(t,e){var r=sh(t,e,19)^sh(e,t,29)^ah(t,e,6);return r<0&&(r+=4294967296),r}function Oh(t,e){var r=oh(t,e,19)^oh(e,t,29)^ch(t,e,6);return r<0&&(r+=4294967296),r}bh.blockSize=1024,bh.outSize=512,bh.hmacStrength=192,bh.padLength=128,bh.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Th(r[n-4],r[n-3]),s=Oh(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=Mh(r[n-30],r[n-29]),u=Ch(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=dh(i,s,o,a,c,u,l,h),r[n+1]=fh(i,s,o,a,c,u,l,h)}},bh.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];ih(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=y,_=b,E=kh(h,d),A=Ih(h,d),S=vh(h,0,f,0,g),x=_h(0,d,0,p,0,m),k=this.k[w],I=this.k[w+1],M=r[w],C=r[w+1],T=ph(v,_,E,A,S,x,k,I,M,C),O=gh(v,_,E,A,S,x,k,I,M,C);v=Sh(n,i),_=xh(n,i),E=Eh(n,0,s,0,a),A=Ah(0,i,0,o,0,c);var R=lh(v,_,E,A),P=hh(v,_,E,A);y=g,b=m,g=f,m=p,f=h,p=d,h=lh(u,l,T,O),d=hh(l,l,T,O),u=a,l=c,a=s,c=o,s=n,o=i,n=lh(T,O,R,P),i=hh(T,O,R,P)}uh(this.h,0,n,i),uh(this.h,2,s,o),uh(this.h,4,a,c),uh(this.h,6,u,l),uh(this.h,8,h,d),uh(this.h,10,f,p),uh(this.h,12,g,m),uh(this.h,14,y,b)},bh.prototype._digest=function(t){return"hex"===t?rh.toHex32(this.h,"big"):rh.split32(this.h,"big")};var Rh=il,Ph=wh;function Nh(){if(!(this instanceof Nh))return new Nh;Ph.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Rh.inherits(Nh,Ph);var Bh=Nh;Nh.blockSize=1024,Nh.outSize=384,Nh.hmacStrength=192,Nh.padLength=128,Nh.prototype._digest=function(t){return"hex"===t?Rh.toHex32(this.h.slice(0,12),"big"):Rh.split32(this.h.slice(0,12),"big")},bl.sha1=Nl,bl.sha224=eh,bl.sha256=Jl,bl.sha384=Bh,bl.sha512=wh;var Lh={},Dh=il,Uh=pl,jh=Dh.rotl32,Fh=Dh.sum32,zh=Dh.sum32_3,qh=Dh.sum32_4,Hh=Uh.BlockHash;function Wh(){if(!(this instanceof Wh))return new Wh;Hh.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Vh(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function $h(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Kh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Dh.inherits(Wh,Hh),Lh.ripemd160=Wh,Wh.blockSize=512,Wh.outSize=160,Wh.hmacStrength=192,Wh.padLength=64,Wh.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,c=n,u=i,l=s,h=o,d=0;d<80;d++){var f=Fh(jh(qh(r,Vh(d,n,i,s),t[Gh[d]+e],$h(d)),Zh[d]),o);r=o,o=s,s=jh(i,10),i=n,n=f,f=Fh(jh(qh(a,Vh(79-d,c,u,l),t[Yh[d]+e],Kh(d)),Jh[d]),h),a=h,h=l,l=jh(u,10),u=c,c=f}f=zh(this.h[1],i,l),this.h[1]=zh(this.h[2],s,h),this.h[2]=zh(this.h[3],o,a),this.h[3]=zh(this.h[4],r,c),this.h[4]=zh(this.h[0],n,u),this.h[0]=f},Wh.prototype._digest=function(t){return"hex"===t?Dh.toHex32(this.h,"little"):Dh.split32(this.h,"little")};var Gh=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Yh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Zh=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Jh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Qh=il,Xh=sl;function td(t,e,r){if(!(this instanceof td))return new td(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Qh.toArray(e,r))}var ed=td;function rd(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},r.exports),r.exports}td.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Xh(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},td.prototype.update=function(t,e){return this.inner.update(t,e),this},td.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=il,e.common=pl,e.sha=bl,e.ripemd=Lh,e.hmac=ed,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(nl);var nd=id;function id(t,e){if(!t)throw new Error(e||"Assertion failed")}id.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var sd=rd((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),od=rd((function(t,e){var r=e;r.assert=nd,r.toArray=sd.toArray,r.zero2=sd.zero2,r.toHex=sd.toHex,r.encode=sd.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,c=s.andln(i-1);s.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,c=t.andln(3)+i&3,u=e.andln(3)+s&3;3===c&&(c=-1),3===u&&(u=-1),o=1&c?3!=(n=t.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(o),a=1&u?3!=(n=e.andln(7)+s&7)&&5!==n||2!==c?u:-u:0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new au(t,"hex","le")}})),ad=od.getNAF,cd=od.getJSF,ud=od.assert;function ld(t,e){this.type=t,this.p=new au(e.p,16),this.red=e.prime?au.red(e.prime):au.mont(this.p),this.zero=new au(0).toRed(this.red),this.one=new au(1).toRed(this.red),this.two=new au(2).toRed(this.red),this.n=e.n&&new au(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var hd=ld;function dd(t,e){this.curve=t,this.type=e,this.precomputed=null}ld.prototype.point=function(){throw new Error("Not implemented")},ld.prototype.validate=function(){throw new Error("Not implemented")},ld.prototype._fixedNafMul=function(t,e){ud(t.precomputed);var r=t._getDoubles(),n=ad(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var c=s+r.step-1;c>=s;c--)o=(o<<1)+n[c];a.push(o)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?l=l.mixedAdd(r.points[s]):o===-h&&(l=l.mixedAdd(r.points[s].neg()));u=u.add(l)}return u.toP()},ld.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=ad(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var c=0;a>=0&&0===s[a];a--)c++;if(a>=0&&c++,o=o.dblp(c),a<0)break;var u=s[a];ud(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},ld.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,c=this._wnafT1,u=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var d=(a=e[s])._getNAFPoints(t);c[s]=d.wnd,u[s]=d.points}for(s=n-1;s>=1;s-=2){var f=s-1,p=s;if(1===c[f]&&1===c[p]){var g=[e[f],null,null,e[p]];0===e[f].y.cmp(e[p].y)?(g[1]=e[f].add(e[p]),g[2]=e[f].toJ().mixedAdd(e[p].neg())):0===e[f].y.cmp(e[p].y.redNeg())?(g[1]=e[f].toJ().mixedAdd(e[p]),g[2]=e[f].add(e[p].neg())):(g[1]=e[f].toJ().mixedAdd(e[p]),g[2]=e[f].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=cd(r[f],r[p]);for(h=Math.max(y[0].length,h),l[f]=new Array(h),l[p]=new Array(h),o=0;o<h;o++){var b=0|y[0][o],w=0|y[1][o];l[f][o]=m[3*(b+1)+(w+1)],l[p][o]=0,u[f]=g}}else l[f]=ad(r[f],c[f],this._bitLength),l[p]=ad(r[p],c[p],this._bitLength),h=Math.max(l[f].length,h),h=Math.max(l[p].length,h)}var v=this.jpoint(null,null,null),_=this._wnafT4;for(s=h;s>=0;s--){for(var E=0;s>=0;){var A=!0;for(o=0;o<n;o++)_[o]=0|l[o][s],0!==_[o]&&(A=!1);if(!A)break;E++,s--}if(s>=0&&E++,v=v.dblp(E),s<0)break;for(o=0;o<n;o++){var S=_[o];0!==S&&(S>0?a=u[o][S-1>>1]:S<0&&(a=u[o][-S-1>>1].neg()),v="affine"===a.type?v.mixedAdd(a):v.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?v:v.toP()},ld.BasePoint=dd,dd.prototype.eq=function(){throw new Error("Not implemented")},dd.prototype.validate=function(){return this.curve.validate(this)},ld.prototype.decodePoint=function(t,e){t=od.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?ud(t[t.length-1]%2==0):7===t[0]&&ud(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},dd.prototype.encodeCompressed=function(t){return this.encode(t,!0)},dd.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},dd.prototype.encode=function(t,e){return od.encode(this._encode(e),t)},dd.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},dd.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},dd.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},dd.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},dd.prototype._getBeta=function(){return null},dd.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var fd=rd((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),pd=od.assert;function gd(t){hd.call(this,"short",t),this.a=new au(t.a,16).toRed(this.red),this.b=new au(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fd(gd,hd);var md=gd;function yd(t,e,r,n){hd.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new au(e,16),this.y=new au(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function bd(t,e,r,n){hd.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new au(0)):(this.x=new au(e,16),this.y=new au(r,16),this.z=new au(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gd.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new au(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new au(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],pd(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new au(t.a,16),b:new au(t.b,16)}})):this._getEndoBasis(r)}}},gd.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:au.mont(t),r=new au(2).toRed(e).redInvm(),n=r.redNeg(),i=new au(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},gd.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,d=this.n.clone(),f=new au(1),p=new au(0),g=new au(0),m=new au(1),y=0;0!==h.cmpn(0);){var b=d.div(h);c=d.sub(b.mul(h)),u=g.sub(b.mul(f));var w=m.sub(b.mul(p));if(!n&&c.cmp(l)<0)e=a.neg(),r=f,n=c.neg(),i=u;else if(n&&2==++y)break;a=c,d=h,h=c,g=f,f=u,m=p,p=w}s=c.neg(),o=u;var v=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(v)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},gd.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:c.add(u).neg()}},gd.prototype.pointFromX=function(t,e){(t=new au(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},gd.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},gd.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},fd(yd,hd.BasePoint),gd.prototype.point=function(t,e,r){return new yd(this,t,e,r)},gd.prototype.pointFromJSON=function(t,e){return yd.fromJSON(this,t,e)},yd.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},yd.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},yd.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},yd.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},yd.prototype.isInfinity=function(){return this.inf},yd.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},yd.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},yd.prototype.getX=function(){return this.x.fromRed()},yd.prototype.getY=function(){return this.y.fromRed()},yd.prototype.mul=function(t){return t=new au(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},yd.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},yd.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},yd.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},yd.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},yd.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},fd(bd,hd.BasePoint),gd.prototype.jpoint=function(t,e,r){return new bd(this,t,e,r)},bd.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},bd.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},bd.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=n.redMul(u),d=c.redSqr().redIAdd(l).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,p)},bd.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=r.redMul(c),h=a.redSqr().redIAdd(u).redISub(l).redISub(l),d=a.redMul(l.redISub(h)).redISub(i.redMul(u)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},bd.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var l=s.redSqr(),h=u.redSqr(),d=h.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=f.redMul(m);y=y.redIAdd(y).redISub(d);var b=u.redMul(a);e+1<t&&(c=c.redMul(d)),s=g,a=b,u=y}return this.curve.jpoint(s,u.redMul(i),a)},bd.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},bd.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=c,e=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(l).redISub(d);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(f).redISub(f),e=p.redMul(f.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},bd.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);t=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);t=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=f.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},bd.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),c=e.redAdd(e),u=(c=c.redIAdd(c)).redMul(o),l=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,p)},bd.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},bd.prototype.mul=function(t,e){return t=new au(t,e),this.curve._wnafMul(this,t)},bd.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},bd.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},bd.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},bd.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var wd=rd((function(t,e){var r=e;r.base=hd,r.short=md,r.mont=null,r.edwards=null})),vd=rd((function(t,e){var r,n=e,i=od.assert;function s(t){"short"===t.type?this.curve=new wd.short(t):"edwards"===t.type?this.curve=new wd.edwards(t):this.curve=new wd.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:nl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:nl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:nl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:nl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:nl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:nl.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:nl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:nl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function _d(t){if(!(this instanceof _d))return new _d(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=sd.toArray(t.entropy,t.entropyEnc||"hex"),r=sd.toArray(t.nonce,t.nonceEnc||"hex"),n=sd.toArray(t.pers,t.persEnc||"hex");nd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Ed=_d;_d.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},_d.prototype._hmac=function(){return new nl.hmac(this.hash,this.K)},_d.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},_d.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=sd.toArray(t,e),r=sd.toArray(r,n),nd(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},_d.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=sd.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,sd.encode(s,e)};var Ad=od.assert;function Sd(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var xd=Sd;Sd.fromPublic=function(t,e,r){return e instanceof Sd?e:new Sd(t,{pub:e,pubEnc:r})},Sd.fromPrivate=function(t,e,r){return e instanceof Sd?e:new Sd(t,{priv:e,privEnc:r})},Sd.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Sd.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Sd.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Sd.prototype._importPrivate=function(t,e){this.priv=new au(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Sd.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Ad(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&Ad(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Sd.prototype.derive=function(t){return t.validate()||Ad(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Sd.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Sd.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Sd.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kd=od.assert;function Id(t,e){if(t instanceof Id)return t;this._importDER(t,e)||(kd(t.r&&t.s,"Signature without r or s"),this.r=new au(t.r,16),this.s=new au(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Md=Id;function Cd(){this.place=0}function Td(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function Od(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Rd(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Id.prototype._importDER=function(t,e){t=od.toArray(t,e);var r=new Cd;if(48!==t[r.place++])return!1;var n=Td(t,r);if(!1===n||n+r.place!==t.length||2!==t[r.place++])return!1;var i=Td(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=Td(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new au(s),this.s=new au(a),this.recoveryParam=null,!0},Id.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Od(e),r=Od(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Rd(n,e.length),(n=n.concat(e)).push(2),Rd(n,r.length);var i=n.concat(r),s=[48];return Rd(s,i.length),s=s.concat(i),od.encode(s,t)};var Pd=function(){throw new Error("unsupported")},Nd=od.assert;function Bd(t){if(!(this instanceof Bd))return new Bd(t);"string"==typeof t&&(Nd(Object.prototype.hasOwnProperty.call(vd,t),"Unknown curve "+t),t=vd[t]),t instanceof vd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ld=Bd;Bd.prototype.keyPair=function(t){return new xd(this,t)},Bd.prototype.keyFromPrivate=function(t,e){return xd.fromPrivate(this,t,e)},Bd.prototype.keyFromPublic=function(t,e){return xd.fromPublic(this,t,e)},Bd.prototype.genKeyPair=function(t){t||(t={});for(var e=new Ed({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Pd(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new au(2));;){var i=new au(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Bd.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Bd.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new au(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new Ed({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new au(1)),u=0;;u++){var l=n.k?n.k(u):new au(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var d=h.getX(),f=d.umod(this.n);if(0!==f.cmpn(0)){var p=l.invm(this.n).mul(f.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==d.cmp(f)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new Md({r:f,s:p,recoveryParam:g})}}}}}},Bd.prototype.verify=function(t,e,r,n){t=this._truncateToN(new au(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Md(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),c=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},Bd.prototype.recoverPubKey=function(t,e,r,n){Nd((3&r)===r,"The recovery param is more than two bits"),e=new Md(e,n);var i=this.n,s=new au(t),o=e.r,a=e.s,c=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),c):this.curve.pointFromX(o,c);var l=e.r.invm(i),h=i.sub(s).mul(l).umod(i),d=a.mul(l).umod(i);return this.g.mulAdd(h,o,d)},Bd.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Md(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Dd=rd((function(t,e){var r=e;r.version="6.5.4",r.utils=od,r.rand=function(){throw new Error("unsupported")},r.curve=wd,r.curves=vd,r.ec=Ld,r.eddsa=null})).ec;const Ud=new Vc("signing-key/5.7.0");let jd=null;function Fd(){return jd||(jd=new Dd("secp256k1")),jd}class zd{constructor(t){tl(this,"curve","secp256k1"),tl(this,"privateKey",tu(t)),32!==function(t){if("string"!=typeof t)t=tu(t);else if(!Qc(t)||t.length%2)return null;return(t.length-2)/2}(this.privateKey)&&Ud.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Fd().keyFromPrivate(Jc(this.privateKey));tl(this,"publicKey","0x"+e.getPublic(!1,"hex")),tl(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),tl(this,"_isSigningKey",!0)}_addPoint(t){const e=Fd().keyFromPublic(Jc(this.publicKey)),r=Fd().keyFromPublic(Jc(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Fd().keyFromPrivate(Jc(this.privateKey)),r=Jc(t);32!==r.length&&Ud.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return nu({recoveryParam:n.recoveryParam,r:ru("0x"+n.r.toString(16),32),s:ru("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Fd().keyFromPrivate(Jc(this.privateKey)),r=Fd().keyFromPublic(Jc(qd(t)));return ru("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function qd(t,e){const r=Jc(t);if(32===r.length){const t=new zd(r);return e?"0x"+Fd().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?tu(r):"0x"+Fd().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Fd().keyFromPublic(r).getPublic(!0,"hex"):tu(r):Ud.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Hd;function Wd(t,e){return function(t){return function(t){let e=null;if("string"!=typeof t&&Zu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Ju(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Zu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Qu[t])).join("");for(;e.length>=Xu;){let t=e.substring(0,Xu);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Zu.throwArgumentError("bad icap checksum","address",t),e=function(t){return new uu(t,36).toString(16)}(t.substring(4));e.length<40;)e="0"+e;e=Ju("0x"+e)}else Zu.throwArgumentError("invalid address","address",t);return e}(eu(iu(eu(qd(t),1)),12))}(function(t,e){const r=nu(e),n={r:Jc(r.r),s:Jc(r.s)};return"0x"+Fd().recoverPubKey(Jc(t),n,r.recoveryParam).encode("hex",!1)}(Jc(t),e))}new Vc("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Hd||(Hd={}));var Vd=Object.defineProperty,$d=Object.defineProperties,Kd=Object.getOwnPropertyDescriptors,Gd=Object.getOwnPropertySymbols,Yd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,Jd=(t,e,r)=>e in t?Vd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;const Qd=t=>t?.split(":"),Xd=t=>{const e=t&&Qd(t);if(e)return t.includes("did:pkh:")?e[3]:e[1]},tf=t=>{const e=t&&Qd(t);if(e)return e[2]+":"+e[3]},ef=t=>{const e=t&&Qd(t);if(e)return e.pop()};async function rf(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=nf(i,i.iss),o=ef(i.iss);return await async function(t,e,r,n,i,s){switch(r.t){case"eip191":return function(t,e,r){return Wd(Yu(e),r).toLowerCase()===t.toLowerCase()}(t,e,r.s);case"eip1271":return await async function(t,e,r,n,i,s){try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),l=o+Yu(e).substring(2)+a+c+u,h=await fetch(`${s||"https://rpc.walletconnect.com/v1"}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:l},"latest"]})}),{result:d}=await h.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(t){return console.error("isValidEip1271Signature: ",t),!1}}(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}(o,s,n,Xd(i.iss),r)}const nf=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=ef(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Xd(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.resources?`Resources:${t.resources.map((t=>`\n- ${t}`)).join("")}`:void 0,h=df(t.resources);return h&&(i=function(t="",e){sf(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;return Object.keys(e.att).forEach((t=>{const r=Object.keys(e.att[t]).map((t=>({ability:t.split("/")[0],action:t.split("/")[1]})));r.sort(((t,e)=>t.action.localeCompare(e.action)));const s={};r.forEach((t=>{s[t.ability]||(s[t.ability]=[]),s[t.ability].push(t.action)}));const o=Object.keys(s).map((e=>(i++,`(${i}) '${e}': '${s[e].join("', '")}' for '${t}'.`)));n.push(o.join(", ").replace(".,","."))})),`${t?t+" ":""}${r}${n.join(" ")}`}(i,cf(h))),[r,n,"",i,"",s,o,a,c,u,l].filter((t=>null!=t)).join("\n")};function sf(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(null==e||!e.length)throw new Error("No resources found in `att` property");e.forEach((e=>{const r=t.att[e];if(Array.isArray(r))throw new Error(`Resource must be an object: ${e}`);if("object"!=typeof r)throw new Error(`Resource must be an object: ${e}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${e}`);Object.keys(r).forEach((t=>{const e=r[t];if(!Array.isArray(e))throw new Error(`Ability limits ${t} must be an array of objects, found: ${e}`);if(!e.length)throw new Error(`Value of ${t} is empty array, must be an array with objects`);e.forEach((e=>{if("object"!=typeof e)throw new Error(`Ability limits (${t}) must be an array of objects, found: ${e}`)}))}))}))}function of(t,e,r={}){e=e?.sort(((t,e)=>t.localeCompare(e)));const n=e.map((e=>({[`${t}/${e}`]:[r]})));return Object.assign({},...n)}function af(t){return sf(t),`urn:recap:${function(t){return Buffer.from(JSON.stringify(t)).toString("base64")}(t).replace(/=/g,"")}`}function cf(t){const e=function(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}(t.replace("urn:recap:",""));return sf(e),e}function uf(t,e){const r=function(t,e){sf(t),sf(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort(((t,e)=>t.localeCompare(e))),n={att:{}};return r.forEach((r=>{var i,s;Object.keys((null==(i=t.att)?void 0:i[r])||{}).concat(Object.keys((null==(s=e.att)?void 0:s[r])||{})).sort(((t,e)=>t.localeCompare(e))).forEach((i=>{var s,o;n.att[r]=((t,e)=>$d(t,Kd(e)))(((t,e)=>{for(var r in e||(e={}))Yd.call(e,r)&&Jd(t,r,e[r]);if(Gd)for(var r of Gd(e))Zd.call(e,r)&&Jd(t,r,e[r]);return t})({},n.att[r]),{[i]:(null==(s=t.att[r])?void 0:s[i])||(null==(o=e.att[r])?void 0:o[i])})}))})),n}(cf(t),cf(e));return af(r)}function lf(t){var e;const r=cf(t);sf(r);const n=null==(e=r.att)?void 0:e.eip155;return n?Object.keys(n).map((t=>t.split("/")[1])):[]}function hf(t){const e=cf(t);sf(e);const r=[];return Object.values(e.att).forEach((t=>{Object.values(t).forEach((t=>{var e;null!=(e=t?.[0])&&e.chains&&r.push(t[0].chains)}))})),[...new Set(r.flat())]}function df(t){if(!t)return;const e=t?.[t.length-1];return function(t){return t&&t.includes("urn:recap:")}(e)?e:void 0}const ff="base10",pf="base16",gf="base64pad",mf="utf8";function yf(){return xr((0,Gt.randomBytes)(32),pf)}function bf(t){return xr((0,Yt.tW)(Sr(t,pf)),pf)}function wf(t){return xr((0,Yt.tW)(Sr(t,mf)),pf)}function vf(t){return Number(xr(t,ff))}function _f(t){const e=Sr(t,gf),r=e.slice(0,1);if(1===vf(r)){const t=33,n=t+12,i=e.slice(1,t),s=e.slice(t,n);return{type:r,sealed:e.slice(n),iv:s,senderPublicKey:i}}const n=e.slice(1,13);return{type:r,sealed:e.slice(13),iv:n}}function Ef(t){const e=t?.type||0;if(1===e){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Af(t){return 1===t.type&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}function Sf(t){return t?.relay||{protocol:"irn"}}function xf(t){const e=sc[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var kf=Object.defineProperty,If=Object.defineProperties,Mf=Object.getOwnPropertyDescriptors,Cf=Object.getOwnPropertySymbols,Tf=Object.prototype.hasOwnProperty,Of=Object.prototype.propertyIsEnumerable,Rf=(t,e,r)=>e in t?kf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pf=(t,e)=>{for(var r in e||(e={}))Tf.call(e,r)&&Rf(t,r,e[r]);if(Cf)for(var r of Cf(e))Of.call(e,r)&&Rf(t,r,e[r]);return t};function Nf(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach((e=>{if(e.startsWith(n)){const i=e.replace(n,""),s=t[e];r[i]=s}})),r}function Bf(t){const e=(t=(t=t.includes("wc://")?t.replace("wc://",""):t).includes("wc:")?t.replace("wc:",""):t).indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Vt.parse(s),a="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:n,topic:Lf(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Nf(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function Lf(t){return t.startsWith("//")?t.substring(2):t}function Df(t){const e=[];return t.forEach((t=>{const[r,n]=t.split(":");e.push(`${r}:${n}`)})),e}function Uf(t){return t.includes(":")}function jf(t){return Uf(t)?t.split(":")[0]:t}function Ff(t,e){e=e.map((t=>t.replace("did:pkh:","")));const r=function(t){const e={};return t?.forEach((t=>{const[r,n]=t.split(":");e[r]||(e[r]={accounts:[],chains:[],events:[]}),e[r].accounts.push(t),e[r].chains.push(`${r}:${n}`)})),e}(e);for(const[e,n]of Object.entries(r))n.methods?n.methods=Rc(n.methods,t):n.methods=t,n.events=["chainChanged","accountsChanged"];return r}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const zf={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},qf={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Hf(t,e){const{message:r,code:n}=qf[t];return{message:e?`${r} ${e}`:r,code:n}}function Wf(t,e){const{message:r,code:n}=zf[t];return{message:e?`${r} ${e}`:r,code:n}}function Vf(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function $f(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Kf(t){return typeof t>"u"}function Gf(t,e){return!(!e||!Kf(t))||"string"==typeof t&&!!t.trim().length}function Yf(t,e){return!(!e||!Kf(t))||"number"==typeof t&&!isNaN(t)}function Zf(t){return!(!Gf(t,!1)||!t.includes(":"))&&2===t.split(":").length}function Jf(t){let e=!0;return Vf(t)?t.length&&(e=t.every((t=>Gf(t,!1)))):e=!1,e}function Qf(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return Jf(t?.methods)?Jf(t?.events)||(r=Wf("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Wf("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}(t,`${e}, namespace`);n&&(r=n)})),r}function Xf(t,e){let r=null;if(t&&$f(t)){const n=Qf(t,e);n&&(r=n);const i=function(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return Vf(t)?t.forEach((t=>{r||function(t){if(Gf(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&Zf(t)}}return!1}(t)||(r=Wf("UNSUPPORTED_ACCOUNTS",`${e}, account ${t} should be a string and conform to "namespace:chainId:address" format`))})):r=Wf("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}(t?.accounts,`${e} namespace`);n&&(r=n)})),r}(t,e);i&&(r=i)}else r=Hf("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function tp(t){return Gf(t.protocol,!0)}function ep(t){return typeof t<"u"&&null!==typeof t}function rp(t,e){return!(!Zf(e)||!function(t){const e=[];return Object.values(t).forEach((t=>{e.push(...Df(t.accounts))})),e}(t).includes(e))}function np(t,e,r){let n=null;const i=function(t){const e={};return Object.keys(t).forEach((r=>{var n;r.includes(":")?e[r]=t[r]:null==(n=t[r].chains)||n.forEach((n=>{e[n]={methods:t[r].methods,events:t[r].events}}))})),e}(t),s=function(t){const e={};return Object.keys(t).forEach((r=>{if(r.includes(":"))e[r]=t[r];else{const n=Df(t[r].accounts);n?.forEach((n=>{e[n]={accounts:t[r].accounts.filter((t=>t.includes(`${n}:`))),methods:t[r].methods,events:t[r].events}}))}})),e}(e),o=Object.keys(i),a=Object.keys(s),c=ip(Object.keys(t)),u=ip(Object.keys(e)),l=c.filter((t=>!u.includes(t)));return l.length&&(n=Hf("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(e).toString()}`)),Ec(o,a)||(n=Hf("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach((t=>{if(!t.includes(":")||n)return;const i=Df(e[t].accounts);i.includes(t)||(n=Hf("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${t}\n        Required: ${t}\n        Approved: ${i.toString()}`))})),o.forEach((t=>{n||(Ec(i[t].methods,s[t].methods)?Ec(i[t].events,s[t].events)||(n=Hf("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${t}`)):n=Hf("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${t}`))})),n}function ip(t){return[...new Set(t.map((t=>t.includes(":")?t.split(":")[0]:t)))]}function sp(){const t=vc();return new Promise((e=>{switch(t){case gc:e(wc()&&navigator?.onLine);break;case pc:e(async function(){if(bc()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo){const t=await(null==__webpack_require__.g?void 0:__webpack_require__.g.NetInfo.fetch());return t?.isConnected}return!0}());break;default:e(!0)}}))}const op={};class ap{static get(t){return op[t]}static set(t,e){op[t]=e}static delete(t){delete op[t]}}const cp="PARSE_ERROR",up="INVALID_REQUEST",lp="METHOD_NOT_FOUND",hp="INVALID_PARAMS",dp="INTERNAL_ERROR",fp="SERVER_ERROR",pp=[-32700,-32600,-32601,-32602,-32603],gp={[cp]:{code:-32700,message:"Parse error"},[up]:{code:-32600,message:"Invalid Request"},[lp]:{code:-32601,message:"Method not found"},[hp]:{code:-32602,message:"Invalid params"},[dp]:{code:-32603,message:"Internal error"},[fp]:{code:-32e3,message:"Server error"}},mp=fp;function yp(t){return Object.keys(gp).includes(t)?gp[t]:gp[mp]}function bp(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var wp=__webpack_require__(5682);function vp(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}function _p(t=6){return BigInt(vp(t))}function Ep(t,e,r){return{id:r||vp(),jsonrpc:"2.0",method:t,params:e}}function Ap(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Sp(t,e,r){return{id:t,jsonrpc:"2.0",error:xp(e,r)}}function xp(t,e){return void 0===t?yp(dp):("string"==typeof t&&(t=Object.assign(Object.assign({},yp(fp)),{message:t})),void 0!==e&&(t.data=e),r=t.code,pp.includes(r)&&(t=function(t){const e=Object.values(gp).find((e=>e.code===t));return e||gp[mp]}(t.code)),t);var r}class kp{}class Ip extends kp{constructor(){super()}}class Mp extends Ip{constructor(t){super()}}function Cp(t,e){const r=function(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return void 0!==r&&new RegExp(e).test(r)}function Tp(t){return Cp(t,"^https?:")}function Op(t){return Cp(t,"^wss?:")}function Rp(t){return"object"==typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function Pp(t){return Rp(t)&&"method"in t}function Np(t){return Rp(t)&&(Bp(t)||Lp(t))}function Bp(t){return"result"in t}function Lp(t){return"error"in t}class Dp extends Mp{constructor(t){super(t),this.events=new qt.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict(Ep(t.method,t.params||[],t.id||_p().toString()),e)}async requestStrict(t,e){return new Promise((async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(t){n(t)}this.events.on(`${t.id}`,(t=>{Lp(t)?n(t.error):r(t.result)}));try{await this.connection.send(t,e)}catch(t){n(t)}}))}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Np(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(t=>this.onPayload(t))),this.connection.on("close",(t=>this.onClose(t))),this.connection.on("error",(t=>this.events.emit("error",t))),this.connection.on("register_error",(t=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const Up=t=>t.split("?")[0],jp=typeof WebSocket<"u"?WebSocket:typeof __webpack_require__.g<"u"&&typeof __webpack_require__.g.WebSocket<"u"?__webpack_require__.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:__webpack_require__(796);class Fp{constructor(t){if(this.url=t,this.events=new qt.EventEmitter,this.registering=!1,!Op(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){return new Promise(((t,e)=>{typeof this.socket>"u"?e(new Error("Connection already closed")):(this.socket.onclose=e=>{this.onClose(e),t()},this.socket.close())}))}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ko(t))}catch(e){this.onError(t.id,e)}}register(t=this.url){if(!Op(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return e(new Error("WebSocket connection is missing or invalid"));t(this.socket)}))}))}return this.url=t,this.registering=!0,new Promise(((e,r)=>{const n=new URLSearchParams(t).get("origin"),i=(0,wp.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:(o=t,!new RegExp("wss?://localhost(:d{2,5})?").test(o))},s=new jp(t,[],i);var o;typeof WebSocket<"u"||typeof __webpack_require__.g<"u"&&typeof __webpack_require__.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?s.onerror=t=>{const e=t;r(this.emitError(e.error))}:s.on("error",(t=>{r(this.emitError(t))})),s.onopen=()=>{this.onOpen(s),e(s)}}))}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?$o(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=Sp(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return bp(t,Up(e),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const e=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${Up(this.url)}`));return this.events.emit("register_error",e),e}}var zp=__webpack_require__(8142),qp=__webpack_require__.n(zp),Hp=__webpack_require__(916),Wp=__webpack_require__.n(Hp),Vp=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===c;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var l=r[t.charCodeAt(e)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*o[d]>>>0,o[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*l+1>>>0,u=new Uint8Array(o);i!==s;){for(var h=e[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===u[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}};const $p=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class Kp{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Gp{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Zp(this,t)}}class Yp{constructor(t){this.decoders=t}or(t){return Zp(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Zp=(t,e)=>new Yp({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Jp{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new Kp(t,e,r),this.decoder=new Gp(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Qp=({name:t,prefix:e,encode:r,decode:n})=>new Jp(t,e,r,n),Xp=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Vp(r,e);return Qp({prefix:t,name:e,encode:n,decode:t=>$p(i(t))})},tg=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Qp({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let e=0;e<s;++e){const s=i[t[e]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,r,t)}),eg=Qp({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var rg=Object.freeze({__proto__:null,identity:eg});const ng=tg({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ig=Object.freeze({__proto__:null,base2:ng});const sg=tg({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var og=Object.freeze({__proto__:null,base8:sg});const ag=Xp({prefix:"9",name:"base10",alphabet:"0123456789"});var cg=Object.freeze({__proto__:null,base10:ag});const ug=tg({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),lg=tg({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var hg=Object.freeze({__proto__:null,base16:ug,base16upper:lg});const dg=tg({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fg=tg({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pg=tg({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gg=tg({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mg=tg({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yg=tg({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bg=tg({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wg=tg({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vg=tg({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _g=Object.freeze({__proto__:null,base32:dg,base32upper:fg,base32pad:pg,base32padupper:gg,base32hex:mg,base32hexupper:yg,base32hexpad:bg,base32hexpadupper:wg,base32z:vg});const Eg=Xp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ag=Xp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Sg=Object.freeze({__proto__:null,base36:Eg,base36upper:Ag});const xg=Xp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kg=Xp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ig=Object.freeze({__proto__:null,base58btc:xg,base58flickr:kg});const Mg=tg({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cg=tg({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Tg=tg({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Og=tg({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Rg=Object.freeze({__proto__:null,base64:Mg,base64pad:Cg,base64url:Tg,base64urlpad:Og});const Pg=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),Ng=Pg.reduce(((t,e,r)=>(t[r]=e,t)),[]),Bg=Pg.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]),Lg=Qp({prefix:"ðŸš€",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+Ng[e]),"")},decode:function(t){const e=[];for(const r of t){const t=Bg[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var Dg=Object.freeze({__proto__:null,base256emoji:Lg}),Ug=128,jg=-128,Fg=Math.pow(2,31),zg=Math.pow(2,7),qg=Math.pow(2,14),Hg=Math.pow(2,21),Wg=Math.pow(2,28),Vg=Math.pow(2,35),$g=Math.pow(2,42),Kg=Math.pow(2,49),Gg=Math.pow(2,56),Yg=Math.pow(2,63),Zg=function t(e,r,n){r=r||[];for(var i=n=n||0;e>=Fg;)r[n++]=255&e|Ug,e/=128;for(;e&jg;)r[n++]=255&e|Ug,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},Jg=function(t){return t<zg?1:t<qg?2:t<Hg?3:t<Wg?4:t<Vg?5:t<$g?6:t<Kg?7:t<Gg?8:t<Yg?9:10};const Qg=(t,e,r=0)=>(Zg(t,e,r),e),Xg=t=>Jg(t),tm=(t,e)=>{const r=e.byteLength,n=Xg(t),i=n+Xg(r),s=new Uint8Array(i+r);return Qg(t,s,0),Qg(r,s,n),s.set(e,i),new em(t,r,e,s)};class em{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const rm=({name:t,code:e,encode:r})=>new nm(t,e,r);class nm{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?tm(this.code,e):e.then((t=>tm(this.code,t)))}throw Error("Unknown type, must be binary type")}}const im=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sm=rm({name:"sha2-256",code:18,encode:im("SHA-256")}),om=rm({name:"sha2-512",code:19,encode:im("SHA-512")});Object.freeze({__proto__:null,sha256:sm,sha512:om});const am=$p,cm={code:0,name:"identity",encode:am,digest:t=>tm(0,am(t))};Object.freeze({__proto__:null,identity:cm}),new TextEncoder,new TextDecoder;const um={...rg,...ig,...og,...cg,...hg,..._g,...Sg,...Ig,...Rg,...Dg};function lm(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const hm=lm("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),dm=lm("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),fm={utf8:hm,"utf-8":hm,hex:um.base16,latin1:dm,ascii:dm,binary:dm,...um},pm="core",gm=`wc@2:${pm}:`,mm={database:":memory:"},ym="client_ed25519_seed",bm=Wt.ONE_DAY,wm=Wt.SIX_HOURS,vm="wss://relay.walletconnect.com",_m="wss://relay.walletconnect.org",Em="relayer_message",Am="relayer_message_ack",Sm="relayer_connection_stalled",xm="relayer_publish",km="payload",Im="connect",Mm="disconnect",Cm="error",Tm=Wt.ONE_SECOND,Om="subscription_created",Rm="subscription_deleted",Pm=1e3*Wt.FIVE_SECONDS,Nm={wc_pairingDelete:{req:{ttl:Wt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Wt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Wt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Wt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Wt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Wt.ONE_DAY,prompt:!1,tag:0}}},Bm="pairing_create",Lm="pairing_delete",Dm="history_created",Um="history_updated",jm="history_deleted",Fm="expirer_created",zm="expirer_deleted",qm="expirer_expired",Hm="verify-api",Wm="https://verify.walletconnect.com",Vm="https://verify.walletconnect.org",$m=[Wm,Vm];class Km{constructor(t,e){this.core=t,this.logger=e,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=gm,this.init=async()=>{if(!this.initialized){const t=await this.getKeyChain();typeof t<"u"&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,e)=>{this.isInitialized(),this.keychain.set(t,e),await this.persist()},this.get=t=>{this.isInitialized();const e=this.keychain.get(t);if(typeof e>"u"){const{message:e}=Hf("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=xa(e,this.name)}get context(){return Sa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Ac(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Sc(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Gm{constructor(t,e,r){this.core=t,this.logger=e,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>(this.isInitialized(),Va($a(await this.getClientSeed()).publicKey)),this.generateKeyPair=()=>{this.isInitialized();const t=function(){const t=Zt.TZ();return{privateKey:xr(t.secretKey,pf),publicKey:xr(t.publicKey,pf)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();const e=$a(await this.getClientSeed()),r=yf(),n=bm;return await async function(t,e,r,n,i=(0,Wt.fromMiliseconds)(Date.now())){const s={alg:"EdDSA",typ:"JWT"},o={iss:Va(n.publicKey),sub:t,aud:e,iat:i,exp:i+r},a=Sr([Wa((c={header:s,payload:o}).header),Wa(c.payload)].join("."),"utf8");var c;return function(t){return[Wa(t.header),Wa(t.payload),(e=t.signature,xr(e,Fa))].join(".");var e}({header:s,payload:o,signature:ja._S(n.secretKey,a)})}(r,t,n,e)},this.generateSharedKey=(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=Zt.Tc(Sr(t,pf),Sr(e,pf),!0);return xr(new Kt.i(Yt.aD,r).expand(32),pf)}(this.getPrivateKey(t),e);return this.setSymKey(n,r)},this.setSymKey=async(t,e)=>{this.isInitialized();const r=e||bf(t);return await this.keychain.set(r,t),r},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,e,r)=>{this.isInitialized();const n=Ef(r),i=Ko(e);if(Af(n)){const e=n.senderPublicKey,r=n.receiverPublicKey;t=await this.generateSharedKey(e,r)}const s=this.getSymKey(t),{type:o,senderPublicKey:a}=n;return function(t){const e=function(t){return Sr(`${t}`,ff)}(typeof t.type<"u"?t.type:0);if(1===vf(e)&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Sr(t.senderPublicKey,pf):void 0,n=typeof t.iv<"u"?Sr(t.iv,pf):(0,Gt.randomBytes)(12);return function(t){if(1===vf(t.type)){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return xr(Qt([t.type,t.senderPublicKey,t.iv,t.sealed]),gf)}return xr(Qt([t.type,t.iv,t.sealed]),gf)}({type:e,sealed:new $t.g6(Sr(t.symKey,pf)).seal(n,Sr(t.message,mf)),iv:n,senderPublicKey:r})}({type:o,symKey:s,message:i,senderPublicKey:a})},this.decode=async(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=_f(t);return Ef({type:vf(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?xr(r.senderPublicKey,pf):void 0,receiverPublicKey:e?.receiverPublicKey})}(e,r);if(Af(n)){const e=n.receiverPublicKey,r=n.senderPublicKey;t=await this.generateSharedKey(e,r)}try{const r=function(t){const e=new $t.g6(Sr(t.symKey,pf)),{sealed:r,iv:n}=_f(t.encoded),i=e.open(n,r);if(null===i)throw new Error("Failed to decrypt");return xr(i,mf)}({symKey:this.getSymKey(t),encoded:e});return $o(r)}catch(e){this.logger.error(`Failed to decode message from topic: '${t}', clientId: '${await this.getClientId()}'`),this.logger.error(e)}},this.getPayloadType=t=>vf(_f(t).type),this.getPayloadSenderPublicKey=t=>{const e=_f(t);return e.senderPublicKey?xr(e.senderPublicKey,pf):void 0},this.core=t,this.logger=xa(e,this.name),this.keychain=r||new Km(this.core,this.logger)}get context(){return Sa(this.logger)}async setPrivateKey(t,e){return await this.keychain.set(t,e),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(ym)}catch{t=yf(),await this.keychain.set(ym,t)}return function(t,e="utf8"){const r=fm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ym extends Ca{constructor(t,e){super(t,e),this.logger=t,this.core=e,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=gm,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const t=await this.getRelayerMessages();typeof t<"u"&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}finally{this.initialized=!0}}},this.set=async(t,e)=>{this.isInitialized();const r=wf(e);let n=this.messages.get(t);return typeof n>"u"&&(n={}),typeof n[r]<"u"||(n[r]=e,this.messages.set(t,n),await this.persist()),r},this.get=t=>{this.isInitialized();let e=this.messages.get(t);return typeof e>"u"&&(e={}),e},this.has=(t,e)=>(this.isInitialized(),typeof this.get(t)[wf(e)]<"u"),this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=xa(t,this.name),this.core=e}get context(){return Sa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Ac(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Sc(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Zm extends Ta{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.events=new qt.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,Wt.toMiliseconds)(Wt.ONE_MINUTE),this.failedPublishTimeout=(0,Wt.toMiliseconds)(Wt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(t,e,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}});const i=r?.ttl||wm,s=Sf(r),o=r?.prompt||!1,a=r?.tag||0,c=r?.id||_p().toString(),u={topic:t,message:e,opts:{ttl:i,relay:s,prompt:o,tag:a,id:c}},l=`Failed to publish payload, please try again. id:${c} tag:${a}`,h=Date.now();let d,f=1;try{for(;void 0===d;){if(Date.now()-h>this.publishTimeout)throw new Error(l);this.logger.trace({id:c,attempts:f},`publisher.publish - attempt ${f}`),d=await await kc(this.rpcPublish(t,e,i,s,o,a,c).catch((t=>this.logger.warn(t))),this.publishTimeout,l),f++,d||await new Promise((t=>setTimeout(t,this.failedPublishTimeout)))}this.relayer.events.emit(xm,u),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:c,topic:t,message:e,opts:r}})}catch(t){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(t),null!=(n=r?.internal)&&n.throwOnFailedPublish)throw t;this.queue.set(c,u)}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.relayer=t,this.logger=xa(e,this.name),this.registerEventListeners()}get context(){return Sa(this.logger)}rpcPublish(t,e,r,n,i,s,o){var a,c,u,l;const h={method:xf(n.protocol).publish,params:{topic:t,message:e,ttl:r,prompt:i,tag:s},id:o};return Kf(null==(a=h.params)?void 0:a.prompt)&&(null==(c=h.params)||delete c.prompt),Kf(null==(u=h.params)?void 0:u.tag)&&(null==(l=h.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach((async t=>{const{topic:e,message:r,opts:n}=t;await this.publish(e,r,n)}))}registerEventListeners(){this.relayer.core.heartbeat.on(ia,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(Sm);this.checkQueue()})),this.relayer.on(Am,(t=>{this.removeRequestFromQueue(t.id.toString())}))}}class Jm{constructor(){this.map=new Map,this.set=(t,e)=>{const r=this.get(t);this.exists(t,e)||this.map.set(t,[...r,e])},this.get=t=>this.map.get(t)||[],this.exists=(t,e)=>this.get(t).includes(e),this.delete=(t,e)=>{if(typeof e>"u")return void this.map.delete(t);if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,e))return;const n=r.filter((t=>t!==e));n.length?this.map.set(t,n):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Qm=Object.defineProperty,Xm=Object.defineProperties,ty=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,ry=Object.prototype.hasOwnProperty,ny=Object.prototype.propertyIsEnumerable,iy=(t,e,r)=>e in t?Qm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sy=(t,e)=>{for(var r in e||(e={}))ry.call(e,r)&&iy(t,r,e[r]);if(ey)for(var r of ey(e))ny.call(e,r)&&iy(t,r,e[r]);return t},oy=(t,e)=>Xm(t,ty(e));class ay extends Pa{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.subscriptions=new Map,this.topicMap=new Jm,this.events=new qt.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=gm,this.subscribeTimeout=(0,Wt.toMiliseconds)(Wt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}});try{const r=Sf(e),n={topic:t,relay:r};this.pending.set(t,n);const i=await this.rpcSubscribe(t,r);return"string"==typeof i&&(this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}})),i}catch(t){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(t),t}},this.unsubscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),typeof e?.id<"u"?await this.unsubscribeById(t,e.id,e):await this.unsubscribeByTopic(t,e)},this.isSubscribed=async t=>{if(this.topics.includes(t))return!0;const e=`${this.pendingSubscriptionWatchLabel}_${t}`;return await new Promise(((r,n)=>{const i=new Wt.Watch;i.start(e);const s=setInterval((()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(s),i.stop(e),r(!0)),i.elapsed(e)>=Pm&&(clearInterval(s),i.stop(e),n(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=xa(e,this.name),this.clientId=""}get context(){return Sa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,e){let r=!1;try{r=this.getSubscription(t).topic===e}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,e){const r=this.topicMap.get(t);await Promise.all(r.map((async r=>await this.unsubscribeById(t,r,e))))}async unsubscribeById(t,e,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}});try{const n=Sf(r);await this.rpcUnsubscribe(t,e,n);const i=Wf("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,e,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}})}catch(t){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(t),t}}async rpcSubscribe(t,e){const r={method:xf(e.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await kc(this.relayer.request(r).catch((t=>this.logger.warn(t))),this.subscribeTimeout)?wf(t+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Sm)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const e={method:xf(t[0].relay.protocol).batchSubscribe,params:{topics:t.map((t=>t.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{return await await kc(this.relayer.request(e).catch((t=>this.logger.warn(t))),this.subscribeTimeout)}catch{this.relayer.events.emit(Sm)}}async rpcBatchFetchMessages(t){if(!t.length)return;const e={method:xf(t[0].relay.protocol).batchFetchMessages,params:{topics:t.map((t=>t.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{r=await await kc(this.relayer.request(e).catch((t=>this.logger.warn(t))),this.subscribeTimeout)}catch{this.relayer.events.emit(Sm)}return r}rpcUnsubscribe(t,e,r){const n={method:xf(r.protocol).unsubscribe,params:{topic:t,id:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,e){this.setSubscription(t,oy(sy({},e),{id:t})),this.pending.delete(e.topic)}onBatchSubscribe(t){t.length&&t.forEach((t=>{this.setSubscription(t.id,sy({},t)),this.pending.delete(t.topic)}))}async onUnsubscribe(t,e,r){this.events.removeAllListeners(e),this.hasSubscription(e,t)&&this.deleteSubscription(e,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,e){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:e}),this.addSubscription(t,e)}addSubscription(t,e){this.subscriptions.set(t,sy({},e)),this.topicMap.set(e.topic,t),this.events.emit(Om,e)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const e=this.subscriptions.get(t);if(!e){const{message:e}=Hf("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}deleteSubscription(t,e){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:e});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Rm,oy(sy({},r),{reason:e}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let e=0;e<t;e++){const t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(t),await this.batchSubscribe(t)}}this.events.emit("subscription_resubscribed")}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:t}=Hf("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const e=await this.rpcBatchSubscribe(t);Vf(e)&&this.onBatchSubscribe(e.map(((e,r)=>oy(sy({},t[r]),{id:e}))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const e=await this.rpcBatchFetchMessages(t);e&&e.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(e.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach((e=>{t.push(e)})),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(ia,(async()=>{await this.checkPending()})),this.events.on(Om,(async t=>{const e=Om;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()})),this.events.on(Rm,(async t=>{const e=Rm;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.restartInProgress||(clearInterval(e),t())}),this.pollingInterval)}))}}var cy=Object.defineProperty,uy=Object.getOwnPropertySymbols,ly=Object.prototype.hasOwnProperty,hy=Object.prototype.propertyIsEnumerable,dy=(t,e,r)=>e in t?cy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;class fy extends Oa{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new qt.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,Wt.toMiliseconds)(Wt.THIRTY_SECONDS+Wt.ONE_SECOND),this.request=async t=>{var e,r;this.logger.debug("Publishing Request Payload");const n=t.id||_p().toString();await this.toEstablishConnection();try{const i=this.provider.request(t);this.requestsInFlight.set(n,{promise:i,request:t}),this.logger.trace({id:n,method:t.method,topic:null==(e=t.params)?void 0:e.topic},"relayer.request - attempt to publish...");const s=await new Promise((async(t,e)=>{const r=()=>{e(new Error(`relayer.request - publish interrupted, id: ${n}`))};this.provider.on(Mm,r);const s=await i;this.provider.off(Mm,r),t(s)}));return this.logger.trace({id:n,method:t.method,topic:null==(r=t.params)?void 0:r.topic},"relayer.request - published"),s}catch(t){throw this.logger.debug(`Failed to Publish Request: ${n}`),t}finally{this.requestsInFlight.delete(n)}},this.resetPingTimeout=()=>{if(yc())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var t,e,r;null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)||r.terminate()}),this.heartBeatTimeout)}catch(t){this.logger.warn(t)}},this.onPayloadHandler=t=>{this.onProviderPayload(t),this.resetPingTimeout()},this.onConnectHandler=()=>{this.startPingTimeout(),this.events.emit("relayer_connect")},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit("relayer_error",t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(km,this.onPayloadHandler),this.provider.on(Im,this.onConnectHandler),this.provider.on(Mm,this.onDisconnectHandler),this.provider.on(Cm,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?xa(t.logger,this.name):aa()(Aa({level:t.logger||"error"})),this.messages=new Ym(this.logger,t.core),this.subscriber=new ay(this,this.logger),this.publisher=new Zm(this,this.logger),this.relayUrl=t?.relayUrl||vm,this.projectId=t.projectId,this.bundleId=function(){var t;try{return bc()&&typeof __webpack_require__.g<"u"&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Application)<"u"?null==(t=__webpack_require__.g.Application)?void 0:t.applicationId:void 0}catch{return}}(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${_m}...`),await this.restartTransport(_m)}this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&0===this.subscriber.pending.size&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return Sa(this.logger)}get connected(){var t,e,r;return 1===(null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)?void 0:r.readyState)}get connecting(){var t,e,r;return 0===(null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)?void 0:r.readyState)}async publish(t,e,r){this.isInitialized(),await this.publisher.publish(t,e,r),await this.recordMessageEvent({topic:t,message:e,publishedAt:Date.now()})}async subscribe(t,e){var r;this.isInitialized();let n,i=(null==(r=this.subscriber.topicMap.get(t))?void 0:r[0])||"";const s=e=>{e.topic===t&&(this.subscriber.off(Om,s),n())};return await Promise.all([new Promise((t=>{n=t,this.subscriber.on(Om,s)})),new Promise((async r=>{i=await this.subscriber.subscribe(t,e)||i,r()}))]),i}async unsubscribe(t,e){this.isInitialized(),await this.subscriber.unsubscribe(t,e)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map((t=>t.promise)))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await kc(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise((async(t,e)=>{const r=()=>{this.provider.off(Mm,r),e(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Mm,r),await kc(this.provider.connect(),(0,Wt.toMiliseconds)(Wt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch((t=>{e(t)})),await this.subscriber.start(),this.hasExperiencedNetworkDisruption=!1,t()}))}catch(t){this.logger.error(t);const e=t;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(e.message))throw t}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await sp())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(0===t?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const e=t.sort(((t,e)=>t.publishedAt-e.publishedAt));this.logger.trace(`Batch of ${e.length} message events sorted`);for(const t of e)try{await this.onMessageEvent(t)}catch(t){this.logger.warn(t)}this.logger.trace(`Batch of ${e.length} message events processed`)}startPingTimeout(){var t,e,r,n,i;if(yc())try{null!=(e=null==(t=this.provider)?void 0:t.connection)&&e.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.once("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(t){this.logger.warn(t)}}isConnectionStalled(t){return this.staleConnectionErrors.some((e=>t.includes(e)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Dp(new Fp(function({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=r.split("?"),u={auth:i,ua:_c(t,e,n),projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},l=function(t,e){let r=Vt.parse(t);return r=fc(fc({},r),e),Vt.stringify(r)}(c[1]||"",u);return c[0]+"?"+l}({sdkVersion:"2.13.3",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:e,message:r}=t;await this.messages.set(e,r)}async shouldIgnoreMessageEvent(t){const{topic:e,message:r}=t;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(e))return this.logger.debug(`Ignoring message for non-subscribed topic ${e}`),!0;const n=this.messages.has(e,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Pp(t)){if(!t.method.endsWith("_subscription"))return;const e=t.params,{topic:r,message:n,publishedAt:i}=e.data,s={topic:r,message:n,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((t,e)=>{for(var r in e||(e={}))ly.call(e,r)&&dy(t,r,e[r]);if(uy)for(var r of uy(e))hy.call(e,r)&&dy(t,r,e[r]);return t})({type:"event",event:e.id},s)),this.events.emit(e.id,s),await this.acknowledgePayload(t),await this.onMessageEvent(s)}else Np(t)&&this.events.emit(Am,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Em,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const e=Ap(t.id,!0);await this.provider.connection.send(e)}unregisterProviderListeners(){this.provider.off(km,this.onPayloadHandler),this.provider.off(Im,this.onConnectHandler),this.provider.off(Mm,this.onDisconnectHandler),this.provider.off(Cm,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await sp();!function(t){switch(vc()){case gc:!function(t){!bc()&&wc()&&(window.addEventListener("online",(()=>t(!0))),window.addEventListener("offline",(()=>t(!1))))}(t);break;case pc:!function(t){bc()&&typeof __webpack_require__.g<"u"&&null!=__webpack_require__.g&&__webpack_require__.g.NetInfo&&__webpack_require__.g?.NetInfo.addEventListener((e=>t(e?.isConnected)))}(t)}}((async e=>{t!==e&&(t=e,e?await this.restartTransport().catch((t=>this.logger.error(t))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit("relayer_disconnect"),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout((async()=>{await this.transportOpen().catch((t=>this.logger.error(t)))}),(0,Wt.toMiliseconds)(Tm))}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.connected&&(clearInterval(e),t())}),this.connectionStatusPollingInterval)})),await this.transportOpen())}}var py=Object.defineProperty,gy=Object.getOwnPropertySymbols,my=Object.prototype.hasOwnProperty,yy=Object.prototype.propertyIsEnumerable,by=(t,e,r)=>e in t?py(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wy=(t,e)=>{for(var r in e||(e={}))my.call(e,r)&&by(t,r,e[r]);if(gy)for(var r of gy(e))yy.call(e,r)&&by(t,r,e[r]);return t};class vy extends Ra{constructor(t,e,r,n=gm,i=void 0){super(t,e,r,n),this.core=t,this.logger=e,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=gm,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>{this.getKey&&null!==t&&!Kf(t)?this.map.set(this.getKey(t),t):function(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}(t)?this.map.set(t.id,t):function(t){return t?.topic}(t)&&this.map.set(t.topic,t)})),this.cached=[],this.initialized=!0)},this.set=async(t,e)=>{this.isInitialized(),this.map.has(t)?await this.update(t,e):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:e}),this.map.set(t,e),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter((e=>Object.keys(t).every((r=>qp()(e[r],t[r]))))):this.values),this.update=async(t,e)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:e});const r=wy(wy({},this.getData(t)),e);this.map.set(t,r),await this.persist()},this.delete=async(t,e)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:e}),this.map.delete(t),this.addToRecentlyDeleted(t),await this.persist())},this.logger=xa(e,this.name),this.storagePrefix=n,this.getKey=i}get context(){return Sa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const e=this.map.get(t);if(!e){if(this.recentlyDeleted.includes(t)){const{message:e}=Hf("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}const{message:e}=Hf("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:t}=Hf("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}}class _y{constructor(t,e){this.core=t,this.logger=e,this.name="pairing",this.version="0.3",this.events=new(Ht()),this.initialized=!1,this.storagePrefix=gm,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async t=>{this.isInitialized();const e=yf(),r=await this.core.crypto.setSymKey(e),n=Cc(Wt.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1},o=function(t){return`${t.protocol}:${t.topic}@${t.version}?`+Vt.stringify(Pf(((t,e)=>If(t,Mf(e)))(Pf({symKey:t.symKey},function(t,e="-"){const r={};return Object.keys(t).forEach((n=>{const i="relay"+e+n;t[n]&&(r[i]=t[n])})),r}(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:e,relay:i,expiryTimestamp:n,methods:t?.methods});return this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r),{topic:r,uri:o}},this.pair=async t=>{this.isInitialized(),this.isValidPair(t);const{topic:e,symKey:r,relay:n,expiryTimestamp:i,methods:s}=Bf(t.uri);let o;if(this.pairings.keys.includes(e)&&(o=this.pairings.get(e),o.active))throw new Error(`Pairing already exists: ${e}. Please try again with a new connection URI.`);const a=i||Cc(Wt.FIVE_MINUTES),c={topic:e,relay:n,expiry:a,active:!1,methods:s};return this.core.expirer.set(e,a),await this.pairings.set(e,c),t.activatePairing&&await this.activate({topic:e}),this.events.emit(Bm,c),this.core.crypto.keychain.has(e)||await this.core.crypto.setSymKey(r,e),await this.core.relayer.subscribe(e,{relay:n}),c},this.activate=async({topic:t})=>{this.isInitialized();const e=Cc(Wt.THIRTY_DAYS);this.core.expirer.set(t,e),await this.pairings.update(t,{active:!0,expiry:e})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.pairings.keys.includes(e)){const t=await this.sendRequest(e,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=xc();this.events.once(Oc("pairing_ping",t),(({error:t})=>{t?i(t):n()})),await r()}},this.updateExpiry=async({topic:t,expiry:e})=>{this.isInitialized(),await this.pairings.update(t,{expiry:e})},this.updateMetadata=async({topic:t,metadata:e})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:e})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;this.pairings.keys.includes(e)&&(await this.sendRequest(e,"wc_pairingDelete",Wf("USER_DISCONNECTED")),await this.deletePairing(e))},this.sendRequest=async(t,e,r)=>{const n=Ep(e,r),i=await this.core.crypto.encode(t,n),s=Nm[e].req;return this.core.history.set(t,n),this.core.relayer.publish(t,i,s),n.id},this.sendResult=async(t,e,r)=>{const n=Ap(t,r),i=await this.core.crypto.encode(e,n),s=await this.core.history.get(e,t),o=Nm[s.request.method].res;await this.core.relayer.publish(e,i,o),await this.core.history.resolve(n)},this.sendError=async(t,e,r)=>{const n=Sp(t,r),i=await this.core.crypto.encode(e,n),s=await this.core.history.get(e,t),o=Nm[s.request.method]?Nm[s.request.method].res:Nm.unregistered_method.res;await this.core.relayer.publish(e,i,o),await this.core.history.resolve(n)},this.deletePairing=async(t,e)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,Wf("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),e?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{const t=this.pairings.getAll().filter((t=>Tc(t.expiry)));await Promise.all(t.map((t=>this.deletePairing(t.topic))))},this.onRelayEventRequest=t=>{const{topic:e,payload:r}=t;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(e,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(e,r);default:return this.onUnknownRpcMethodRequest(e,r)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.core.history.get(e,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(e,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult(r,t,!0),this.events.emit("pairing_ping",{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onPairingPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{Bp(e)?this.events.emit(Oc("pairing_ping",r),{}):Lp(e)&&this.events.emit(Oc("pairing_ping",r),{error:e.error})}),500)},this.onPairingDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit(Lm,{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onUnknownRpcMethodRequest=async(t,e)=>{const{id:r,method:n}=e;try{if(this.registeredMethods.includes(n))return;const e=Wf("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,t,e),this.logger.error(e)}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(Wf("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=t=>{var e;if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`pair() params: ${t}`);throw new Error(e)}if(!function(t){if(Gf(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}(t.uri)){const{message:e}=Hf("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw new Error(e)}const r=Bf(t.uri);if(null==(e=r?.relay)||!e.protocol){const{message:t}=Hf("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(t)}if(null==r||!r.symKey){const{message:t}=Hf("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(t)}if(null!=r&&r.expiryTimestamp&&(0,Wt.toMiliseconds)(r?.expiryTimestamp)<Date.now()){const{message:t}=Hf("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(t)}},this.isValidPing=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidDisconnect=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidPairingTopic=async t=>{if(!Gf(t,!1)){const{message:e}=Hf("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.pairings.keys.includes(t)){const{message:e}=Hf("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Tc(this.pairings.get(t).expiry)){await this.deletePairing(t);const{message:e}=Hf("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}},this.core=t,this.logger=xa(e,this.name),this.pairings=new vy(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Sa(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Em,(async t=>{const{topic:e,message:r}=t;if(!this.pairings.keys.includes(e)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(e,r);try{Pp(n)?(this.core.history.set(e,n),this.onRelayEventRequest({topic:e,payload:n})):Np(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:e,payload:n}),this.core.history.delete(e,n.id))}catch(t){this.logger.error(t)}}))}registerExpirerEvents(){this.core.expirer.on(qm,(async t=>{const{topic:e}=Mc(t.target);e&&this.pairings.keys.includes(e)&&(await this.deletePairing(e,!0),this.events.emit("pairing_expire",{topic:e}))}))}}class Ey extends Ma{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.records=new Map,this.events=new qt.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=gm,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.records.set(t.id,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,e,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:e,chainId:r}),this.records.has(e.id))return;const n={id:e.id,topic:t,request:{method:e.method,params:e.params||null},chainId:r,expiry:Cc(Wt.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(Dm,n)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;const e=await this.getRecord(t.id);typeof e.response>"u"&&(e.response=Lp(t)?{error:t.error}:{result:t.result},this.records.set(e.id,e),this.persist(),this.events.emit(Um,e))},this.get=async(t,e)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:e}),await this.getRecord(e)),this.delete=(t,e)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:e}),this.values.forEach((r=>{if(r.topic===t){if(typeof e<"u"&&r.id!==e)return;this.records.delete(r.id),this.events.emit(jm,r)}})),this.persist()},this.exists=async(t,e)=>(this.isInitialized(),!!this.records.has(e)&&(await this.getRecord(e)).topic===t),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=xa(e,this.name)}get context(){return Sa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach((e=>{if(typeof e.response<"u")return;const r={topic:e.topic,request:Ep(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(r)})),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const e=this.records.get(t);if(!e){const{message:e}=Hf("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:t}=Hf("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Dm,(t=>{const e=Dm;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.events.on(Um,(t=>{const e=Um;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.events.on(jm,(t=>{const e=jm;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.core.heartbeat.on(ia,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach((e=>{(0,Wt.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.records.delete(e.id),this.events.emit(jm,e,!1),t=!0)})),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ay extends Na{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.expirations=new Map,this.events=new qt.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=gm,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.expirations.set(t.target,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{const e=this.formatTarget(t);return typeof this.getExpiration(e)<"u"}catch{return!1}},this.set=(t,e)=>{this.isInitialized();const r=this.formatTarget(t),n={target:r,expiry:e};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(Fm,{target:r,expiration:n})},this.get=t=>{this.isInitialized();const e=this.formatTarget(t);return this.getExpiration(e)},this.del=t=>{if(this.isInitialized(),this.has(t)){const e=this.formatTarget(t),r=this.getExpiration(e);this.expirations.delete(e),this.events.emit(zm,{target:e,expiration:r})}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=xa(e,this.name)}get context(){return Sa(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function(t){return Ic("topic",t)}(t);if("number"==typeof t)return function(t){return Ic("id",t)}(t);const{message:e}=Hf("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(e)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:t}=Hf("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const e=this.expirations.get(t);if(!e){const{message:e}=Hf("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(e),new Error(e)}return e}checkExpiry(t,e){const{expiry:r}=e;(0,Wt.toMiliseconds)(r)-Date.now()<=0&&this.expire(t,e)}expire(t,e){this.expirations.delete(t),this.events.emit(qm,{target:t,expiration:e})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((t,e)=>this.checkExpiry(e,t)))}registerEventListeners(){this.core.heartbeat.on(ia,(()=>this.checkExpirations())),this.events.on(Fm,(t=>{const e=Fm;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(qm,(t=>{const e=qm;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(zm,(t=>{const e=zm;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Sy extends Ba{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.name=Hm,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async t=>{if(this.verifyDisabled||bc()||!wc())return;const e=this.getVerifyUrl(t?.verifyUrl);this.verifyUrl!==e&&this.removeIframe(),this.verifyUrl=e;try{await this.createIframe()}catch(t){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(t)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Vm;try{await this.createIframe()}catch(t){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(t),this.verifyDisabled=!0}}},this.register=async t=>{this.initialized?this.sendPost(t.attestationId):(this.addToQueue(t.attestationId),await this.init())},this.resolve=async t=>{if(this.isDevEnv)return"";const e=this.getVerifyUrl(t?.verifyUrl);let r;try{r=await this.fetchAttestation(t.attestationId,e)}catch(n){this.logger.info(`failed to resolve attestation: ${t.attestationId} from url: ${e}`),this.logger.info(n),r=await this.fetchAttestation(t.attestationId,Vm)}return r},this.fetchAttestation=async(t,e)=>{this.logger.info(`resolving attestation: ${t} from url: ${e}`);const r=this.startAbortTimer(2*Wt.ONE_SECOND),n=await fetch(`${e}/attestation/${t}`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.addToQueue=t=>{this.queue.push(t)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach((t=>this.sendPost(t))),this.queue=[])},this.sendPost=t=>{var e;try{if(!this.iframe)return;null==(e=this.iframe.contentWindow)||e.postMessage(t,"*"),this.logger.info(`postMessage sent: ${t} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let t;const e=r=>{"verify_ready"===r.data&&(this.onInit(),window.removeEventListener("message",e),t())};await Promise.race([new Promise((r=>{const n=document.getElementById(Hm);if(n)return this.iframe=n,this.onInit(),r();window.addEventListener("message",e);const i=document.createElement("iframe");i.id=Hm,i.src=`${this.verifyUrl}/${this.projectId}`,i.style.display="none",document.body.append(i),this.iframe=i,t=r})),new Promise(((t,r)=>setTimeout((()=>{window.removeEventListener("message",e),r("verify iframe load timeout")}),(0,Wt.toMiliseconds)(Wt.FIVE_SECONDS))))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=t=>{let e=t||Wm;return $m.includes(e)||(this.logger.info(`verify url: ${e}, not included in trusted list, assigning default: ${Wm}`),e=Wm),e},this.logger=xa(e,this.name),this.verifyUrl=Wm,this.abortController=new AbortController,this.isDevEnv=yc()&&process.env.IS_VITEST}get context(){return Sa(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,Wt.toMiliseconds)(t))}}class xy extends La{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.context="echo",this.registerDeviceToken=async t=>{const{clientId:e,token:r,notificationType:n,enableEncrypted:i=!1}=t,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await Wp()(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e,type:n,token:r,always_raw:i})})},this.logger=xa(e,this.context)}}var ky=Object.defineProperty,Iy=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,Cy=Object.prototype.propertyIsEnumerable,Ty=(t,e,r)=>e in t?ky(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Oy=(t,e)=>{for(var r in e||(e={}))My.call(e,r)&&Ty(t,r,e[r]);if(Iy)for(var r of Iy(e))Cy.call(e,r)&&Ty(t,r,e[r]);return t};class Ry extends Ia{constructor(t){var e;super(t),this.protocol="wc",this.version=2,this.name=pm,this.events=new qt.EventEmitter,this.initialized=!1,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||vm,this.customStoragePrefix=null!=t&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const r=Aa({level:"string"==typeof t?.logger&&t.logger?t.logger:"error"}),{logger:n,chunkLoggerController:i}=ka({opts:r,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=i,null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var t,e;null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(null==(e=this.logChunkController)||e.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=xa(n,this.name),this.heartbeat=new sa,this.crypto=new Gm(this,this.logger,t?.keychain),this.history=new Ey(this,this.logger),this.expirer=new Ay(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new ta(Oy(Oy({},mm),t?.storageOptions)),this.relayer=new fy({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new _y(this,this.logger),this.verify=new Sy(this.projectId||"",this.logger),this.echoClient=new xy(this.projectId||"",this.logger)}static async init(t){const e=new Ry(t);await e.initialize();const r=await e.crypto.getClientId();return await e.storage.setItem("WALLETCONNECT_CLIENT_ID",r),e}get context(){return Sa(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return null==(t=this.logChunkController)?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const Py=Ry,Ny="client",By=`wc@2:${Ny}:`,Ly=Ny,Dy="WALLETCONNECT_DEEPLINK_CHOICE",Uy="Proposal expired",jy=Wt.SEVEN_DAYS,Fy={wc_sessionPropose:{req:{ttl:Wt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Wt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Wt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Wt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Wt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Wt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Wt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Wt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Wt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Wt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Wt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Wt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Wt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Wt.FIVE_MINUTES,prompt:!1,tag:1119}}},zy={min:Wt.FIVE_MINUTES,max:Wt.SEVEN_DAYS},qy="IDLE",Hy="ACTIVE",Wy=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],Vy="wc@1.5:auth:",$y=`${Vy}:PUB_KEY`;var Ky=Object.defineProperty,Gy=Object.defineProperties,Yy=Object.getOwnPropertyDescriptors,Zy=Object.getOwnPropertySymbols,Jy=Object.prototype.hasOwnProperty,Qy=Object.prototype.propertyIsEnumerable,Xy=(t,e,r)=>e in t?Ky(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tb=(t,e)=>{for(var r in e||(e={}))Jy.call(e,r)&&Xy(t,r,e[r]);if(Zy)for(var r of Zy(e))Qy.call(e,r)&&Xy(t,r,e[r]);return t},eb=(t,e)=>Gy(t,Yy(e));class rb extends Ua{constructor(t){super(t),this.name="engine",this.events=new(Ht()),this.initialized=!1,this.requestQueue={state:qy,queue:[]},this.sessionRequestQueue={state:qy,queue:[]},this.requestQueueDelay=Wt.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Fy)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,Wt.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const e=eb(tb({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e);const{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=e;let a,c=r,u=!1;try{c&&(u=this.client.core.pairing.pairings.get(c).active)}catch(t){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),t}if(!c||!u){const{topic:t,uri:e}=await this.client.core.pairing.create();c=t,a=e}if(!c){const{message:t}=Hf("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(t)}const l=await this.client.core.crypto.generateKeyPair(),h=Fy.wc_sessionPropose.req.ttl||Wt.FIVE_MINUTES,d=Cc(h),f=tb({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:l,metadata:this.client.metadata},expiryTimestamp:d,pairingTopic:c},s&&{sessionProperties:s}),{reject:p,resolve:g,done:m}=xc(h,Uy);this.events.once(Oc("session_connect"),(async({error:t,session:e})=>{if(t)p(t);else if(e){e.self.publicKey=l;const t=eb(tb({},e),{pairingTopic:f.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces});await this.client.session.set(e.topic,t),await this.setExpiry(e.topic,e.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:e.peer.metadata}),this.cleanupDuplicatePairings(t),g(t)}}));const y=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:f,throwOnFailedPublish:!0});return await this.setProposal(y,tb({id:y},f)),{uri:a,approval:m}},this.pair=async t=>{await this.isInitialized();try{return await this.client.core.pairing.pair(t)}catch(t){throw this.client.logger.error("pair() failed"),t}},this.approve=async t=>{await this.isInitialized();try{await this.isValidApprove(t)}catch(t){throw this.client.logger.error("approve() -> isValidApprove() failed"),t}const{id:e,relayProtocol:r,namespaces:n,sessionProperties:i,sessionConfig:s}=t;let o;try{o=this.client.proposal.get(e)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e}) failed`),t}const{pairingTopic:a,proposer:c,requiredNamespaces:u,optionalNamespaces:l}=o,h=await this.client.core.crypto.generateKeyPair(),d=c.publicKey,f=await this.client.core.crypto.generateSharedKey(h,d),p=tb(tb({relay:{protocol:r??"irn"},namespaces:n,controller:{publicKey:h,metadata:this.client.metadata},expiry:Cc(jy)},i&&{sessionProperties:i}),s&&{sessionConfig:s});await this.client.core.relayer.subscribe(f);const g=eb(tb({},p),{topic:f,requiredNamespaces:u,optionalNamespaces:l,pairingTopic:a,acknowledged:!1,self:p.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:h});await this.client.session.set(f,g);try{await this.sendResult({id:e,topic:a,result:{relay:{protocol:r??"irn"},responderPublicKey:h},throwOnFailedPublish:!0}),await this.sendRequest({topic:f,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0})}catch(t){throw this.client.logger.error(t),this.client.session.delete(f,Wf("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(f),t}return await this.client.core.pairing.updateMetadata({topic:a,metadata:c.metadata}),await this.client.proposal.delete(e,Wf("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:a}),await this.setExpiry(f,Cc(jy)),{topic:f,acknowledged:()=>new Promise((t=>setTimeout((()=>t(this.client.session.get(f))),500)))}},this.reject=async t=>{await this.isInitialized();try{await this.isValidReject(t)}catch(t){throw this.client.logger.error("reject() -> isValidReject() failed"),t}const{id:e,reason:r}=t;let n;try{n=this.client.proposal.get(e).pairingTopic}catch(t){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),t}n&&(await this.sendError({id:e,topic:n,error:r,rpcOpts:Fy.wc_sessionPropose.reject}),await this.client.proposal.delete(e,Wf("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized();try{await this.isValidUpdate(t)}catch(t){throw this.client.logger.error("update() -> isValidUpdate() failed"),t}const{topic:e,namespaces:r}=t,{done:n,resolve:i,reject:s}=xc(),o=vp(),a=_p().toString(),c=this.client.session.get(e).namespaces;return this.events.once(Oc("session_update",o),(({error:t})=>{t?s(t):i()})),await this.client.session.update(e,{namespaces:r}),await this.sendRequest({topic:e,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((t=>{this.client.logger.error(t),this.client.session.update(e,{namespaces:c}),s(t)})),{acknowledged:n}},this.extend=async t=>{await this.isInitialized();try{await this.isValidExtend(t)}catch(t){throw this.client.logger.error("extend() -> isValidExtend() failed"),t}const{topic:e}=t,r=vp(),{done:n,resolve:i,reject:s}=xc();return this.events.once(Oc("session_extend",r),(({error:t})=>{t?s(t):i()})),await this.setExpiry(e,Cc(jy)),this.sendRequest({topic:e,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((t=>{s(t)})),{acknowledged:n}},this.request=async t=>{await this.isInitialized();try{await this.isValidRequest(t)}catch(t){throw this.client.logger.error("request() -> isValidRequest() failed"),t}const{chainId:e,request:r,topic:n,expiry:i=Fy.wc_sessionRequest.req.ttl}=t,s=this.client.session.get(n),o=vp(),a=_p().toString(),{done:c,resolve:u,reject:l}=xc(i,"Request expired. Please try again.");return this.events.once(Oc("session_request",o),(({error:t,result:e})=>{t?l(t):u(e)})),await Promise.all([new Promise((async t=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:"wc_sessionRequest",params:{request:eb(tb({},r),{expiryTimestamp:Cc(i)}),chainId:e},expiry:i,throwOnFailedPublish:!0}).catch((t=>l(t))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:e,id:o}),t()})),new Promise((async t=>{var e;if(null==(e=s.sessionConfig)||!e.disableDeepLink){const t=await async function(t,e){try{return await t.getItem(e)||(wc()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}(this.client.core.storage,Dy);!async function({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;const n="string"==typeof r?JSON.parse(r):r;let i=n?.href;if("string"!=typeof i)return;i.endsWith("/")&&(i=i.slice(0,-1));const s=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=vc();o===gc?s.startsWith("https://")||s.startsWith("http://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===pc&&typeof(null==__webpack_require__.g?void 0:__webpack_require__.g.Linking)<"u"&&await __webpack_require__.g.Linking.openURL(s)}catch(t){console.error(t)}}({id:o,topic:n,wcDeepLink:t})}t()})),c()]).then((t=>t[2]))},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:r}=t,{id:n}=r;Bp(r)?await this.sendResult({id:n,topic:e,result:r.result,throwOnFailedPublish:!0}):Lp(r)&&await this.sendError({id:n,topic:e,error:r.error}),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized();try{await this.isValidPing(t)}catch(t){throw this.client.logger.error("ping() -> isValidPing() failed"),t}const{topic:e}=t;if(this.client.session.keys.includes(e)){const t=vp(),r=_p().toString(),{done:n,resolve:i,reject:s}=xc();this.events.once(Oc("session_ping",t),(({error:t})=>{t?s(t):i()})),await Promise.all([this.sendRequest({topic:e,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:t,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(e)&&await this.client.core.pairing.ping({topic:e})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:e,event:r,chainId:n}=t,i=_p().toString();await this.sendRequest({topic:e,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:"wc_sessionDelete",params:Wf("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Hf("MISMATCHED_TOPIC",`Session or pairing topic not found: ${e}`);throw new Error(t)}await this.client.core.pairing.disconnect({topic:e})}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter((e=>function(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return!!Ec(i,n)&&(n.forEach((e=>{const{accounts:n,methods:i,events:o}=t.namespaces[e],a=Df(n),c=r[e];Ec(ac(e,c),a)&&Ec(c.methods,i)&&Ec(c.events,o)||(s=!1)})),s)}(e,t)))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async t=>{this.isInitialized(),this.isValidAuthenticate(t);const{chains:e,statement:r="",uri:n,domain:i,nonce:s,type:o,exp:a,nbf:c,methods:u=[],expiry:l}=t,h=[...t.resources||[]],{topic:d,uri:f}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:d,uri:f}});const p=await this.client.core.crypto.generateKeyPair(),g=bf(p);if(await Promise.all([this.client.auth.authKeys.set($y,{responseTopic:g,publicKey:p}),this.client.auth.pairingTopics.set(g,{topic:g,pairingTopic:d})]),await this.client.core.relayer.subscribe(g),this.client.logger.info(`sending request to new pairing topic: ${d}`),u.length>0){const{namespace:t}=oc(e[0]);let r=function(t,e,r){const n=function(t,e,r,n={}){return r?.sort(((t,e)=>t.localeCompare(e))),{att:{[t]:of(e,r,n)}}}(t,e,r);return af(n)}(t,"request",u);df(h)&&(r=uf(r,h.pop())),h.push(r)}const m=l&&l>Fy.wc_sessionAuthenticate.req.ttl?l:Fy.wc_sessionAuthenticate.req.ttl,y={authPayload:{type:o??"caip122",chains:e,statement:r,aud:n,domain:i,version:"1",nonce:s,iat:(new Date).toISOString(),exp:a,nbf:c,resources:h},requester:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:Cc(m)},b={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:e,methods:[...new Set(["personal_sign",...u])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:d,proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:Cc(Fy.wc_sessionPropose.req.ttl)},{done:w,resolve:v,reject:_}=xc(m,"Request expired"),E=async({error:t,session:e})=>{if(this.events.off(Oc("session_request",S),A),t)_(t);else if(e){e.self.publicKey=p,await this.client.session.set(e.topic,e),await this.setExpiry(e.topic,e.expiry),d&&await this.client.core.pairing.updateMetadata({topic:d,metadata:e.peer.metadata});const t=this.client.session.get(e.topic);await this.deleteProposal(x),v({session:t})}},A=async t=>{if(await this.deletePendingAuthRequest(S,{message:"fulfilled",code:0}),t.error){const e=Wf("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return t.error.code===e.code?void 0:(this.events.off(Oc("session_connect"),E),_(t.error.message))}await this.deleteProposal(x),this.events.off(Oc("session_connect"),E);const{cacaos:e,responder:r}=t.result,n=[],i=[];for(const t of e){await rf({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),_(Wf("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,r=df(e.resources),s=[tf(e.iss)],o=ef(e.iss);if(r){const t=lf(r),e=hf(r);n.push(...t),s.push(...e)}for(const t of s)i.push(`${t}:${o}`)}const s=await this.client.core.crypto.generateSharedKey(p,r.publicKey);let o;n.length>0&&(o={topic:s,acknowledged:!0,self:{publicKey:p,metadata:this.client.metadata},peer:r,controller:r.publicKey,expiry:Cc(jy),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:d,namespaces:Ff([...new Set(n)],[...new Set(i)])},await this.client.core.relayer.subscribe(s),await this.client.session.set(s,o),o=this.client.session.get(s)),v({auths:e,session:o})},S=vp(),x=vp();this.events.once(Oc("session_connect"),E),this.events.once(Oc("session_request",S),A);try{await Promise.all([this.sendRequest({topic:d,method:"wc_sessionAuthenticate",params:y,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:S}),this.sendRequest({topic:d,method:"wc_sessionPropose",params:b,expiry:Fy.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x})])}catch(t){throw this.events.off(Oc("session_connect"),E),this.events.off(Oc("session_request",S),A),t}return await this.setProposal(x,tb({id:x},b)),await this.setAuthRequest(S,{request:eb(tb({},y),{verifyContext:{}}),pairingTopic:d}),{uri:f,response:w}},this.approveSessionAuthenticate=async t=>{this.isInitialized();const{id:e,auths:r}=t,n=this.getPendingAuthRequest(e);if(!n)throw new Error(`Could not find pending auth request with id ${e}`);const i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=bf(i),a={type:1,receiverPublicKey:i,senderPublicKey:s},c=[],u=[];for(const t of r){if(!await rf({cacao:t,projectId:this.client.core.projectId})){const t=Wf("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:e,topic:o,error:t,encodeOpts:a}),new Error(t.message)}const{p:r}=t,n=df(r.resources),i=[tf(r.iss)],s=ef(r.iss);if(n){const t=lf(n),e=hf(n);c.push(...t),i.push(...e)}for(const t of i)u.push(`${t}:${s}`)}const l=await this.client.core.crypto.generateSharedKey(s,i);let h;return c?.length>0&&(h={topic:l,acknowledged:!0,self:{publicKey:s,metadata:this.client.metadata},peer:{publicKey:i,metadata:n.requester.metadata},controller:i,expiry:Cc(jy),authentication:r,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:"",namespaces:Ff([...new Set(c)],[...new Set(u)])},await this.client.core.relayer.subscribe(l),await this.client.session.set(l,h)),await this.sendResult({topic:o,id:e,result:{cacaos:r,responder:{publicKey:s,metadata:this.client.metadata}},encodeOpts:a,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(e,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:n.pairingTopic}),{session:h}},this.rejectSessionAuthenticate=async t=>{await this.isInitialized();const{id:e,reason:r}=t,n=this.getPendingAuthRequest(e);if(!n)throw new Error(`Could not find pending auth request with id ${e}`);const i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=bf(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:e,topic:o,error:r,encodeOpts:a,rpcOpts:Fy.wc_sessionAuthenticate.reject}),await this.client.auth.requests.delete(e,{message:"rejected",code:0}),await this.client.proposal.delete(e,Wf("USER_DISCONNECTED"))},this.formatAuthMessage=t=>{this.isInitialized();const{request:e,iss:r}=t;return nf(e,r)},this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===t.peer.metadata.url&&r.topic&&r.topic!==e.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((t=>this.client.core.pairing.disconnect({topic:t.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async t=>{var e;const{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=t,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,Wf("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(Dy).catch((t=>this.client.logger.warn(t))),this.getPendingSessionRequests().forEach((t=>{t.topic===r&&this.deletePendingSessionRequest(t.id,Wf("USER_DISCONNECTED"))})),r===(null==(e=this.sessionRequestQueue.queue[0])?void 0:e.topic)&&(this.sessionRequestQueue.state=qy),i&&this.client.events.emit("session_delete",{id:s,topic:r})},this.deleteProposal=async(t,e)=>{await Promise.all([this.client.proposal.delete(t,Wf("USER_DISCONNECTED")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")},this.deletePendingSessionRequest=async(t,e,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((e=>e.id!==t)),r&&(this.sessionRequestQueue.state=qy,this.client.events.emit("session_request_expire",{id:t}))},this.deletePendingAuthRequest=async(t,e,r=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))},this.setProposal=async(t,e)=>{this.client.core.expirer.set(t,Cc(Fy.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)},this.setAuthRequest=async(t,e)=>{const{request:r,pairingTopic:n}=e;this.client.core.expirer.set(t,r.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:t,pairingTopic:n,verifyContext:r.verifyContext})},this.setPendingSessionRequest=async t=>{const{id:e,topic:r,params:n,verifyContext:i}=t,s=n.request.expiryTimestamp||Cc(Fy.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,s),await this.client.pendingRequest.set(e,{id:e,topic:r,params:n,verifyContext:i})},this.sendRequest=async t=>{const{topic:e,method:r,params:n,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a}=t,c=Ep(r,n,o);if(wc()&&Wy.includes(r)){const t=wf(JSON.stringify(c));this.client.core.verify.register({attestationId:t})}let u;try{u=await this.client.core.crypto.encode(e,c)}catch(t){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),t}const l=Fy[r].req;return i&&(l.ttl=i),s&&(l.id=s),this.client.core.history.set(e,c),a?(l.internal=eb(tb({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,u,l)):this.client.core.relayer.publish(e,u,l).catch((t=>this.client.logger.error(t))),c.id},this.sendResult=async t=>{const{id:e,topic:r,result:n,throwOnFailedPublish:i,encodeOpts:s}=t,o=Ap(e,n);let a,c;try{a=await this.client.core.crypto.encode(r,o,s)}catch(t){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`),t}try{c=await this.client.core.history.get(r,e)}catch(t){throw this.client.logger.error(`sendResult() -> history.get(${r}, ${e}) failed`),t}const u=Fy[c.request.method].res;i?(u.internal=eb(tb({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,a,u)):this.client.core.relayer.publish(r,a,u).catch((t=>this.client.logger.error(t))),await this.client.core.history.resolve(o)},this.sendError=async t=>{const{id:e,topic:r,error:n,encodeOpts:i,rpcOpts:s}=t,o=Sp(e,n);let a,c;try{a=await this.client.core.crypto.encode(r,o,i)}catch(t){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${r} failed`),t}try{c=await this.client.core.history.get(r,e)}catch(t){throw this.client.logger.error(`sendError() -> history.get(${r}, ${e}) failed`),t}const u=s||Fy[c.request.method].res;this.client.core.relayer.publish(r,a,u),await this.client.core.history.resolve(o)},this.cleanup=async()=>{const t=[],e=[];this.client.session.getAll().forEach((e=>{let r=!1;Tc(e.expiry)&&(r=!0),this.client.core.crypto.keychain.has(e.topic)||(r=!0),r&&t.push(e.topic)})),this.client.proposal.getAll().forEach((t=>{Tc(t.expiryTimestamp)&&e.push(t.id)})),await Promise.all([...t.map((t=>this.deleteSession({topic:t}))),...e.map((t=>this.deleteProposal(t)))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==Hy){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Hy;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise((t=>setTimeout(t,300)))}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=qy}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=t=>{const{topic:e,payload:r}=t,n=r.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:n}))switch(n){case"wc_sessionPropose":return this.onSessionProposeRequest(e,r);case"wc_sessionSettle":return this.onSessionSettleRequest(e,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(e,r);case"wc_sessionExtend":return this.onSessionExtendRequest(e,r);case"wc_sessionPing":return this.onSessionPingRequest(e,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(e,r);case"wc_sessionRequest":return this.onSessionRequest(e,r);case"wc_sessionEvent":return this.onSessionEventRequest(e,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateRequest(e,r);default:return this.client.logger.info(`Unsupported request method ${n}`)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.client.core.history.get(e,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(e,r);case"wc_sessionSettle":return this.onSessionSettleResponse(e,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(e,r);case"wc_sessionExtend":return this.onSessionExtendResponse(e,r);case"wc_sessionPing":return this.onSessionPingResponse(e,r);case"wc_sessionRequest":return this.onSessionRequestResponse(e,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(e,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:e}=t,{message:r}=Hf("MISSING_OR_INVALID",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)},this.shouldIgnorePairingRequest=t=>{const{topic:e,requestMethod:r}=t,n=this.expectedPairingMethodMap.get(e);return!(!n||n.includes(r)||!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0))},this.onSessionProposeRequest=async(t,e)=>{const{params:r,id:n}=e;try{this.isValidConnect(tb({},e.params));const i=r.expiryTimestamp||Cc(Fy.wc_sessionPropose.req.ttl),s=tb({id:n,pairingTopic:t,expiryTimestamp:i},r);await this.setProposal(n,s);const o=wf(JSON.stringify(e)),a=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:n,params:s,verifyContext:a})}catch(e){await this.sendError({id:n,topic:t,error:e,rpcOpts:Fy.wc_sessionPropose.autoReject}),this.client.logger.error(e)}},this.onSessionProposeResponse=async(t,e)=>{const{id:r}=e;if(Bp(e)){const{result:n}=e;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});const i=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});const s=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const o=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});const c=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:t})}else if(Lp(e)){await this.client.proposal.delete(r,Wf("USER_DISCONNECTED"));const t=Oc("session_connect");if(0===this.events.listenerCount(t))throw new Error(`emitting ${t} without any listeners, 954`);this.events.emit(Oc("session_connect"),{error:e.error})}},this.onSessionSettleRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidSessionSettleRequest(n);const{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:a,sessionConfig:c}=e.params,u=tb(tb({topic:t,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{sessionConfig:c});await this.sendResult({id:e.id,topic:t,result:!0,throwOnFailedPublish:!0});const l=Oc("session_connect");if(0===this.events.listenerCount(l))throw new Error(`emitting ${l} without any listeners 997`);this.events.emit(Oc("session_connect"),{session:u})}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionSettleResponse=async(t,e)=>{const{id:r}=e;Bp(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Oc("session_approve",r),{})):Lp(e)&&(await this.client.session.delete(t,Wf("USER_DISCONNECTED")),this.events.emit(Oc("session_approve",r),{error:e.error}))},this.onSessionUpdateRequest=async(t,e)=>{const{params:r,id:n}=e;try{const e=`${t}_session_update`,i=ap.get(e);if(i&&this.isRequestOutOfSync(i,n))return this.client.logger.info(`Discarding out of sync request - ${n}`),void this.sendError({id:n,topic:t,error:Wf("INVALID_UPDATE_REQUEST")});this.isValidUpdate(tb({topic:t},r));try{ap.set(e,n),await this.client.session.update(t,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0})}catch(t){throw ap.delete(e),t}this.client.events.emit("session_update",{id:n,topic:t,params:r})}catch(e){await this.sendError({id:n,topic:t,error:e}),this.client.logger.error(e)}},this.isRequestOutOfSync=(t,e)=>parseInt(e.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,e)=>{const{id:r}=e,n=Oc("session_update",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);Bp(e)?this.events.emit(Oc("session_update",r),{}):Lp(e)&&this.events.emit(Oc("session_update",r),{error:e.error})},this.onSessionExtendRequest=async(t,e)=>{const{id:r}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Cc(jy)),await this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:t})}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionExtendResponse=(t,e)=>{const{id:r}=e,n=Oc("session_extend",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);Bp(e)?this.events.emit(Oc("session_extend",r),{}):Lp(e)&&this.events.emit(Oc("session_extend",r),{error:e.error})},this.onSessionPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:t})}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionPingResponse=(t,e)=>{const{id:r}=e,n=Oc("session_ping",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);setTimeout((()=>{Bp(e)?this.events.emit(Oc("session_ping",r),{}):Lp(e)&&this.events.emit(Oc("session_ping",r),{error:e.error})}),500)},this.onSessionDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise((e=>{this.client.core.relayer.once(xm,(async()=>{e(await this.deleteSession({topic:t,id:r}))}))})),this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:Wf("USER_DISCONNECTED")})])}catch(t){this.client.logger.error(t)}},this.onSessionRequest=async(t,e)=>{var r;const{id:n,params:i}=e;try{await this.isValidRequest(tb({topic:t},i));const e=wf(JSON.stringify(Ep("wc_sessionRequest",i,n))),s=this.client.session.get(t),o={id:n,topic:t,params:i,verifyContext:await this.getVerifyContext(e,s.peer.metadata)};await this.setPendingSessionRequest(o),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(o):(this.addSessionRequestToSessionRequestQueue(o),this.processSessionRequestQueue())}catch(e){await this.sendError({id:n,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionRequestResponse=(t,e)=>{const{id:r}=e,n=Oc("session_request",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);Bp(e)?this.events.emit(Oc("session_request",r),{result:e.result}):Lp(e)&&this.events.emit(Oc("session_request",r),{error:e.error})},this.onSessionEventRequest=async(t,e)=>{const{id:r,params:n}=e;try{const e=`${t}_session_event_${n.event.name}`,i=ap.get(e);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(tb({topic:t},n)),this.client.events.emit("session_event",{id:r,topic:t,params:n}),ap.set(e,r)}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionAuthenticateResponse=(t,e)=>{const{id:r}=e;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:e}),Bp(e)?this.events.emit(Oc("session_request",r),{result:e.result}):Lp(e)&&this.events.emit(Oc("session_request",r),{error:e.error})},this.onSessionAuthenticateRequest=async(t,e)=>{try{const{requester:r,authPayload:n,expiryTimestamp:i}=e.params,s=wf(JSON.stringify(e)),o=await this.getVerifyContext(s,this.client.metadata),a={requester:r,pairingTopic:t,id:e.id,authPayload:n,verifyContext:o,expiryTimestamp:i};await this.setAuthRequest(e.id,{request:a,pairingTopic:t}),this.client.events.emit("session_authenticate",{topic:t,params:e.params,id:e.id})}catch(r){this.client.logger.error(r);const n={type:1,receiverPublicKey:e.params.requester.publicKey,senderPublicKey:await this.client.core.crypto.generateKeyPair()};await this.sendError({id:e.id,topic:t,error:r,encodeOpts:n,rpcOpts:Fy.wc_sessionAuthenticate.autoReject})}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=qy,this.processSessionRequestQueue()}),(0,Wt.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:e})=>{const r=this.client.core.history.pending;r.length>0&&r.filter((e=>e.topic===t&&"wc_sessionRequest"===e.request.method)).forEach((t=>{const r=Oc("session_request",t.request.id);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);this.events.emit(Oc("session_request",t.request.id),{error:e})}))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Hy)return void this.client.logger.info("session request queue is already active.");const t=this.sessionRequestQueue.queue[0];if(t)try{this.sessionRequestQueue.state=Hy,this.emitSessionRequest(t)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")},this.emitSessionRequest=t=>{this.client.events.emit("session_request",t)},this.onPairingCreated=t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find((e=>e.pairingTopic===t.topic));e&&this.onSessionProposeRequest(t.topic,Ep("wc_sessionPropose",{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties},e.id))},this.isValidConnect=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(e)}const{pairingTopic:e,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,relays:s}=t;if(Kf(e)||await this.isValidPairingTopic(e),!function(t){let e=!1;return t?t&&Vf(t)&&t.length&&t.forEach((t=>{e=tp(t)})):e=!0,e}(s)){const{message:t}=Hf("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(t)}!Kf(r)&&0!==$f(r)&&this.validateNamespaces(r,"requiredNamespaces"),!Kf(n)&&0!==$f(n)&&this.validateNamespaces(n,"optionalNamespaces"),Kf(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(t,e)=>{const r=function(t,e,r){let n=null;if(t&&$f(t)){const i=Qf(t,e);i&&(n=i);const s=function(t,e,r){let n=null;return Object.entries(t).forEach((([t,i])=>{if(n)return;const s=function(t,e,r){let n=null;return Vf(e)&&e.length?e.forEach((t=>{n||Zf(t)||(n=Wf("UNSUPPORTED_CHAINS",`${r}, chain ${t} should be a string and conform to "namespace:chainId" format`))})):Zf(t)||(n=Wf("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}(t,ac(t,i),`${e} ${r}`);s&&(n=s)})),n}(t,e,r);s&&(n=s)}else n=Hf("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}(t,"connect()",e);if(r)throw new Error(r.message)},this.isValidApprove=async t=>{if(!ep(t))throw new Error(Hf("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:e,namespaces:r,relayProtocol:n,sessionProperties:i}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const s=this.client.proposal.get(e),o=Xf(r,"approve()");if(o)throw new Error(o.message);const a=np(s.requiredNamespaces,r,"approve()");if(a)throw new Error(a.message);if(!Gf(n,!0)){const{message:t}=Hf("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(t)}Kf(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(e)}const{id:e,reason:r}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!function(t){return!!(t&&"object"==typeof t&&t.code&&Yf(t.code,!1)&&t.message&&Gf(t.message,!1))}(r)){const{message:t}=Hf("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidSessionSettleRequest=t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(e)}const{relay:e,controller:r,namespaces:n,expiry:i}=t;if(!tp(e)){const{message:t}=Hf("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(t)}const s=function(t){let e=null;return Gf(t?.publicKey,!1)||(e=Hf("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),e}(r);if(s)throw new Error(s.message);const o=Xf(n,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Tc(i)){const{message:t}=Hf("EXPIRED","onSessionSettleRequest()");throw new Error(t)}},this.isValidUpdate=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(e)}const{topic:e,namespaces:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const n=this.client.session.get(e),i=Xf(r,"update()");if(i)throw new Error(i.message);const s=np(n.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(e)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)},this.isValidRequest=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(e)}const{topic:e,request:r,chainId:n,expiry:i}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:s}=this.client.session.get(e);if(!rp(s,n)){const{message:t}=Hf("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(Kf(t)||!Gf(t.method,!1))}(r)){const{message:t}=Hf("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(t)}if(!function(t,e,r){return!!Gf(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{Df(t.accounts).includes(e)&&r.push(...t.methods)})),r}(t,e).includes(r)}(s,n,r.method)){const{message:t}=Hf("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(t)}if(i&&!function(t,e){return Yf(t,!1)&&t<=e.max&&t>=e.min}(i,zy)){const{message:t}=Hf("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${zy.min} and ${zy.max}`);throw new Error(t)}},this.isValidRespond=async t=>{var e;if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(e)}const{topic:r,response:n}=t;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(e=t?.response)&&e.id&&this.cleanupAfterResponse(t),r}if(!function(t){return!(Kf(t)||Kf(t.result)&&Kf(t.error)||!Yf(t.id,!1)||!Gf(t.jsonrpc,!1))}(n)){const{message:t}=Hf("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(t)}},this.isValidPing=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidEmit=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(e)}const{topic:e,event:r,chainId:n}=t;await this.isValidSessionTopic(e);const{namespaces:i}=this.client.session.get(e);if(!rp(i,n)){const{message:t}=Hf("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(Kf(t)||!Gf(t.name,!1))}(r)){const{message:t}=Hf("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}if(!function(t,e,r){return!!Gf(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{Df(t.accounts).includes(e)&&r.push(...t.events)})),r}(t,e).includes(r)}(i,n,r.name)){const{message:t}=Hf("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidDisconnect=async t=>{if(!ep(t)){const{message:e}=Hf("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidAuthenticate=t=>{const{chains:e,uri:r,domain:n,nonce:i}=t;if(!Array.isArray(e)||0===e.length)throw new Error("chains is required and must be a non-empty array");if(!Gf(r,!1))throw new Error("uri is required parameter");if(!Gf(n,!1))throw new Error("domain is required parameter");if(!Gf(i,!1))throw new Error("nonce is required parameter");if([...new Set(e.map((t=>oc(t).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=oc(e[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(t,e)=>{const r={verified:{verifyUrl:e.verifyUrl||Wm,validation:"UNKNOWN",origin:e.url||""}};try{const n=await this.client.core.verify.resolve({attestationId:t,verifyUrl:e.verifyUrl});n&&(r.verified.origin=n.origin,r.verified.isScam=n.isScam,r.verified.validation=n.origin===new URL(e.url).origin?"VALID":"INVALID")}catch(t){this.client.logger.info(t)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(t,e)=>{Object.values(t).forEach((t=>{if(!Gf(t,!1)){const{message:r}=Hf("MISSING_OR_INVALID",`${e} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(r)}}))},this.getPendingAuthRequest=t=>{const e=this.client.auth.requests.get(t);return"object"==typeof e?e:void 0},this.addToRecentlyDeleted=(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let t=0;const e=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(t++>=e)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:r}=Hf("MISSING_OR_INVALID",`Record was recently deleted - ${e}: ${t}`);throw new Error(r)}}}async isInitialized(){if(!this.initialized){const{message:t}=Hf("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Em,(async t=>{const{topic:e,message:r}=t,{publicKey:n}=this.client.auth.authKeys.keys.includes($y)?this.client.auth.authKeys.get($y):{responseTopic:void 0,publicKey:void 0},i=await this.client.core.crypto.decode(e,r,{receiverPublicKey:n});try{Pp(i)?(this.client.core.history.set(e,i),this.onRelayEventRequest({topic:e,payload:i})):Np(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:e,payload:i}),this.client.core.history.delete(e,i.id)):this.onRelayEventUnknownPayload({topic:e,payload:i})}catch(t){this.client.logger.error(t)}}))}registerExpirerEvents(){this.client.core.expirer.on(qm,(async t=>{const{topic:e,id:r}=Mc(t.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,Hf("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,Hf("EXPIRED"),!0):void(e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:e})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))}))}registerPairingEvents(){this.client.core.pairing.events.on(Bm,(t=>this.onPairingCreated(t))),this.client.core.pairing.events.on(Lm,(t=>{this.addToRecentlyDeleted(t.topic,"pairing")}))}isValidPairingTopic(t){if(!Gf(t,!1)){const{message:e}=Hf("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=Hf("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Tc(this.client.core.pairing.pairings.get(t).expiry)){const{message:e}=Hf("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}}async isValidSessionTopic(t){if(!Gf(t,!1)){const{message:e}=Hf("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(e)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:e}=Hf("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(e)}if(Tc(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:e}=Hf("EXPIRED",`session topic: ${t}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(t)){const{message:e}=Hf("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(e)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else{if(!this.client.core.pairing.pairings.keys.includes(t)){if(Gf(t,!1)){const{message:e}=Hf("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(e)}{const{message:e}=Hf("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(e)}}this.isValidPairingTopic(t)}}async isValidProposalId(t){if(!function(t){return"number"==typeof t}(t)){const{message:e}=Hf("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(e)}if(!this.client.proposal.keys.includes(t)){const{message:e}=Hf("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(e)}if(Tc(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:e}=Hf("EXPIRED",`proposal id: ${t}`);throw new Error(e)}}}class nb extends vy{constructor(t,e){super(t,e,"proposal",By),this.core=t,this.logger=e}}class ib extends vy{constructor(t,e){super(t,e,"session",By),this.core=t,this.logger=e}}class sb extends vy{constructor(t,e){super(t,e,"request",By,(t=>t.id)),this.core=t,this.logger=e}}class ob extends vy{constructor(t,e){super(t,e,"authKeys",Vy,(()=>$y)),this.core=t,this.logger=e}}class ab extends vy{constructor(t,e){super(t,e,"pairingTopics",Vy),this.core=t,this.logger=e}}class cb extends vy{constructor(t,e){super(t,e,"requests",Vy,(t=>t.id)),this.core=t,this.logger=e}}class ub{constructor(t,e){this.core=t,this.logger=e,this.authKeys=new ob(this.core,this.logger),this.pairingTopics=new ab(this.core,this.logger),this.requests=new cb(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class lb extends Da{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=Ly,this.events=new qt.EventEmitter,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(t){throw this.logger.error(t.message),t}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(t){throw this.logger.error(t.message),t}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(t){throw this.logger.error(t.message),t}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(t){throw this.logger.error(t.message),t}},this.update=async t=>{try{return await this.engine.update(t)}catch(t){throw this.logger.error(t.message),t}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(t){throw this.logger.error(t.message),t}},this.request=async t=>{try{return await this.engine.request(t)}catch(t){throw this.logger.error(t.message),t}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(t){throw this.logger.error(t.message),t}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(t){throw this.logger.error(t.message),t}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(t){throw this.logger.error(t.message),t}},this.find=t=>{try{return this.engine.find(t)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.authenticate=async t=>{try{return await this.engine.authenticate(t)}catch(t){throw this.logger.error(t.message),t}},this.formatAuthMessage=t=>{try{return this.engine.formatAuthMessage(t)}catch(t){throw this.logger.error(t.message),t}},this.approveSessionAuthenticate=async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(t){throw this.logger.error(t.message),t}},this.rejectSessionAuthenticate=async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||Ly,this.metadata=t?.metadata||(0,ic.g)()||{name:"",description:"",url:"",icons:[""]},this.signConfig=t?.signConfig;const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:aa()(Aa({level:t?.logger||"error"}));this.core=t?.core||new Py(t),this.logger=xa(e,this.name),this.session=new ib(this.core,this.logger),this.proposal=new nb(this.core,this.logger),this.pendingRequest=new sb(this.core,this.logger),this.engine=new rb(this),this.auth=new ub(this.core,this.logger)}static async init(t){const e=new lb(t);return await e.initialize(),e}get context(){return Sa(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}var hb=__webpack_require__(4945),db=__webpack_require__.n(hb),fb=Object.defineProperty,pb=Object.defineProperties,gb=Object.getOwnPropertyDescriptors,mb=Object.getOwnPropertySymbols,yb=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable,wb=(t,e,r)=>e in t?fb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vb=(t,e)=>{for(var r in e||(e={}))yb.call(e,r)&&wb(t,r,e[r]);if(mb)for(var r of mb(e))bb.call(e,r)&&wb(t,r,e[r]);return t},_b=(t,e)=>pb(t,gb(e));const Eb={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Ab{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new qt.EventEmitter,this.isAvailable=!1,this.registering=!1,!Tp(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=Ko(t),r=await(await db()(this.url,_b(vb({},Eb),{body:e}))).json();this.onPayload({data:r})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!Tp(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return e(new Error("HTTP connection is missing or invalid"));t()}))}))}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=Ko({id:1,jsonrpc:"2.0",method:"test",params:[]});await db()(t,_b(vb({},Eb),{body:e}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?$o(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=Sp(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return bp(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const Sb="error",xb="wc@2:universal_provider:",kb="default_chain_changed";var Ib,Mb,Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __webpack_require__.g<"u"?__webpack_require__.g:typeof self<"u"?self:{},Tb={exports:{}};Ib=Tb,Mb=Tb.exports,function(){var t,e="Expected a function",r="__lodash_hash_undefined__",n="__lodash_placeholder__",i=32,s=128,o=1/0,a=9007199254740991,c=NaN,u=4294967295,l=u-1,h=u>>>1,d=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],f="[object Arguments]",p="[object Array]",g="[object Boolean]",m="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",v="[object Map]",_="[object Number]",E="[object Object]",A="[object Promise]",S="[object RegExp]",x="[object Set]",k="[object String]",I="[object Symbol]",M="[object WeakMap]",C="[object ArrayBuffer]",T="[object DataView]",O="[object Float32Array]",R="[object Float64Array]",P="[object Int8Array]",N="[object Int16Array]",B="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",U="[object Uint16Array]",j="[object Uint32Array]",F=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,V=RegExp(H.source),$=RegExp(W.source),K=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,tt=RegExp(X.source),et=/^\s+/,rt=/\s/,nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,it=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,at=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lt=/\w*$/,ht=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ft=/^\[object .+?Constructor\]$/,pt=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="["+wt+"]",It="["+xt+"]",Mt="["+vt+"]",Ct="\\d+",Tt="["+_t+"]",Ot="["+Et+"]",Rt="[^"+wt+xt+Ct+_t+Et+At+"]",Pt="\\ud83c[\\udffb-\\udfff]",Nt="[^"+wt+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Lt="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+At+"]",Ut="\\u200d",jt="(?:"+Ot+"|"+Rt+")",Ft="(?:"+Dt+"|"+Rt+")",zt="(?:['â€™](?:d|ll|m|re|s|t|ve))?",qt="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Ht="(?:"+Mt+"|"+Pt+")?",Wt="["+St+"]?",Vt=Wt+Ht+"(?:"+Ut+"(?:"+[Nt,Bt,Lt].join("|")+")"+Wt+Ht+")*",$t="(?:"+[Tt,Bt,Lt].join("|")+")"+Vt,Kt="(?:"+[Nt+Mt+"?",Mt,Bt,Lt,kt].join("|")+")",Gt=RegExp("['â€™]","g"),Yt=RegExp(Mt,"g"),Zt=RegExp(Pt+"(?="+Pt+")|"+Kt+Vt,"g"),Jt=RegExp([Dt+"?"+Ot+"+"+zt+"(?="+[It,Dt,"$"].join("|")+")",Ft+"+"+qt+"(?="+[It,Dt+jt,"$"].join("|")+")",Dt+"?"+jt+"+"+zt,Dt+"+"+qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ct,$t].join("|"),"g"),Qt=RegExp("["+Ut+wt+vt+St+"]"),Xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,te=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ee=-1,re={};re[O]=re[R]=re[P]=re[N]=re[B]=re[L]=re[D]=re[U]=re[j]=!0,re[f]=re[p]=re[C]=re[g]=re[T]=re[m]=re[y]=re[b]=re[v]=re[_]=re[E]=re[S]=re[x]=re[k]=re[M]=!1;var ne={};ne[f]=ne[p]=ne[C]=ne[T]=ne[g]=ne[m]=ne[O]=ne[R]=ne[P]=ne[N]=ne[B]=ne[v]=ne[_]=ne[E]=ne[S]=ne[x]=ne[k]=ne[I]=ne[L]=ne[D]=ne[U]=ne[j]=!0,ne[y]=ne[b]=ne[M]=!1;var ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},se=parseFloat,oe=parseInt,ae="object"==typeof Cb&&Cb&&Cb.Object===Object&&Cb,ce="object"==typeof self&&self&&self.Object===Object&&self,ue=ae||ce||Function("return this")(),le=Mb&&!Mb.nodeType&&Mb,he=le&&Ib&&!Ib.nodeType&&Ib,de=he&&he.exports===le,fe=de&&ae.process,pe=function(){try{return he&&he.require&&he.require("util").types||fe&&fe.binding&&fe.binding("util")}catch{}}(),ge=pe&&pe.isArrayBuffer,me=pe&&pe.isDate,ye=pe&&pe.isMap,be=pe&&pe.isRegExp,we=pe&&pe.isSet,ve=pe&&pe.isTypedArray;function _e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ee(t,e,r,n){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function Ae(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Se(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function xe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function ke(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Ie(t,e){return!(null==t||!t.length)&&De(t,e,0)>-1}function Me(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Ce(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Te(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Oe(t,e,r,n){var i=-1,s=null==t?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function Re(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Pe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Ne=ze("length");function Be(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Le(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function De(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Le(t,je,r)}function Ue(t,e,r,n){for(var i=r-1,s=t.length;++i<s;)if(n(t[i],e))return i;return-1}function je(t){return t!=t}function Fe(t,e){var r=null==t?0:t.length;return r?We(t,e)/r:c}function ze(e){return function(r){return null==r?t:r[e]}}function qe(e){return function(r){return null==e?t:e[r]}}function He(t,e,r,n,i){return i(t,(function(t,i,s){r=n?(n=!1,t):e(r,t,i,s)})),r}function We(e,r){for(var n,i=-1,s=e.length;++i<s;){var o=r(e[i]);o!==t&&(n=n===t?o:n+o)}return n}function Ve(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function $e(t){return t&&t.slice(0,cr(t)+1).replace(et,"")}function Ke(t){return function(e){return t(e)}}function Ge(t,e){return Ce(e,(function(e){return t[e]}))}function Ye(t,e){return t.has(e)}function Ze(t,e){for(var r=-1,n=t.length;++r<n&&De(e,t[r],0)>-1;);return r}function Je(t,e){for(var r=t.length;r--&&De(e,t[r],0)>-1;);return r}var Qe=qe({Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"}),Xe=qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tr(t){return"\\"+ie[t]}function er(t){return Qt.test(t)}function rr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function nr(t,e){return function(r){return t(e(r))}}function ir(t,e){for(var r=-1,i=t.length,s=0,o=[];++r<i;){var a=t[r];(a===e||a===n)&&(t[r]=n,o[s++]=r)}return o}function sr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function or(t){return er(t)?function(t){for(var e=Zt.lastIndex=0;Zt.test(t);)++e;return e}(t):Ne(t)}function ar(t){return er(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}function cr(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var ur=qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),lr=function rt(wt){var vt,_t=(wt=null==wt?ue:lr.defaults(ue.Object(),wt,lr.pick(ue,te))).Array,Et=wt.Date,At=wt.Error,St=wt.Function,xt=wt.Math,kt=wt.Object,It=wt.RegExp,Mt=wt.String,Ct=wt.TypeError,Tt=_t.prototype,Ot=St.prototype,Rt=kt.prototype,Pt=wt["__core-js_shared__"],Nt=Ot.toString,Bt=Rt.hasOwnProperty,Lt=0,Dt=(vt=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||""))?"Symbol(src)_1."+vt:"",Ut=Rt.toString,jt=Nt.call(kt),Ft=ue._,zt=It("^"+Nt.call(Bt).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=de?wt.Buffer:t,Ht=wt.Symbol,Wt=wt.Uint8Array,Vt=qt?qt.allocUnsafe:t,$t=nr(kt.getPrototypeOf,kt),Kt=kt.create,Zt=Rt.propertyIsEnumerable,Qt=Tt.splice,ie=Ht?Ht.isConcatSpreadable:t,ae=Ht?Ht.iterator:t,ce=Ht?Ht.toStringTag:t,le=function(){try{var t=us(kt,"defineProperty");return t({},"",{}),t}catch{}}(),he=wt.clearTimeout!==ue.clearTimeout&&wt.clearTimeout,fe=Et&&Et.now!==ue.Date.now&&Et.now,pe=wt.setTimeout!==ue.setTimeout&&wt.setTimeout,Ne=xt.ceil,qe=xt.floor,hr=kt.getOwnPropertySymbols,dr=qt?qt.isBuffer:t,fr=wt.isFinite,pr=Tt.join,gr=nr(kt.keys,kt),mr=xt.max,yr=xt.min,br=Et.now,wr=wt.parseInt,vr=xt.random,_r=Tt.reverse,Er=us(wt,"DataView"),Ar=us(wt,"Map"),Sr=us(wt,"Promise"),xr=us(wt,"Set"),kr=us(wt,"WeakMap"),Ir=us(kt,"create"),Mr=kr&&new kr,Cr={},Tr=Bs(Er),Or=Bs(Ar),Rr=Bs(Sr),Pr=Bs(xr),Nr=Bs(kr),Br=Ht?Ht.prototype:t,Lr=Br?Br.valueOf:t,Dr=Br?Br.toString:t;function Ur(t){if(Xo(t)&&!qo(t)&&!(t instanceof qr)){if(t instanceof zr)return t;if(Bt.call(t,"__wrapped__"))return Ls(t)}return new zr(t)}var jr=function(){function e(){}return function(r){if(!Qo(r))return{};if(Kt)return Kt(r);e.prototype=r;var n=new e;return e.prototype=t,n}}();function Fr(){}function zr(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=t}function qr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u,this.__views__=[]}function Hr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Vr;++e<r;)this.add(t[e])}function Kr(t){var e=this.__data__=new Wr(t);this.size=e.size}function Gr(t,e){var r=qo(t),n=!r&&zo(t),i=!r&&!n&&$o(t),s=!r&&!n&&!i&&aa(t),o=r||n||i||s,a=o?Ve(t.length,Mt):[],c=a.length;for(var u in t)(e||Bt.call(t,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ms(u,c)))&&a.push(u);return a}function Yr(e){var r=e.length;return r?e[$n(0,r-1)]:t}function Zr(t,e){return Rs(Ii(t),on(e,0,t.length))}function Jr(t){return Rs(Ii(t))}function Qr(e,r,n){(n!==t&&!Uo(e[r],n)||n===t&&!(r in e))&&nn(e,r,n)}function Xr(e,r,n){var i=e[r];(!Bt.call(e,r)||!Uo(i,n)||n===t&&!(r in e))&&nn(e,r,n)}function tn(t,e){for(var r=t.length;r--;)if(Uo(t[r][0],e))return r;return-1}function en(t,e,r,n){return hn(t,(function(t,i,s){e(n,t,r(t),s)})),n}function rn(t,e){return t&&Mi(e,Ca(e),t)}function nn(t,e,r){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function sn(e,r){for(var n=-1,i=r.length,s=_t(i),o=null==e;++n<i;)s[n]=o?t:Sa(e,r[n]);return s}function on(e,r,n){return e==e&&(n!==t&&(e=e<=n?e:n),r!==t&&(e=e>=r?e:r)),e}function an(e,r,n,i,s,o){var a,c=1&r,u=2&r,l=4&r;if(n&&(a=s?n(e,i,s,o):n(e)),a!==t)return a;if(!Qo(e))return e;var h=qo(e);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!c)return Ii(e,a)}else{var d=ds(e),p=d==b||d==w;if($o(e))return _i(e,c);if(d==E||d==f||p&&!s){if(a=u||p?{}:ps(e),!c)return u?function(t,e){return Mi(t,hs(t),e)}(e,function(t,e){return t&&Mi(e,Ta(e),t)}(a,e)):function(t,e){return Mi(t,ls(t),e)}(e,rn(a,e))}else{if(!ne[d])return s?e:{};a=function(t,e,r){var n=t.constructor;switch(e){case C:return Ei(t);case g:case m:return new n(+t);case T:return function(t,e){var r=e?Ei(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case O:case R:case P:case N:case B:case L:case D:case U:case j:return Ai(t,r);case v:return new n;case _:case k:return new n(t);case S:return function(t){var e=new t.constructor(t.source,lt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case x:return new n;case I:return function(t){return Lr?kt(Lr.call(t)):{}}(t)}}(e,d,c)}}o||(o=new Kr);var y=o.get(e);if(y)return y;o.set(e,a),ia(e)?e.forEach((function(t){a.add(an(t,r,n,t,e,o))})):ta(e)&&e.forEach((function(t,i){a.set(i,an(t,r,n,i,e,o))}));var A=h?t:(l?u?rs:es:u?Ta:Ca)(e);return Ae(A||e,(function(t,i){A&&(t=e[i=t]),Xr(a,i,an(t,r,n,i,e,o))})),a}function cn(e,r,n){var i=n.length;if(null==e)return!i;for(e=kt(e);i--;){var s=n[i],o=r[s],a=e[s];if(a===t&&!(s in e)||!o(a))return!1}return!0}function un(r,n,i){if("function"!=typeof r)throw new Ct(e);return Ms((function(){r.apply(t,i)}),n)}function ln(t,e,r,n){var i=-1,s=Ie,o=!0,a=t.length,c=[],u=e.length;if(!a)return c;r&&(e=Ce(e,Ke(r))),n?(s=Me,o=!1):e.length>=200&&(s=Ye,o=!1,e=new $r(e));t:for(;++i<a;){var l=t[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,o&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;c.push(l)}else s(e,h,n)||c.push(l)}return c}Ur.templateSettings={escape:K,evaluate:G,interpolate:Y,variable:"",imports:{_:Ur}},Ur.prototype=Fr.prototype,Ur.prototype.constructor=Ur,zr.prototype=jr(Fr.prototype),zr.prototype.constructor=zr,qr.prototype=jr(Fr.prototype),qr.prototype.constructor=qr,Hr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},Hr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hr.prototype.get=function(e){var n=this.__data__;if(Ir){var i=n[e];return i===r?t:i}return Bt.call(n,e)?n[e]:t},Hr.prototype.has=function(e){var r=this.__data__;return Ir?r[e]!==t:Bt.call(r,e)},Hr.prototype.set=function(e,n){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ir&&n===t?r:n,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0||(r==e.length-1?e.pop():Qt.call(e,r,1),--this.size,0))},Wr.prototype.get=function(e){var r=this.__data__,n=tn(r,e);return n<0?t:r[n][1]},Wr.prototype.has=function(t){return tn(this.__data__,t)>-1},Wr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Vr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(Ar||Wr),string:new Hr}},Vr.prototype.delete=function(t){var e=as(this,t).delete(t);return this.size-=e?1:0,e},Vr.prototype.get=function(t){return as(this,t).get(t)},Vr.prototype.has=function(t){return as(this,t).has(t)},Vr.prototype.set=function(t,e){var r=as(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(t){return this.__data__.set(t,r),this},$r.prototype.has=function(t){return this.__data__.has(t)},Kr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Kr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Kr.prototype.get=function(t){return this.__data__.get(t)},Kr.prototype.has=function(t){return this.__data__.has(t)},Kr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Ar||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vr(n)}return r.set(t,e),this.size=r.size,this};var hn=Oi(wn),dn=Oi(vn,!0);function fn(t,e){var r=!0;return hn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function pn(e,r,n){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=r(o);if(null!=a&&(c===t?a==a&&!oa(a):n(a,c)))var c=a,u=o}return u}function gn(t,e){var r=[];return hn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function mn(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=gs),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?mn(a,e-1,r,n,i):Te(i,a):n||(i[i.length]=a)}return i}var yn=Ri(),bn=Ri(!0);function wn(t,e){return t&&yn(t,e,Ca)}function vn(t,e){return t&&bn(t,e,Ca)}function _n(t,e){return ke(e,(function(e){return Yo(t[e])}))}function En(e,r){for(var n=0,i=(r=yi(r,e)).length;null!=e&&n<i;)e=e[Ns(r[n++])];return n&&n==i?e:t}function An(t,e,r){var n=e(t);return qo(t)?n:Te(n,r(t))}function Sn(e){return null==e?e===t?"[object Undefined]":"[object Null]":ce&&ce in kt(e)?function(e){var r=Bt.call(e,ce),n=e[ce];try{e[ce]=t;var i=!0}catch{}var s=Ut.call(e);return i&&(r?e[ce]=n:delete e[ce]),s}(e):function(t){return Ut.call(t)}(e)}function xn(t,e){return t>e}function kn(t,e){return null!=t&&Bt.call(t,e)}function In(t,e){return null!=t&&e in kt(t)}function Mn(e,r,n){for(var i=n?Me:Ie,s=e[0].length,o=e.length,a=o,c=_t(o),u=1/0,l=[];a--;){var h=e[a];a&&r&&(h=Ce(h,Ke(r))),u=yr(h.length,u),c[a]=!n&&(r||s>=120&&h.length>=120)?new $r(a&&h):t}h=e[0];var d=-1,f=c[0];t:for(;++d<s&&l.length<u;){var p=h[d],g=r?r(p):p;if(p=n||0!==p?p:0,!(f?Ye(f,g):i(l,g,n))){for(a=o;--a;){var m=c[a];if(!(m?Ye(m,g):i(e[a],g,n)))continue t}f&&f.push(g),l.push(p)}}return l}function Cn(e,r,n){var i=null==(e=xs(e,r=yi(r,e)))?e:e[Ns(Ks(r))];return null==i?t:_e(i,e,n)}function Tn(t){return Xo(t)&&Sn(t)==f}function On(e,r,n,i,s){return e===r||(null==e||null==r||!Xo(e)&&!Xo(r)?e!=e&&r!=r:function(e,r,n,i,s,o){var a=qo(e),c=qo(r),u=a?p:ds(e),l=c?p:ds(r),h=(u=u==f?E:u)==E,d=(l=l==f?E:l)==E,b=u==l;if(b&&$o(e)){if(!$o(r))return!1;a=!0,h=!1}if(b&&!h)return o||(o=new Kr),a||aa(e)?Xi(e,r,n,i,s,o):function(t,e,r,n,i,s,o){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!s(new Wt(t),new Wt(e)));case g:case m:case _:return Uo(+t,+e);case y:return t.name==e.name&&t.message==e.message;case S:case k:return t==e+"";case v:var a=rr;case x:var c=1&n;if(a||(a=sr),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=2,o.set(t,e);var l=Xi(a(t),a(e),n,i,s,o);return o.delete(t),l;case I:if(Lr)return Lr.call(t)==Lr.call(e)}return!1}(e,r,u,n,i,s,o);if(!(1&n)){var w=h&&Bt.call(e,"__wrapped__"),A=d&&Bt.call(r,"__wrapped__");if(w||A){var M=w?e.value():e,O=A?r.value():r;return o||(o=new Kr),s(M,O,n,i,o)}}return!!b&&(o||(o=new Kr),function(e,r,n,i,s,o){var a=1&n,c=es(e),u=c.length;if(u!=es(r).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in r:Bt.call(r,h)))return!1}var d=o.get(e),f=o.get(r);if(d&&f)return d==r&&f==e;var p=!0;o.set(e,r),o.set(r,e);for(var g=a;++l<u;){var m=e[h=c[l]],y=r[h];if(i)var b=a?i(y,m,h,r,e,o):i(m,y,h,e,r,o);if(!(b===t?m===y||s(m,y,n,i,o):b)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var w=e.constructor,v=r.constructor;w!=v&&"constructor"in e&&"constructor"in r&&!("function"==typeof w&&w instanceof w&&"function"==typeof v&&v instanceof v)&&(p=!1)}return o.delete(e),o.delete(r),p}(e,r,n,i,s,o))}(e,r,n,i,On,s))}function Rn(e,r,n,i){var s=n.length,o=s,a=!i;if(null==e)return!o;for(e=kt(e);s--;){var c=n[s];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var u=(c=n[s])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===t&&!(u in e))return!1}else{var d=new Kr;if(i)var f=i(l,h,u,e,r,d);if(!(f===t?On(h,l,3,i,d):f))return!1}}return!0}function Pn(t){return!(!Qo(t)||function(t){return!!Dt&&Dt in t}(t))&&(Yo(t)?zt:ft).test(Bs(t))}function Nn(t){return"function"==typeof t?t:null==t?ec:"object"==typeof t?qo(t)?jn(t[0],t[1]):Un(t):lc(t)}function Bn(t){if(!_s(t))return gr(t);var e=[];for(var r in kt(t))Bt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Ln(t,e){return t<e}function Dn(t,e){var r=-1,n=Wo(t)?_t(t.length):[];return hn(t,(function(t,i,s){n[++r]=e(t,i,s)})),n}function Un(t){var e=cs(t);return 1==e.length&&e[0][2]?As(e[0][0],e[0][1]):function(r){return r===t||Rn(r,t,e)}}function jn(e,r){return bs(e)&&Es(r)?As(Ns(e),r):function(n){var i=Sa(n,e);return i===t&&i===r?xa(n,e):On(r,i,3)}}function Fn(e,r,n,i,s){e!==r&&yn(r,(function(o,a){if(s||(s=new Kr),Qo(o))!function(e,r,n,i,s,o,a){var c=ks(e,n),u=ks(r,n),l=a.get(u);if(l)Qr(e,n,l);else{var h=o?o(c,u,n+"",e,r,a):t,d=h===t;if(d){var f=qo(u),p=!f&&$o(u),g=!f&&!p&&aa(u);h=u,f||p||g?qo(c)?h=c:Vo(c)?h=Ii(c):p?(d=!1,h=_i(u,!0)):g?(d=!1,h=Ai(u,!0)):h=[]:ra(u)||zo(u)?(h=c,zo(c)?h=ga(c):(!Qo(c)||Yo(c))&&(h=ps(u))):d=!1}d&&(a.set(u,h),s(h,u,i,o,a),a.delete(u)),Qr(e,n,h)}}(e,r,a,n,Fn,i,s);else{var c=i?i(ks(e,a),o,a+"",e,r,s):t;c===t&&(c=o),Qr(e,a,c)}}),Ta)}function zn(e,r){var n=e.length;if(n)return ms(r+=r<0?n:0,n)?e[r]:t}function qn(t,e,r){e=e.length?Ce(e,(function(t){return qo(t)?function(e){return En(e,1===t.length?t[0]:t)}:t})):[ec];var n=-1;return e=Ce(e,Ke(os())),function(t){var e=t.length;for(t.sort((function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var c=Si(i[n],s[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}));e--;)t[e]=t[e].value;return t}(Dn(t,(function(t,r,i){return{criteria:Ce(e,(function(e){return e(t)})),index:++n,value:t}})))}function Hn(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=En(t,o);r(a,o)&&Jn(s,yi(o,t),a)}return s}function Wn(t,e,r,n){var i=n?Ue:De,s=-1,o=e.length,a=t;for(t===e&&(e=Ii(e)),r&&(a=Ce(t,Ke(r)));++s<o;)for(var c=0,u=e[s],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==t&&Qt.call(a,c,1),Qt.call(t,c,1);return t}function Vn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==s){var s=i;ms(i)?Qt.call(t,i,1):ui(t,i)}}return t}function $n(t,e){return t+qe(vr()*(e-t+1))}function Kn(t,e){var r="";if(!t||e<1||e>a)return r;do{e%2&&(r+=t),(e=qe(e/2))&&(t+=t)}while(e);return r}function Gn(t,e){return Cs(Ss(t,e,ec),t+"")}function Yn(t){return Yr(Ua(t))}function Zn(t,e){var r=Ua(t);return Rs(r,on(e,0,r.length))}function Jn(e,r,n,i){if(!Qo(e))return e;for(var s=-1,o=(r=yi(r,e)).length,a=o-1,c=e;null!=c&&++s<o;){var u=Ns(r[s]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=a){var h=c[u];(l=i?i(h,u,c):t)===t&&(l=Qo(h)?h:ms(r[s+1])?[]:{})}Xr(c,u,l),c=c[u]}return e}var Qn=Mr?function(t,e){return Mr.set(t,e),t}:ec,Xn=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:Qa(e),writable:!0})}:ec;function ti(t){return Rs(Ua(t))}function ei(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=_t(i);++n<i;)s[n]=t[n+e];return s}function ri(t,e){var r;return hn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=h){for(;n<i;){var s=n+i>>>1,o=t[s];null!==o&&!oa(o)&&(r?o<=e:o<e)?n=s+1:i=s}return i}return ii(t,e,ec,r)}function ii(e,r,n,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(r=n(r))!=r,c=null===r,u=oa(r),h=r===t;s<o;){var d=qe((s+o)/2),f=n(e[d]),p=f!==t,g=null===f,m=f==f,y=oa(f);if(a)var b=i||m;else b=h?m&&(i||p):c?m&&p&&(i||!g):u?m&&p&&!g&&(i||!y):!g&&!y&&(i?f<=r:f<r);b?s=d+1:o=d}return yr(o,l)}function si(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r],a=e?e(o):o;if(!r||!Uo(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function oi(t){return"number"==typeof t?t:oa(t)?c:+t}function ai(t){if("string"==typeof t)return t;if(qo(t))return Ce(t,ai)+"";if(oa(t))return Dr?Dr.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}function ci(t,e,r){var n=-1,i=Ie,s=t.length,o=!0,a=[],c=a;if(r)o=!1,i=Me;else if(s>=200){var u=e?null:Ki(t);if(u)return sr(u);o=!1,i=Ye,c=new $r}else c=e?[]:a;t:for(;++n<s;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,r)||(c!==a&&c.push(h),a.push(l))}return a}function ui(t,e){return null==(t=xs(t,e=yi(e,t)))||delete t[Ns(Ks(e))]}function li(t,e,r,n){return Jn(t,e,r(En(t,e)),n)}function hi(t,e,r,n){for(var i=t.length,s=n?i:-1;(n?s--:++s<i)&&e(t[s],s,t););return r?ei(t,n?0:s,n?s+1:i):ei(t,n?s+1:0,n?i:s)}function di(t,e){var r=t;return r instanceof qr&&(r=r.value()),Oe(e,(function(t,e){return e.func.apply(e.thisArg,Te([t],e.args))}),r)}function fi(t,e,r){var n=t.length;if(n<2)return n?ci(t[0]):[];for(var i=-1,s=_t(n);++i<n;)for(var o=t[i],a=-1;++a<n;)a!=i&&(s[i]=ln(s[i]||o,t[a],e,r));return ci(mn(s,1),e,r)}function pi(e,r,n){for(var i=-1,s=e.length,o=r.length,a={};++i<s;){var c=i<o?r[i]:t;n(a,e[i],c)}return a}function gi(t){return Vo(t)?t:[]}function mi(t){return"function"==typeof t?t:ec}function yi(t,e){return qo(t)?t:bs(t,e)?[t]:Ps(ma(t))}var bi=Gn;function wi(e,r,n){var i=e.length;return n=n===t?i:n,!r&&n>=i?e:ei(e,r,n)}var vi=he||function(t){return ue.clearTimeout(t)};function _i(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function Ei(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Ai(t,e){var r=e?Ei(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Si(e,r){if(e!==r){var n=e!==t,i=null===e,s=e==e,o=oa(e),a=r!==t,c=null===r,u=r==r,l=oa(r);if(!c&&!l&&!o&&e>r||o&&a&&u&&!c&&!l||i&&a&&u||!n&&u||!s)return 1;if(!i&&!o&&!l&&e<r||l&&n&&s&&!i&&!o||c&&n&&s||!a&&s||!u)return-1}return 0}function xi(t,e,r,n){for(var i=-1,s=t.length,o=r.length,a=-1,c=e.length,u=mr(s-o,0),l=_t(c+u),h=!n;++a<c;)l[a]=e[a];for(;++i<o;)(h||i<s)&&(l[r[i]]=t[i]);for(;u--;)l[a++]=t[i++];return l}function ki(t,e,r,n){for(var i=-1,s=t.length,o=-1,a=r.length,c=-1,u=e.length,l=mr(s-a,0),h=_t(l+u),d=!n;++i<l;)h[i]=t[i];for(var f=i;++c<u;)h[f+c]=e[c];for(;++o<a;)(d||i<s)&&(h[f+r[o]]=t[i++]);return h}function Ii(t,e){var r=-1,n=t.length;for(e||(e=_t(n));++r<n;)e[r]=t[r];return e}function Mi(e,r,n,i){var s=!n;n||(n={});for(var o=-1,a=r.length;++o<a;){var c=r[o],u=i?i(n[c],e[c],c,n,e):t;u===t&&(u=e[c]),s?nn(n,c,u):Xr(n,c,u)}return n}function Ci(t,e){return function(r,n){var i=qo(r)?Ee:en,s=e?e():{};return i(r,t,os(n,2),s)}}function Ti(e){return Gn((function(r,n){var i=-1,s=n.length,o=s>1?n[s-1]:t,a=s>2?n[2]:t;for(o=e.length>3&&"function"==typeof o?(s--,o):t,a&&ys(n[0],n[1],a)&&(o=s<3?t:o,s=1),r=kt(r);++i<s;){var c=n[i];c&&e(r,c,i,o)}return r}))}function Oi(t,e){return function(r,n){if(null==r)return r;if(!Wo(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=kt(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Ri(t){return function(e,r,n){for(var i=-1,s=kt(e),o=n(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===r(s[c],c,s))break}return e}}function Pi(e){return function(r){var n=er(r=ma(r))?ar(r):t,i=n?n[0]:r.charAt(0),s=n?wi(n,1).join(""):r.slice(1);return i[e]()+s}}function Ni(t){return function(e){return Oe(Ya(za(e).replace(Gt,"")),t,"")}}function Bi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=jr(t.prototype),n=t.apply(r,e);return Qo(n)?n:r}}function Li(e){return function(r,n,i){var s=kt(r);if(!Wo(r)){var o=os(n,3);r=Ca(r),n=function(t){return o(s[t],t,s)}}var a=e(r,n,i);return a>-1?s[o?r[a]:a]:t}}function Di(r){return ts((function(n){var i=n.length,s=i,o=zr.prototype.thru;for(r&&n.reverse();s--;){var a=n[s];if("function"!=typeof a)throw new Ct(e);if(o&&!c&&"wrapper"==is(a))var c=new zr([],!0)}for(s=c?s:i;++s<i;){var u=is(a=n[s]),l="wrapper"==u?ns(a):t;c=l&&ws(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[is(l[0])].apply(c,l[3]):1==a.length&&ws(a)?c[u]():c.thru(a)}return function(){var t=arguments,e=t[0];if(c&&1==t.length&&qo(e))return c.plant(e).value();for(var r=0,s=i?n[r].apply(this,t):e;++r<i;)s=n[r].call(this,s);return s}}))}function Ui(e,r,n,i,o,a,c,u,l,h){var d=r&s,f=1&r,p=2&r,g=24&r,m=512&r,y=p?t:Bi(e);return function s(){for(var b=arguments.length,w=_t(b),v=b;v--;)w[v]=arguments[v];if(g)var _=ss(s),E=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(w,_);if(i&&(w=xi(w,i,o,g)),a&&(w=ki(w,a,c,g)),b-=E,g&&b<h){var A=ir(w,_);return Vi(e,r,Ui,s.placeholder,n,w,A,u,l,h-b)}var S=f?n:this,x=p?S[e]:e;return b=w.length,u?w=function(e,r){for(var n=e.length,i=yr(r.length,n),s=Ii(e);i--;){var o=r[i];e[i]=ms(o,n)?s[o]:t}return e}(w,u):m&&b>1&&w.reverse(),d&&l<b&&(w.length=l),this&&this!==ue&&this instanceof s&&(x=y||Bi(x)),x.apply(S,w)}}function ji(t,e){return function(r,n){return function(t,e,r,n){return wn(t,(function(t,i,s){e(n,r(t),i,s)})),n}(r,t,e(n),{})}}function Fi(e,r){return function(n,i){var s;if(n===t&&i===t)return r;if(n!==t&&(s=n),i!==t){if(s===t)return i;"string"==typeof n||"string"==typeof i?(n=ai(n),i=ai(i)):(n=oi(n),i=oi(i)),s=e(n,i)}return s}}function zi(t){return ts((function(e){return e=Ce(e,Ke(os())),Gn((function(r){var n=this;return t(e,(function(t){return _e(t,n,r)}))}))}))}function qi(e,r){var n=(r=r===t?" ":ai(r)).length;if(n<2)return n?Kn(r,e):r;var i=Kn(r,Ne(e/or(r)));return er(r)?wi(ar(i),0,e).join(""):i.slice(0,e)}function Hi(e){return function(r,n,i){return i&&"number"!=typeof i&&ys(r,n,i)&&(n=i=t),r=ha(r),n===t?(n=r,r=0):n=ha(n),function(t,e,r,n){for(var i=-1,s=mr(Ne((e-t)/(r||1)),0),o=_t(s);s--;)o[n?s:++i]=t,t+=r;return o}(r,n,i=i===t?r<n?1:-1:ha(i),e)}}function Wi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=pa(e),r=pa(r)),t(e,r)}}function Vi(e,r,n,s,o,a,c,u,l,h){var d=8&r;r|=d?i:64,4&(r&=~(d?64:i))||(r&=-4);var f=[e,r,o,d?a:t,d?c:t,d?t:a,d?t:c,u,l,h],p=n.apply(t,f);return ws(e)&&Is(p,f),p.placeholder=s,Ts(p,e,r)}function $i(t){var e=xt[t];return function(t,r){if(t=pa(t),(r=null==r?0:yr(da(r),292))&&fr(t)){var n=(ma(t)+"e").split("e");return+((n=(ma(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Ki=xr&&1/sr(new xr([,-0]))[1]==o?function(t){return new xr(t)}:oc;function Gi(t){return function(e){var r=ds(e);return r==v?rr(e):r==x?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return Ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(r,o,a,c,u,l,h,d){var f=2&o;if(!f&&"function"!=typeof r)throw new Ct(e);var p=c?c.length:0;if(p||(o&=-97,c=u=t),h=h===t?h:mr(da(h),0),d=d===t?d:da(d),p-=u?u.length:0,64&o){var g=c,m=u;c=u=t}var y=f?t:ns(r),b=[r,o,a,c,u,g,m,l,h,d];if(y&&function(t,e){var r=t[1],i=e[1],o=r|i,a=o<131,c=i==s&&8==r||i==s&&256==r&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==r;if(!a&&!c)return t;1&i&&(t[2]=e[2],o|=1&r?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?xi(l,u,e[4]):u,t[4]=l?ir(t[3],n):e[4]}(u=e[5])&&(l=t[5],t[5]=l?ki(l,u,e[6]):u,t[6]=l?ir(t[5],n):e[6]),(u=e[7])&&(t[7]=u),i&s&&(t[8]=null==t[8]?e[8]:yr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(b,y),r=b[0],o=b[1],a=b[2],c=b[3],u=b[4],!(d=b[9]=b[9]===t?f?0:r.length:mr(b[9]-p,0))&&24&o&&(o&=-25),o&&1!=o)w=8==o||16==o?function(e,r,n){var i=Bi(e);return function s(){for(var o=arguments.length,a=_t(o),c=o,u=ss(s);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:ir(a,u);return(o-=l.length)<n?Vi(e,r,Ui,s.placeholder,t,a,l,t,t,n-o):_e(this&&this!==ue&&this instanceof s?i:e,this,a)}}(r,o,d):o!=i&&33!=o||u.length?Ui.apply(t,b):function(t,e,r,n){var i=1&e,s=Bi(t);return function e(){for(var o=-1,a=arguments.length,c=-1,u=n.length,l=_t(u+a),h=this&&this!==ue&&this instanceof e?s:t;++c<u;)l[c]=n[c];for(;a--;)l[c++]=arguments[++o];return _e(h,i?r:this,l)}}(r,o,a,c);else var w=function(t,e,r){var n=1&e,i=Bi(t);return function e(){return(this&&this!==ue&&this instanceof e?i:t).apply(n?r:this,arguments)}}(r,o,a);return Ts((y?Qn:Is)(w,b),r,o)}function Zi(e,r,n,i){return e===t||Uo(e,Rt[n])&&!Bt.call(i,n)?r:e}function Ji(e,r,n,i,s,o){return Qo(e)&&Qo(r)&&(o.set(r,e),Fn(e,r,t,Ji,o),o.delete(r)),e}function Qi(e){return ra(e)?t:e}function Xi(e,r,n,i,s,o){var a=1&n,c=e.length,u=r.length;if(c!=u&&!(a&&u>c))return!1;var l=o.get(e),h=o.get(r);if(l&&h)return l==r&&h==e;var d=-1,f=!0,p=2&n?new $r:t;for(o.set(e,r),o.set(r,e);++d<c;){var g=e[d],m=r[d];if(i)var y=a?i(m,g,d,r,e,o):i(g,m,d,e,r,o);if(y!==t){if(y)continue;f=!1;break}if(p){if(!Pe(r,(function(t,e){if(!Ye(p,e)&&(g===t||s(g,t,n,i,o)))return p.push(e)}))){f=!1;break}}else if(g!==m&&!s(g,m,n,i,o)){f=!1;break}}return o.delete(e),o.delete(r),f}function ts(e){return Cs(Ss(e,t,qs),e+"")}function es(t){return An(t,Ca,ls)}function rs(t){return An(t,Ta,hs)}var ns=Mr?function(t){return Mr.get(t)}:oc;function is(t){for(var e=t.name+"",r=Cr[e],n=Bt.call(Cr,e)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==t)return i.name}return e}function ss(t){return(Bt.call(Ur,"placeholder")?Ur:t).placeholder}function os(){var t=Ur.iteratee||rc;return t=t===rc?Nn:t,arguments.length?t(arguments[0],arguments[1]):t}function as(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function cs(t){for(var e=Ca(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Es(i)]}return e}function us(e,r){var n=function(e,r){return null==e?t:e[r]}(e,r);return Pn(n)?n:t}var ls=hr?function(t){return null==t?[]:(t=kt(t),ke(hr(t),(function(e){return Zt.call(t,e)})))}:fc,hs=hr?function(t){for(var e=[];t;)Te(e,ls(t)),t=$t(t);return e}:fc,ds=Sn;function fs(t,e,r){for(var n=-1,i=(e=yi(e,t)).length,s=!1;++n<i;){var o=Ns(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&Jo(i)&&ms(o,i)&&(qo(t)||zo(t))}function ps(t){return"function"!=typeof t.constructor||_s(t)?{}:jr($t(t))}function gs(t){return qo(t)||zo(t)||!!(ie&&t&&t[ie])}function ms(t,e){var r=typeof t;return!!(e=e??a)&&("number"==r||"symbol"!=r&&gt.test(t))&&t>-1&&t%1==0&&t<e}function ys(t,e,r){if(!Qo(r))return!1;var n=typeof e;return!!("number"==n?Wo(r)&&ms(e,r.length):"string"==n&&e in r)&&Uo(r[e],t)}function bs(t,e){if(qo(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!oa(t))||J.test(t)||!Z.test(t)||null!=e&&t in kt(e)}function ws(t){var e=is(t),r=Ur[e];if("function"!=typeof r||!(e in qr.prototype))return!1;if(t===r)return!0;var n=ns(r);return!!n&&t===n[0]}(Er&&ds(new Er(new ArrayBuffer(1)))!=T||Ar&&ds(new Ar)!=v||Sr&&ds(Sr.resolve())!=A||xr&&ds(new xr)!=x||kr&&ds(new kr)!=M)&&(ds=function(e){var r=Sn(e),n=r==E?e.constructor:t,i=n?Bs(n):"";if(i)switch(i){case Tr:return T;case Or:return v;case Rr:return A;case Pr:return x;case Nr:return M}return r});var vs=Pt?Yo:pc;function _s(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Es(t){return t==t&&!Qo(t)}function As(e,r){return function(n){return null!=n&&n[e]===r&&(r!==t||e in kt(n))}}function Ss(e,r,n){return r=mr(r===t?e.length-1:r,0),function(){for(var t=arguments,i=-1,s=mr(t.length-r,0),o=_t(s);++i<s;)o[i]=t[r+i];i=-1;for(var a=_t(r+1);++i<r;)a[i]=t[i];return a[r]=n(o),_e(e,this,a)}}function xs(t,e){return e.length<2?t:En(t,ei(e,0,-1))}function ks(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Is=Os(Qn),Ms=pe||function(t,e){return ue.setTimeout(t,e)},Cs=Os(Xn);function Ts(t,e,r){var n=e+"";return Cs(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(nt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ae(d,(function(r){var n="_."+r[0];e&r[1]&&!Ie(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(it);return e?e[1].split(st):[]}(n),r)))}function Os(e){var r=0,n=0;return function(){var i=br(),s=16-(i-n);if(n=i,s>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(t,arguments)}}function Rs(e,r){var n=-1,i=e.length,s=i-1;for(r=r===t?i:r;++n<r;){var o=$n(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=r,e}var Ps=function(){var t=Ro((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Q,(function(t,r,n,i){e.push(n?i.replace(ct,"$1"):r||t)})),e}),(function(t){return 500===e.size&&e.clear(),t})),e=t.cache;return t}();function Ns(t){if("string"==typeof t||oa(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function Bs(t){if(null!=t){try{return Nt.call(t)}catch{}try{return t+""}catch{}}return""}function Ls(t){if(t instanceof qr)return t.clone();var e=new zr(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ds=Gn((function(t,e){return Vo(t)?ln(t,mn(e,1,Vo,!0)):[]})),Us=Gn((function(e,r){var n=Ks(r);return Vo(n)&&(n=t),Vo(e)?ln(e,mn(r,1,Vo,!0),os(n,2)):[]})),js=Gn((function(e,r){var n=Ks(r);return Vo(n)&&(n=t),Vo(e)?ln(e,mn(r,1,Vo,!0),t,n):[]}));function Fs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:da(r);return i<0&&(i=mr(n+i,0)),Le(t,os(e,3),i)}function zs(e,r,n){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return n!==t&&(s=da(n),s=n<0?mr(i+s,0):yr(s,i-1)),Le(e,os(r,3),s,!0)}function qs(t){return null!=t&&t.length?mn(t,1):[]}function Hs(e){return e&&e.length?e[0]:t}var Ws=Gn((function(t){var e=Ce(t,gi);return e.length&&e[0]===t[0]?Mn(e):[]})),Vs=Gn((function(e){var r=Ks(e),n=Ce(e,gi);return r===Ks(n)?r=t:n.pop(),n.length&&n[0]===e[0]?Mn(n,os(r,2)):[]})),$s=Gn((function(e){var r=Ks(e),n=Ce(e,gi);return(r="function"==typeof r?r:t)&&n.pop(),n.length&&n[0]===e[0]?Mn(n,t,r):[]}));function Ks(e){var r=null==e?0:e.length;return r?e[r-1]:t}var Gs=Gn(Ys);function Ys(t,e){return t&&t.length&&e&&e.length?Wn(t,e):t}var Zs=ts((function(t,e){var r=null==t?0:t.length,n=sn(t,e);return Vn(t,Ce(e,(function(t){return ms(t,r)?+t:t})).sort(Si)),n}));function Js(t){return null==t?t:_r.call(t)}var Qs=Gn((function(t){return ci(mn(t,1,Vo,!0))})),Xs=Gn((function(e){var r=Ks(e);return Vo(r)&&(r=t),ci(mn(e,1,Vo,!0),os(r,2))})),to=Gn((function(e){var r=Ks(e);return r="function"==typeof r?r:t,ci(mn(e,1,Vo,!0),t,r)}));function eo(t){if(!t||!t.length)return[];var e=0;return t=ke(t,(function(t){if(Vo(t))return e=mr(t.length,e),!0})),Ve(e,(function(e){return Ce(t,ze(e))}))}function ro(e,r){if(!e||!e.length)return[];var n=eo(e);return null==r?n:Ce(n,(function(e){return _e(r,t,e)}))}var no=Gn((function(t,e){return Vo(t)?ln(t,e):[]})),io=Gn((function(t){return fi(ke(t,Vo))})),so=Gn((function(e){var r=Ks(e);return Vo(r)&&(r=t),fi(ke(e,Vo),os(r,2))})),oo=Gn((function(e){var r=Ks(e);return r="function"==typeof r?r:t,fi(ke(e,Vo),t,r)})),ao=Gn(eo),co=Gn((function(e){var r=e.length,n=r>1?e[r-1]:t;return n="function"==typeof n?(e.pop(),n):t,ro(e,n)}));function uo(t){var e=Ur(t);return e.__chain__=!0,e}function lo(t,e){return e(t)}var ho=ts((function(e){var r=e.length,n=r?e[0]:0,i=this.__wrapped__,s=function(t){return sn(t,e)};return!(r>1||this.__actions__.length)&&i instanceof qr&&ms(n)?((i=i.slice(n,+n+(r?1:0))).__actions__.push({func:lo,args:[s],thisArg:t}),new zr(i,this.__chain__).thru((function(e){return r&&!e.length&&e.push(t),e}))):this.thru(s)})),fo=Ci((function(t,e,r){Bt.call(t,r)?++t[r]:nn(t,r,1)})),po=Li(Fs),go=Li(zs);function mo(t,e){return(qo(t)?Ae:hn)(t,os(e,3))}function yo(t,e){return(qo(t)?Se:dn)(t,os(e,3))}var bo=Ci((function(t,e,r){Bt.call(t,r)?t[r].push(e):nn(t,r,[e])})),wo=Gn((function(t,e,r){var n=-1,i="function"==typeof e,s=Wo(t)?_t(t.length):[];return hn(t,(function(t){s[++n]=i?_e(e,t,r):Cn(t,e,r)})),s})),vo=Ci((function(t,e,r){nn(t,r,e)}));function _o(t,e){return(qo(t)?Ce:Dn)(t,os(e,3))}var Eo=Ci((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]})),Ao=Gn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&ys(t,e[0],e[1])?e=[]:r>2&&ys(e[0],e[1],e[2])&&(e=[e[0]]),qn(t,mn(e,1),[])})),So=fe||function(){return ue.Date.now()};function xo(e,r,n){return r=n?t:r,r=e&&null==r?e.length:r,Yi(e,s,t,t,t,t,r)}function ko(r,n){var i;if("function"!=typeof n)throw new Ct(e);return r=da(r),function(){return--r>0&&(i=n.apply(this,arguments)),r<=1&&(n=t),i}}var Io=Gn((function(t,e,r){var n=1;if(r.length){var s=ir(r,ss(Io));n|=i}return Yi(t,n,e,r,s)})),Mo=Gn((function(t,e,r){var n=3;if(r.length){var s=ir(r,ss(Mo));n|=i}return Yi(e,n,t,r,s)}));function Co(r,n,i){var s,o,a,c,u,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof r)throw new Ct(e);function g(e){var n=s,i=o;return s=o=t,h=e,c=r.apply(i,n)}function m(e){var r=e-l;return l===t||r>=n||r<0||f&&e-h>=a}function y(){var t=So();if(m(t))return b(t);u=Ms(y,function(t){var e=n-(t-l);return f?yr(e,a-(t-h)):e}(t))}function b(e){return u=t,p&&s?g(e):(s=o=t,c)}function w(){var e=So(),r=m(e);if(s=arguments,o=this,l=e,r){if(u===t)return function(t){return h=t,u=Ms(y,n),d?g(t):c}(l);if(f)return vi(u),u=Ms(y,n),g(l)}return u===t&&(u=Ms(y,n)),c}return n=pa(n)||0,Qo(i)&&(d=!!i.leading,a=(f="maxWait"in i)?mr(pa(i.maxWait)||0,n):a,p="trailing"in i?!!i.trailing:p),w.cancel=function(){u!==t&&vi(u),h=0,s=l=o=u=t},w.flush=function(){return u===t?c:b(So())},w}var To=Gn((function(t,e){return un(t,1,e)})),Oo=Gn((function(t,e,r){return un(t,pa(e)||0,r)}));function Ro(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new Ct(e);var n=function(){var e=arguments,i=r?r.apply(this,e):e[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,e);return n.cache=s.set(i,o)||s,o};return n.cache=new(Ro.Cache||Vr),n}function Po(t){if("function"!=typeof t)throw new Ct(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ro.Cache=Vr;var No=bi((function(t,e){var r=(e=1==e.length&&qo(e[0])?Ce(e[0],Ke(os())):Ce(mn(e,1),Ke(os()))).length;return Gn((function(n){for(var i=-1,s=yr(n.length,r);++i<s;)n[i]=e[i].call(this,n[i]);return _e(t,this,n)}))})),Bo=Gn((function(e,r){var n=ir(r,ss(Bo));return Yi(e,i,t,r,n)})),Lo=Gn((function(e,r){var n=ir(r,ss(Lo));return Yi(e,64,t,r,n)})),Do=ts((function(e,r){return Yi(e,256,t,t,t,r)}));function Uo(t,e){return t===e||t!=t&&e!=e}var jo=Wi(xn),Fo=Wi((function(t,e){return t>=e})),zo=Tn(function(){return arguments}())?Tn:function(t){return Xo(t)&&Bt.call(t,"callee")&&!Zt.call(t,"callee")},qo=_t.isArray,Ho=ge?Ke(ge):function(t){return Xo(t)&&Sn(t)==C};function Wo(t){return null!=t&&Jo(t.length)&&!Yo(t)}function Vo(t){return Xo(t)&&Wo(t)}var $o=dr||pc,Ko=me?Ke(me):function(t){return Xo(t)&&Sn(t)==m};function Go(t){if(!Xo(t))return!1;var e=Sn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Yo(t){if(!Qo(t))return!1;var e=Sn(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zo(t){return"number"==typeof t&&t==da(t)}function Jo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function Qo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xo(t){return null!=t&&"object"==typeof t}var ta=ye?Ke(ye):function(t){return Xo(t)&&ds(t)==v};function ea(t){return"number"==typeof t||Xo(t)&&Sn(t)==_}function ra(t){if(!Xo(t)||Sn(t)!=E)return!1;var e=$t(t);if(null===e)return!0;var r=Bt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Nt.call(r)==jt}var na=be?Ke(be):function(t){return Xo(t)&&Sn(t)==S},ia=we?Ke(we):function(t){return Xo(t)&&ds(t)==x};function sa(t){return"string"==typeof t||!qo(t)&&Xo(t)&&Sn(t)==k}function oa(t){return"symbol"==typeof t||Xo(t)&&Sn(t)==I}var aa=ve?Ke(ve):function(t){return Xo(t)&&Jo(t.length)&&!!re[Sn(t)]},ca=Wi(Ln),ua=Wi((function(t,e){return t<=e}));function la(t){if(!t)return[];if(Wo(t))return sa(t)?ar(t):Ii(t);if(ae&&t[ae])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[ae]());var e=ds(t);return(e==v?rr:e==x?sr:Ua)(t)}function ha(t){return t?(t=pa(t))===o||t===-o?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=ha(t),r=e%1;return e==e?r?e-r:e:0}function fa(t){return t?on(da(t),0,u):0}function pa(t){if("number"==typeof t)return t;if(oa(t))return c;if(Qo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Qo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var r=dt.test(t);return r||pt.test(t)?oe(t.slice(2),r?2:8):ht.test(t)?c:+t}function ga(t){return Mi(t,Ta(t))}function ma(t){return null==t?"":ai(t)}var ya=Ti((function(t,e){if(_s(e)||Wo(e))Mi(e,Ca(e),t);else for(var r in e)Bt.call(e,r)&&Xr(t,r,e[r])})),ba=Ti((function(t,e){Mi(e,Ta(e),t)})),wa=Ti((function(t,e,r,n){Mi(e,Ta(e),t,n)})),va=Ti((function(t,e,r,n){Mi(e,Ca(e),t,n)})),_a=ts(sn),Ea=Gn((function(e,r){e=kt(e);var n=-1,i=r.length,s=i>2?r[2]:t;for(s&&ys(r[0],r[1],s)&&(i=1);++n<i;)for(var o=r[n],a=Ta(o),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===t||Uo(h,Rt[l])&&!Bt.call(e,l))&&(e[l]=o[l])}return e})),Aa=Gn((function(e){return e.push(t,Ji),_e(Ra,t,e)}));function Sa(e,r,n){var i=null==e?t:En(e,r);return i===t?n:i}function xa(t,e){return null!=t&&fs(t,e,In)}var ka=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),t[e]=r}),Qa(ec)),Ia=ji((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),Bt.call(t,e)?t[e].push(r):t[e]=[r]}),os),Ma=Gn(Cn);function Ca(t){return Wo(t)?Gr(t):Bn(t)}function Ta(t){return Wo(t)?Gr(t,!0):function(t){if(!Qo(t))return function(t){var e=[];if(null!=t)for(var r in kt(t))e.push(r);return e}(t);var e=_s(t),r=[];for(var n in t)"constructor"==n&&(e||!Bt.call(t,n))||r.push(n);return r}(t)}var Oa=Ti((function(t,e,r){Fn(t,e,r)})),Ra=Ti((function(t,e,r,n){Fn(t,e,r,n)})),Pa=ts((function(t,e){var r={};if(null==t)return r;var n=!1;e=Ce(e,(function(e){return e=yi(e,t),n||(n=e.length>1),e})),Mi(t,rs(t),r),n&&(r=an(r,7,Qi));for(var i=e.length;i--;)ui(r,e[i]);return r})),Na=ts((function(t,e){return null==t?{}:function(t,e){return Hn(t,e,(function(e,r){return xa(t,r)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var r=Ce(rs(t),(function(t){return[t]}));return e=os(e),Hn(t,r,(function(t,r){return e(t,r[0])}))}var La=Gi(Ca),Da=Gi(Ta);function Ua(t){return null==t?[]:Ge(t,Ca(t))}var ja=Ni((function(t,e,r){return e=e.toLowerCase(),t+(r?Fa(e):e)}));function Fa(t){return Ga(ma(t).toLowerCase())}function za(t){return(t=ma(t))&&t.replace(mt,Qe).replace(Yt,"")}var qa=Ni((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Ha=Ni((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Wa=Pi("toLowerCase"),Va=Ni((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()})),$a=Ni((function(t,e,r){return t+(r?" ":"")+Ga(e)})),Ka=Ni((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ga=Pi("toUpperCase");function Ya(e,r,n){return e=ma(e),(r=n?t:r)===t?function(t){return Xt.test(t)}(e)?function(t){return t.match(Jt)||[]}(e):function(t){return t.match(ot)||[]}(e):e.match(r)||[]}var Za=Gn((function(e,r){try{return _e(e,t,r)}catch(t){return Go(t)?t:new At(t)}})),Ja=ts((function(t,e){return Ae(e,(function(e){e=Ns(e),nn(t,e,Io(t[e],t))})),t}));function Qa(t){return function(){return t}}var Xa=Di(),tc=Di(!0);function ec(t){return t}function rc(t){return Nn("function"==typeof t?t:an(t,1))}var nc=Gn((function(t,e){return function(r){return Cn(r,t,e)}})),ic=Gn((function(t,e){return function(r){return Cn(t,r,e)}}));function sc(t,e,r){var n=Ca(e),i=_n(e,n);null==r&&(!Qo(e)||!i.length&&n.length)&&(r=e,e=t,t=this,i=_n(e,Ca(e)));var s=!(Qo(r)&&"chain"in r&&!r.chain),o=Yo(t);return Ae(i,(function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__);return(r.__actions__=Ii(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Te([this.value()],arguments))})})),t}function oc(){}var ac=zi(Ce),cc=zi(xe),uc=zi(Pe);function lc(t){return bs(t)?ze(Ns(t)):function(t){return function(e){return En(e,t)}}(t)}var hc=Hi(),dc=Hi(!0);function fc(){return[]}function pc(){return!1}var gc=Fi((function(t,e){return t+e}),0),mc=$i("ceil"),yc=Fi((function(t,e){return t/e}),1),bc=$i("floor"),wc=Fi((function(t,e){return t*e}),1),vc=$i("round"),_c=Fi((function(t,e){return t-e}),0);return Ur.after=function(t,r){if("function"!=typeof r)throw new Ct(e);return t=da(t),function(){if(--t<1)return r.apply(this,arguments)}},Ur.ary=xo,Ur.assign=ya,Ur.assignIn=ba,Ur.assignInWith=wa,Ur.assignWith=va,Ur.at=_a,Ur.before=ko,Ur.bind=Io,Ur.bindAll=Ja,Ur.bindKey=Mo,Ur.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qo(t)?t:[t]},Ur.chain=uo,Ur.chunk=function(e,r,n){r=(n?ys(e,r,n):r===t)?1:mr(da(r),0);var i=null==e?0:e.length;if(!i||r<1)return[];for(var s=0,o=0,a=_t(Ne(i/r));s<i;)a[o++]=ei(e,s,s+=r);return a},Ur.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i},Ur.concat=function(){var t=arguments.length;if(!t)return[];for(var e=_t(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Te(qo(r)?Ii(r):[r],mn(e,1))},Ur.cond=function(t){var r=null==t?0:t.length,n=os();return t=r?Ce(t,(function(t){if("function"!=typeof t[1])throw new Ct(e);return[n(t[0]),t[1]]})):[],Gn((function(e){for(var n=-1;++n<r;){var i=t[n];if(_e(i[0],this,e))return _e(i[1],this,e)}}))},Ur.conforms=function(t){return function(t){var e=Ca(t);return function(r){return cn(r,t,e)}}(an(t,1))},Ur.constant=Qa,Ur.countBy=fo,Ur.create=function(t,e){var r=jr(t);return null==e?r:rn(r,e)},Ur.curry=function e(r,n,i){var s=Yi(r,8,t,t,t,t,t,n=i?t:n);return s.placeholder=e.placeholder,s},Ur.curryRight=function e(r,n,i){var s=Yi(r,16,t,t,t,t,t,n=i?t:n);return s.placeholder=e.placeholder,s},Ur.debounce=Co,Ur.defaults=Ea,Ur.defaultsDeep=Aa,Ur.defer=To,Ur.delay=Oo,Ur.difference=Ds,Ur.differenceBy=Us,Ur.differenceWith=js,Ur.drop=function(e,r,n){var i=null==e?0:e.length;return i?ei(e,(r=n||r===t?1:da(r))<0?0:r,i):[]},Ur.dropRight=function(e,r,n){var i=null==e?0:e.length;return i?ei(e,0,(r=i-(r=n||r===t?1:da(r)))<0?0:r):[]},Ur.dropRightWhile=function(t,e){return t&&t.length?hi(t,os(e,3),!0,!0):[]},Ur.dropWhile=function(t,e){return t&&t.length?hi(t,os(e,3),!0):[]},Ur.fill=function(e,r,n,i){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&ys(e,r,n)&&(n=0,i=s),function(e,r,n,i){var s=e.length;for((n=da(n))<0&&(n=-n>s?0:s+n),(i=i===t||i>s?s:da(i))<0&&(i+=s),i=n>i?0:fa(i);n<i;)e[n++]=r;return e}(e,r,n,i)):[]},Ur.filter=function(t,e){return(qo(t)?ke:gn)(t,os(e,3))},Ur.flatMap=function(t,e){return mn(_o(t,e),1)},Ur.flatMapDeep=function(t,e){return mn(_o(t,e),o)},Ur.flatMapDepth=function(e,r,n){return n=n===t?1:da(n),mn(_o(e,r),n)},Ur.flatten=qs,Ur.flattenDeep=function(t){return null!=t&&t.length?mn(t,o):[]},Ur.flattenDepth=function(e,r){return null!=e&&e.length?mn(e,r=r===t?1:da(r)):[]},Ur.flip=function(t){return Yi(t,512)},Ur.flow=Xa,Ur.flowRight=tc,Ur.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Ur.functions=function(t){return null==t?[]:_n(t,Ca(t))},Ur.functionsIn=function(t){return null==t?[]:_n(t,Ta(t))},Ur.groupBy=bo,Ur.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Ur.intersection=Ws,Ur.intersectionBy=Vs,Ur.intersectionWith=$s,Ur.invert=ka,Ur.invertBy=Ia,Ur.invokeMap=wo,Ur.iteratee=rc,Ur.keyBy=vo,Ur.keys=Ca,Ur.keysIn=Ta,Ur.map=_o,Ur.mapKeys=function(t,e){var r={};return e=os(e,3),wn(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Ur.mapValues=function(t,e){var r={};return e=os(e,3),wn(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Ur.matches=function(t){return Un(an(t,1))},Ur.matchesProperty=function(t,e){return jn(t,an(e,1))},Ur.memoize=Ro,Ur.merge=Oa,Ur.mergeWith=Ra,Ur.method=nc,Ur.methodOf=ic,Ur.mixin=sc,Ur.negate=Po,Ur.nthArg=function(t){return t=da(t),Gn((function(e){return zn(e,t)}))},Ur.omit=Pa,Ur.omitBy=function(t,e){return Ba(t,Po(os(e)))},Ur.once=function(t){return ko(2,t)},Ur.orderBy=function(e,r,n,i){return null==e?[]:(qo(r)||(r=null==r?[]:[r]),qo(n=i?t:n)||(n=null==n?[]:[n]),qn(e,r,n))},Ur.over=ac,Ur.overArgs=No,Ur.overEvery=cc,Ur.overSome=uc,Ur.partial=Bo,Ur.partialRight=Lo,Ur.partition=Eo,Ur.pick=Na,Ur.pickBy=Ba,Ur.property=lc,Ur.propertyOf=function(e){return function(r){return null==e?t:En(e,r)}},Ur.pull=Gs,Ur.pullAll=Ys,Ur.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Wn(t,e,os(r,2)):t},Ur.pullAllWith=function(e,r,n){return e&&e.length&&r&&r.length?Wn(e,r,t,n):e},Ur.pullAt=Zs,Ur.range=hc,Ur.rangeRight=dc,Ur.rearg=Do,Ur.reject=function(t,e){return(qo(t)?ke:gn)(t,Po(os(e,3)))},Ur.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],s=t.length;for(e=os(e,3);++n<s;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Vn(t,i),r},Ur.rest=function(r,n){if("function"!=typeof r)throw new Ct(e);return Gn(r,n=n===t?n:da(n))},Ur.reverse=Js,Ur.sampleSize=function(e,r,n){return r=(n?ys(e,r,n):r===t)?1:da(r),(qo(e)?Zr:Zn)(e,r)},Ur.set=function(t,e,r){return null==t?t:Jn(t,e,r)},Ur.setWith=function(e,r,n,i){return i="function"==typeof i?i:t,null==e?e:Jn(e,r,n,i)},Ur.shuffle=function(t){return(qo(t)?Jr:ti)(t)},Ur.slice=function(e,r,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ys(e,r,n)?(r=0,n=i):(r=null==r?0:da(r),n=n===t?i:da(n)),ei(e,r,n)):[]},Ur.sortBy=Ao,Ur.sortedUniq=function(t){return t&&t.length?si(t):[]},Ur.sortedUniqBy=function(t,e){return t&&t.length?si(t,os(e,2)):[]},Ur.split=function(e,r,n){return n&&"number"!=typeof n&&ys(e,r,n)&&(r=n=t),(n=n===t?u:n>>>0)?(e=ma(e))&&("string"==typeof r||null!=r&&!na(r))&&!(r=ai(r))&&er(e)?wi(ar(e),0,n):e.split(r,n):[]},Ur.spread=function(t,r){if("function"!=typeof t)throw new Ct(e);return r=null==r?0:mr(da(r),0),Gn((function(e){var n=e[r],i=wi(e,0,r);return n&&Te(i,n),_e(t,this,i)}))},Ur.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Ur.take=function(e,r,n){return e&&e.length?ei(e,0,(r=n||r===t?1:da(r))<0?0:r):[]},Ur.takeRight=function(e,r,n){var i=null==e?0:e.length;return i?ei(e,(r=i-(r=n||r===t?1:da(r)))<0?0:r,i):[]},Ur.takeRightWhile=function(t,e){return t&&t.length?hi(t,os(e,3),!1,!0):[]},Ur.takeWhile=function(t,e){return t&&t.length?hi(t,os(e,3)):[]},Ur.tap=function(t,e){return e(t),t},Ur.throttle=function(t,r,n){var i=!0,s=!0;if("function"!=typeof t)throw new Ct(e);return Qo(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Co(t,r,{leading:i,maxWait:r,trailing:s})},Ur.thru=lo,Ur.toArray=la,Ur.toPairs=La,Ur.toPairsIn=Da,Ur.toPath=function(t){return qo(t)?Ce(t,Ns):oa(t)?[t]:Ii(Ps(ma(t)))},Ur.toPlainObject=ga,Ur.transform=function(t,e,r){var n=qo(t),i=n||$o(t)||aa(t);if(e=os(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:Qo(t)&&Yo(s)?jr($t(t)):{}}return(i?Ae:wn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Ur.unary=function(t){return xo(t,1)},Ur.union=Qs,Ur.unionBy=Xs,Ur.unionWith=to,Ur.uniq=function(t){return t&&t.length?ci(t):[]},Ur.uniqBy=function(t,e){return t&&t.length?ci(t,os(e,2)):[]},Ur.uniqWith=function(e,r){return r="function"==typeof r?r:t,e&&e.length?ci(e,t,r):[]},Ur.unset=function(t,e){return null==t||ui(t,e)},Ur.unzip=eo,Ur.unzipWith=ro,Ur.update=function(t,e,r){return null==t?t:li(t,e,mi(r))},Ur.updateWith=function(e,r,n,i){return i="function"==typeof i?i:t,null==e?e:li(e,r,mi(n),i)},Ur.values=Ua,Ur.valuesIn=function(t){return null==t?[]:Ge(t,Ta(t))},Ur.without=no,Ur.words=Ya,Ur.wrap=function(t,e){return Bo(mi(e),t)},Ur.xor=io,Ur.xorBy=so,Ur.xorWith=oo,Ur.zip=ao,Ur.zipObject=function(t,e){return pi(t||[],e||[],Xr)},Ur.zipObjectDeep=function(t,e){return pi(t||[],e||[],Jn)},Ur.zipWith=co,Ur.entries=La,Ur.entriesIn=Da,Ur.extend=ba,Ur.extendWith=wa,sc(Ur,Ur),Ur.add=gc,Ur.attempt=Za,Ur.camelCase=ja,Ur.capitalize=Fa,Ur.ceil=mc,Ur.clamp=function(e,r,n){return n===t&&(n=r,r=t),n!==t&&(n=(n=pa(n))==n?n:0),r!==t&&(r=(r=pa(r))==r?r:0),on(pa(e),r,n)},Ur.clone=function(t){return an(t,4)},Ur.cloneDeep=function(t){return an(t,5)},Ur.cloneDeepWith=function(e,r){return an(e,5,r="function"==typeof r?r:t)},Ur.cloneWith=function(e,r){return an(e,4,r="function"==typeof r?r:t)},Ur.conformsTo=function(t,e){return null==e||cn(t,e,Ca(e))},Ur.deburr=za,Ur.defaultTo=function(t,e){return null==t||t!=t?e:t},Ur.divide=yc,Ur.endsWith=function(e,r,n){e=ma(e),r=ai(r);var i=e.length,s=n=n===t?i:on(da(n),0,i);return(n-=r.length)>=0&&e.slice(n,s)==r},Ur.eq=Uo,Ur.escape=function(t){return(t=ma(t))&&$.test(t)?t.replace(W,Xe):t},Ur.escapeRegExp=function(t){return(t=ma(t))&&tt.test(t)?t.replace(X,"\\$&"):t},Ur.every=function(e,r,n){var i=qo(e)?xe:fn;return n&&ys(e,r,n)&&(r=t),i(e,os(r,3))},Ur.find=po,Ur.findIndex=Fs,Ur.findKey=function(t,e){return Be(t,os(e,3),wn)},Ur.findLast=go,Ur.findLastIndex=zs,Ur.findLastKey=function(t,e){return Be(t,os(e,3),vn)},Ur.floor=bc,Ur.forEach=mo,Ur.forEachRight=yo,Ur.forIn=function(t,e){return null==t?t:yn(t,os(e,3),Ta)},Ur.forInRight=function(t,e){return null==t?t:bn(t,os(e,3),Ta)},Ur.forOwn=function(t,e){return t&&wn(t,os(e,3))},Ur.forOwnRight=function(t,e){return t&&vn(t,os(e,3))},Ur.get=Sa,Ur.gt=jo,Ur.gte=Fo,Ur.has=function(t,e){return null!=t&&fs(t,e,kn)},Ur.hasIn=xa,Ur.head=Hs,Ur.identity=ec,Ur.includes=function(t,e,r,n){t=Wo(t)?t:Ua(t),r=r&&!n?da(r):0;var i=t.length;return r<0&&(r=mr(i+r,0)),sa(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&De(t,e,r)>-1},Ur.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:da(r);return i<0&&(i=mr(n+i,0)),De(t,e,i)},Ur.inRange=function(e,r,n){return r=ha(r),n===t?(n=r,r=0):n=ha(n),function(t,e,r){return t>=yr(e,r)&&t<mr(e,r)}(e=pa(e),r,n)},Ur.invoke=Ma,Ur.isArguments=zo,Ur.isArray=qo,Ur.isArrayBuffer=Ho,Ur.isArrayLike=Wo,Ur.isArrayLikeObject=Vo,Ur.isBoolean=function(t){return!0===t||!1===t||Xo(t)&&Sn(t)==g},Ur.isBuffer=$o,Ur.isDate=Ko,Ur.isElement=function(t){return Xo(t)&&1===t.nodeType&&!ra(t)},Ur.isEmpty=function(t){if(null==t)return!0;if(Wo(t)&&(qo(t)||"string"==typeof t||"function"==typeof t.splice||$o(t)||aa(t)||zo(t)))return!t.length;var e=ds(t);if(e==v||e==x)return!t.size;if(_s(t))return!Bn(t).length;for(var r in t)if(Bt.call(t,r))return!1;return!0},Ur.isEqual=function(t,e){return On(t,e)},Ur.isEqualWith=function(e,r,n){var i=(n="function"==typeof n?n:t)?n(e,r):t;return i===t?On(e,r,t,n):!!i},Ur.isError=Go,Ur.isFinite=function(t){return"number"==typeof t&&fr(t)},Ur.isFunction=Yo,Ur.isInteger=Zo,Ur.isLength=Jo,Ur.isMap=ta,Ur.isMatch=function(t,e){return t===e||Rn(t,e,cs(e))},Ur.isMatchWith=function(e,r,n){return n="function"==typeof n?n:t,Rn(e,r,cs(r),n)},Ur.isNaN=function(t){return ea(t)&&t!=+t},Ur.isNative=function(t){if(vs(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pn(t)},Ur.isNil=function(t){return null==t},Ur.isNull=function(t){return null===t},Ur.isNumber=ea,Ur.isObject=Qo,Ur.isObjectLike=Xo,Ur.isPlainObject=ra,Ur.isRegExp=na,Ur.isSafeInteger=function(t){return Zo(t)&&t>=-a&&t<=a},Ur.isSet=ia,Ur.isString=sa,Ur.isSymbol=oa,Ur.isTypedArray=aa,Ur.isUndefined=function(e){return e===t},Ur.isWeakMap=function(t){return Xo(t)&&ds(t)==M},Ur.isWeakSet=function(t){return Xo(t)&&"[object WeakSet]"==Sn(t)},Ur.join=function(t,e){return null==t?"":pr.call(t,e)},Ur.kebabCase=qa,Ur.last=Ks,Ur.lastIndexOf=function(e,r,n){var i=null==e?0:e.length;if(!i)return-1;var s=i;return n!==t&&(s=(s=da(n))<0?mr(i+s,0):yr(s,i-1)),r==r?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(e,r,s):Le(e,je,s,!0)},Ur.lowerCase=Ha,Ur.lowerFirst=Wa,Ur.lt=ca,Ur.lte=ua,Ur.max=function(e){return e&&e.length?pn(e,ec,xn):t},Ur.maxBy=function(e,r){return e&&e.length?pn(e,os(r,2),xn):t},Ur.mean=function(t){return Fe(t,ec)},Ur.meanBy=function(t,e){return Fe(t,os(e,2))},Ur.min=function(e){return e&&e.length?pn(e,ec,Ln):t},Ur.minBy=function(e,r){return e&&e.length?pn(e,os(r,2),Ln):t},Ur.stubArray=fc,Ur.stubFalse=pc,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=wc,Ur.nth=function(e,r){return e&&e.length?zn(e,da(r)):t},Ur.noConflict=function(){return ue._===this&&(ue._=Ft),this},Ur.noop=oc,Ur.now=So,Ur.pad=function(t,e,r){t=ma(t);var n=(e=da(e))?or(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return qi(qe(i),r)+t+qi(Ne(i),r)},Ur.padEnd=function(t,e,r){t=ma(t);var n=(e=da(e))?or(t):0;return e&&n<e?t+qi(e-n,r):t},Ur.padStart=function(t,e,r){t=ma(t);var n=(e=da(e))?or(t):0;return e&&n<e?qi(e-n,r)+t:t},Ur.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),wr(ma(t).replace(et,""),e||0)},Ur.random=function(e,r,n){if(n&&"boolean"!=typeof n&&ys(e,r,n)&&(r=n=t),n===t&&("boolean"==typeof r?(n=r,r=t):"boolean"==typeof e&&(n=e,e=t)),e===t&&r===t?(e=0,r=1):(e=ha(e),r===t?(r=e,e=0):r=ha(r)),e>r){var i=e;e=r,r=i}if(n||e%1||r%1){var s=vr();return yr(e+s*(r-e+se("1e-"+((s+"").length-1))),r)}return $n(e,r)},Ur.reduce=function(t,e,r){var n=qo(t)?Oe:He,i=arguments.length<3;return n(t,os(e,4),r,i,hn)},Ur.reduceRight=function(t,e,r){var n=qo(t)?Re:He,i=arguments.length<3;return n(t,os(e,4),r,i,dn)},Ur.repeat=function(e,r,n){return r=(n?ys(e,r,n):r===t)?1:da(r),Kn(ma(e),r)},Ur.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ur.result=function(e,r,n){var i=-1,s=(r=yi(r,e)).length;for(s||(s=1,e=t);++i<s;){var o=null==e?t:e[Ns(r[i])];o===t&&(i=s,o=n),e=Yo(o)?o.call(e):o}return e},Ur.round=vc,Ur.runInContext=rt,Ur.sample=function(t){return(qo(t)?Yr:Yn)(t)},Ur.size=function(t){if(null==t)return 0;if(Wo(t))return sa(t)?or(t):t.length;var e=ds(t);return e==v||e==x?t.size:Bn(t).length},Ur.snakeCase=Va,Ur.some=function(e,r,n){var i=qo(e)?Pe:ri;return n&&ys(e,r,n)&&(r=t),i(e,os(r,3))},Ur.sortedIndex=function(t,e){return ni(t,e)},Ur.sortedIndexBy=function(t,e,r){return ii(t,e,os(r,2))},Ur.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ni(t,e);if(n<r&&Uo(t[n],e))return n}return-1},Ur.sortedLastIndex=function(t,e){return ni(t,e,!0)},Ur.sortedLastIndexBy=function(t,e,r){return ii(t,e,os(r,2),!0)},Ur.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=ni(t,e,!0)-1;if(Uo(t[r],e))return r}return-1},Ur.startCase=$a,Ur.startsWith=function(t,e,r){return t=ma(t),r=null==r?0:on(da(r),0,t.length),e=ai(e),t.slice(r,r+e.length)==e},Ur.subtract=_c,Ur.sum=function(t){return t&&t.length?We(t,ec):0},Ur.sumBy=function(t,e){return t&&t.length?We(t,os(e,2)):0},Ur.template=function(e,r,n){var i=Ur.templateSettings;n&&ys(e,r,n)&&(r=t),e=ma(e),r=wa({},r,i,Zi);var s,o,a=wa({},r.imports,i.imports,Zi),c=Ca(a),u=Ge(a,c),l=0,h=r.interpolate||yt,d="__p += '",f=It((r.escape||yt).source+"|"+h.source+"|"+(h===Y?ut:yt).source+"|"+(r.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Bt.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ee+"]")+"\n";e.replace(f,(function(t,r,n,i,a,c){return n||(n=i),d+=e.slice(l,c).replace(bt,tr),r&&(s=!0,d+="' +\n__e("+r+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=Bt.call(r,"variable")&&r.variable;if(g){if(at.test(g))throw new At("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(F,""):d).replace(z,"$1").replace(q,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Za((function(){return St(c,p+"return "+d).apply(t,u)}));if(m.source=d,Go(m))throw m;return m},Ur.times=function(t,e){if((t=da(t))<1||t>a)return[];var r=u,n=yr(t,u);e=os(e),t-=u;for(var i=Ve(n,e);++r<t;)e(r);return i},Ur.toFinite=ha,Ur.toInteger=da,Ur.toLength=fa,Ur.toLower=function(t){return ma(t).toLowerCase()},Ur.toNumber=pa,Ur.toSafeInteger=function(t){return t?on(da(t),-a,a):0===t?t:0},Ur.toString=ma,Ur.toUpper=function(t){return ma(t).toUpperCase()},Ur.trim=function(e,r,n){if((e=ma(e))&&(n||r===t))return $e(e);if(!e||!(r=ai(r)))return e;var i=ar(e),s=ar(r);return wi(i,Ze(i,s),Je(i,s)+1).join("")},Ur.trimEnd=function(e,r,n){if((e=ma(e))&&(n||r===t))return e.slice(0,cr(e)+1);if(!e||!(r=ai(r)))return e;var i=ar(e);return wi(i,0,Je(i,ar(r))+1).join("")},Ur.trimStart=function(e,r,n){if((e=ma(e))&&(n||r===t))return e.replace(et,"");if(!e||!(r=ai(r)))return e;var i=ar(e);return wi(i,Ze(i,ar(r))).join("")},Ur.truncate=function(e,r){var n=30,i="...";if(Qo(r)){var s="separator"in r?r.separator:s;n="length"in r?da(r.length):n,i="omission"in r?ai(r.omission):i}var o=(e=ma(e)).length;if(er(e)){var a=ar(e);o=a.length}if(n>=o)return e;var c=n-or(i);if(c<1)return i;var u=a?wi(a,0,c).join(""):e.slice(0,c);if(s===t)return u+i;if(a&&(c+=u.length-c),na(s)){if(e.slice(c).search(s)){var l,h=u;for(s.global||(s=It(s.source,ma(lt.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var d=l.index;u=u.slice(0,d===t?c:d)}}else if(e.indexOf(ai(s),c)!=c){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+i},Ur.unescape=function(t){return(t=ma(t))&&V.test(t)?t.replace(H,ur):t},Ur.uniqueId=function(t){var e=++Lt;return ma(t)+e},Ur.upperCase=Ka,Ur.upperFirst=Ga,Ur.each=mo,Ur.eachRight=yo,Ur.first=Hs,sc(Ur,function(){var t={};return wn(Ur,(function(e,r){Bt.call(Ur.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),Ur.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ur[t].placeholder=Ur})),Ae(["drop","take"],(function(e,r){qr.prototype[e]=function(n){n=n===t?1:mr(da(n),0);var i=this.__filtered__&&!r?new qr(this):this.clone();return i.__filtered__?i.__takeCount__=yr(n,i.__takeCount__):i.__views__.push({size:yr(n,u),type:e+(i.__dir__<0?"Right":"")}),i},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ae(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;qr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:os(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Ae(["head","last"],(function(t,e){var r="take"+(e?"Right":"");qr.prototype[t]=function(){return this[r](1).value()[0]}})),Ae(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");qr.prototype[t]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(ec)},qr.prototype.find=function(t){return this.filter(t).head()},qr.prototype.findLast=function(t){return this.reverse().find(t)},qr.prototype.invokeMap=Gn((function(t,e){return"function"==typeof t?new qr(this):this.map((function(r){return Cn(r,t,e)}))})),qr.prototype.reject=function(t){return this.filter(Po(os(t)))},qr.prototype.slice=function(e,r){e=da(e);var n=this;return n.__filtered__&&(e>0||r<0)?new qr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),r!==t&&(n=(r=da(r))<0?n.dropRight(-r):n.take(r-e)),n)},qr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qr.prototype.toArray=function(){return this.take(u)},wn(qr.prototype,(function(e,r){var n=/^(?:filter|find|map|reject)|While$/.test(r),i=/^(?:head|last)$/.test(r),s=Ur[i?"take"+("last"==r?"Right":""):r],o=i||/^find/.test(r);s&&(Ur.prototype[r]=function(){var r=this.__wrapped__,a=i?[1]:arguments,c=r instanceof qr,u=a[0],l=c||qo(r),h=function(t){var e=s.apply(Ur,Te([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,g=c&&!f;if(!o&&l){r=g?r:new qr(this);var m=e.apply(r,a);return m.__actions__.push({func:lo,args:[h],thisArg:t}),new zr(m,d)}return p&&g?e.apply(this,a):(m=this.thru(h),p?i?m.value()[0]:m.value():m)})})),Ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Tt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ur.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(qo(i)?i:[],t)}return this[r]((function(r){return e.apply(qo(r)?r:[],t)}))}})),wn(qr.prototype,(function(t,e){var r=Ur[e];if(r){var n=r.name+"";Bt.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:e,func:r})}})),Cr[Ui(t,2).name]=[{name:"wrapper",func:t}],qr.prototype.clone=function(){var t=new qr(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},qr.prototype.reverse=function(){if(this.__filtered__){var t=new qr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=qo(t),n=e<0,i=r?t.length:0,s=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=yr(e,t+o);break;case"takeRight":t=mr(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,u=n?a:o-1,l=this.__iteratees__,h=l.length,d=0,f=yr(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return di(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var g=-1,m=t[u+=e];++g<h;){var y=l[g],b=y.iteratee,w=y.type,v=b(m);if(2==w)m=v;else if(!v){if(1==w)continue t;break t}}p[d++]=m}return p},Ur.prototype.at=ho,Ur.prototype.chain=function(){return uo(this)},Ur.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===t&&(this.__values__=la(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},Ur.prototype.plant=function(e){for(var r,n=this;n instanceof Fr;){var i=Ls(n);i.__index__=0,i.__values__=t,r?s.__wrapped__=i:r=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,r},Ur.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var r=e;return this.__actions__.length&&(r=new qr(this)),(r=r.reverse()).__actions__.push({func:lo,args:[Js],thisArg:t}),new zr(r,this.__chain__)}return this.thru(Js)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,ae&&(Ur.prototype[ae]=function(){return this}),Ur}();he?((he.exports=lr)._=lr,le._=lr):ue._=lr}.call(Cb);var Ob=Object.defineProperty,Rb=Object.defineProperties,Pb=Object.getOwnPropertyDescriptors,Nb=Object.getOwnPropertySymbols,Bb=Object.prototype.hasOwnProperty,Lb=Object.prototype.propertyIsEnumerable,Db=(t,e,r)=>e in t?Ob(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ub=(t,e)=>{for(var r in e||(e={}))Bb.call(e,r)&&Db(t,r,e[r]);if(Nb)for(var r of Nb(e))Lb.call(e,r)&&Db(t,r,e[r]);return t},jb=(t,e)=>Rb(t,Pb(e));function Fb(t,e,r){var n;const i=oc(t);return(null==(n=e.rpcMap)?void 0:n[i.reference])||`https://rpc.walletconnect.com/v1/?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function zb(t){return t.includes(":")?t.split(":")[1]:t}function qb(t){return t.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))}function Hb(t={},e={}){const r=Wb(t),n=Wb(e);return Tb.exports.merge(r,n)}function Wb(t){var e,r,n,i;const s={};if(!$f(t))return s;for(const[o,a]of Object.entries(t)){const t=Uf(o)?[o]:a.chains,c=a.methods||[],u=a.events||[],l=a.rpcMap||{},h=jf(o);s[h]=jb(Ub(Ub({},s[h]),a),{chains:Rc(t,null==(e=s[h])?void 0:e.chains),methods:Rc(c,null==(r=s[h])?void 0:r.methods),events:Rc(u,null==(n=s[h])?void 0:n.events),rpcMap:Ub(Ub({},l),null==(i=s[h])?void 0:i.rpcMap)})}return s}function Vb(t){return t.includes(":")?t.split(":")[2]:t}function $b(t){const e={};for(const[r,n]of Object.entries(t)){const t=n.methods||[],i=n.events||[],s=n.accounts||[],o=Uf(r)?[r]:n.chains?n.chains:qb(n.accounts);e[r]={chains:o,methods:t,events:i,accounts:s}}return e}function Kb(t){return"number"==typeof t?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Gb={},Yb=t=>Gb[t],Zb=(t,e)=>{Gb[t]=e};class Jb{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(kb,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=zb(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Fb(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}}var Qb=Object.defineProperty,Xb=Object.defineProperties,tw=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,rw=Object.prototype.hasOwnProperty,nw=Object.prototype.propertyIsEnumerable,iw=(t,e,r)=>e in t?Qb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sw=(t,e)=>{for(var r in e||(e={}))rw.call(e,r)&&iw(t,r,e[r]);if(ew)for(var r of ew(e))nw.call(e,r)&&iw(t,r,e[r]);return t},ow=(t,e)=>Xb(t,tw(e));class aw{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(kb,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const r=e||Fb(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=parseInt(zb(e));t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,r;let n=t.request.params?null==(e=t.request.params[0])?void 0:e.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const i=parseInt(n,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,r,n;const i=null==(r=null==(e=t.request)?void 0:e.params)?void 0:r[0];if(!i)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const s=this.client.session.get(t.topic),o=(null==(n=s?.sessionProperties)?void 0:n.capabilities)||{};if(null!=o&&o[i])return o?.[i];const a=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:ow(sw({},s.sessionProperties||{}),{capabilities:ow(sw({},o||{}),{[i]:a})})})}catch(t){console.warn("Failed to update session with capabilities",t)}return a}}class cw{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(kb,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=zb(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Fb(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}}class uw{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(kb,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=zb(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Fb(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}}class lw{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(kb,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{const r=this.getCardanoRPCUrl(e),n=zb(e);t[n]=this.createHttpProvider(n,r)})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}}class hw{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(kb,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=zb(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Fb(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}}class dw{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(kb,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=zb(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Fb(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Dp(new Ab(r,Yb("disableProviderPing")))}}class fw{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Yb("events"),this.client=Yb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const r=e||Fb(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(kb,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Fb(t,this.namespace);return typeof r>"u"?void 0:new Dp(new Ab(r,Yb("disableProviderPing")))}}var pw=Object.defineProperty,gw=Object.defineProperties,mw=Object.getOwnPropertyDescriptors,yw=Object.getOwnPropertySymbols,bw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable,vw=(t,e,r)=>e in t?pw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_w=(t,e)=>{for(var r in e||(e={}))bw.call(e,r)&&vw(t,r,e[r]);if(yw)for(var r of yw(e))ww.call(e,r)&&vw(t,r,e[r]);return t},Ew=(t,e)=>gw(t,mw(e));class Aw{constructor(t){this.events=new(Ht()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:aa()(Aa({level:t?.logger||Sb})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new Aw(t);return await e.initialize(),e}async request(t,e,r){const[n,i]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:_w({},t),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,e,r,n){const i=(new Date).getTime();this.request(t,r,n).then((t=>e(null,Ap(i,t)))).catch((t=>e(t,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:Wf("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:e,response:r}=await this.client.authenticate(t);e&&(this.uri=e,this.events.emit("display_uri",e));const n=await r();if(this.session=n.session,this.session){const t=$b(this.session.namespaces);this.namespaces=Hb(this.namespaces,t),this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let e=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(e>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:r,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then((t=>{this.session=t;const e=$b(t.namespaces);this.namespaces=Hb(this.namespaces,e),this.persist("namespaces",this.namespaces)})).catch((t=>{if(t.message!==Uy)throw t;e++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[r,n]=this.validateChain(t);this.getProvider(r).setDefaultChain(n,e)}catch(t){if(!/Please call connect/.test(t.message))throw t}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(Vf(e)){for(const r of e)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await lb.init({logger:this.providerOpts.logger||Sb,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map((t=>jf(t))))];Zb("client",this.client),Zb("events",this.events),Zb("disableProviderPing",this.disableProviderPing),t.forEach((t=>{if(!this.session)return;const e=function(t,e){const r=Object.keys(e.namespaces).filter((e=>e.includes(t)));if(!r.length)return[];const n=[];return r.forEach((t=>{const r=e.namespaces[t].accounts;n.push(...r)})),n}(t,this.session),r=qb(e),n=Hb(this.namespaces,this.optionalNamespaces),i=Ew(_w({},n[t]),{accounts:e,chains:r});switch(t){case"eip155":this.rpcProviders[t]=new aw({namespace:i});break;case"solana":this.rpcProviders[t]=new cw({namespace:i});break;case"cosmos":this.rpcProviders[t]=new uw({namespace:i});break;case"polkadot":this.rpcProviders[t]=new Jb({namespace:i});break;case"cip34":this.rpcProviders[t]=new lw({namespace:i});break;case"elrond":this.rpcProviders[t]=new hw({namespace:i});break;case"multiversx":this.rpcProviders[t]=new dw({namespace:i});break;case"near":this.rpcProviders[t]=new fw({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(t=>{this.events.emit("session_ping",t)})),this.client.on("session_event",(t=>{const{params:e}=t,{event:r}=e;if("accountsChanged"===r.name){const t=r.data;t&&Vf(t)&&this.events.emit("accountsChanged",t.map(Vb))}else if("chainChanged"===r.name){const t=e.chainId,r=e.event.data,n=jf(t),i=Kb(t)!==Kb(r)?`${n}:${Kb(r)}`:t;this.onChainChanged(i)}else this.events.emit(r.name,r.data);this.events.emit("session_event",t)})),this.client.on("session_update",(({topic:t,params:e})=>{var r;const{namespaces:n}=e,i=null==(r=this.client)?void 0:r.session.get(t);this.session=Ew(_w({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e})})),this.client.on("session_delete",(async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Ew(_w({},Wf("USER_DISCONNECTED")),{data:t.topic}))})),this.on(kb,(t=>{this.onChainChanged(t,!0)}))}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((t=>{var e;this.getProvider(t).updateNamespace(null==(e=this.session)?void 0:e.namespaces[t])}))}setNamespaces(t){const{namespaces:e,optionalNamespaces:r,sessionProperties:n}=t;e&&Object.keys(e).length&&(this.namespaces=e),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",e),this.persist("optionalNamespaces",r)}validateChain(t){const[e,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,r];if(e&&!Object.keys(this.namespaces||{}).map((t=>jf(t))).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&r)return[e,r];const n=jf(Object.keys(this.namespaces)[0]);return[n,this.rpcProviders[n].getDefaultChain()]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,e=!1){if(!this.namespaces)return;const[r,n]=this.validateChain(t);n&&(e||this.getProvider(r).setDefaultChain(n),this.namespaces[r]?this.namespaces[r].defaultChain=n:this.namespaces[`${r}:${n}`]?this.namespaces[`${r}:${n}`].defaultChain=n:this.namespaces[`${r}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,e){this.client.core.storage.setItem(`${xb}/${t}`,e)}async getFromStore(t){return await this.client.core.storage.getItem(`${xb}/${t}`)}}const Sw=Aw,xw=["eth_sendTransaction","personal_sign"],kw=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],Iw=["chainChanged","accountsChanged"],Mw=["chainChanged","accountsChanged","message","disconnect","connect"];var Cw=Object.defineProperty,Tw=Object.defineProperties,Ow=Object.getOwnPropertyDescriptors,Rw=Object.getOwnPropertySymbols,Pw=Object.prototype.hasOwnProperty,Nw=Object.prototype.propertyIsEnumerable,Bw=(t,e,r)=>e in t?Cw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lw=(t,e)=>{for(var r in e||(e={}))Pw.call(e,r)&&Bw(t,r,e[r]);if(Rw)for(var r of Rw(e))Nw.call(e,r)&&Bw(t,r,e[r]);return t},Dw=(t,e)=>Tw(t,Ow(e));function Uw(t){return Number(t[0].split(":")[1])}function jw(t){return`0x${t.toString(16)}`}class Fw{constructor(){this.events=new qt.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,e)=>(this.events.on(t,e),this),this.once=(t,e)=>(this.events.once(t,e),this),this.removeListener=(t,e)=>(this.events.removeListener(t,e),this),this.off=(t,e)=>(this.events.off(t,e),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const e=new Fw;return await e.initialize(t),e}async request(t,e){return await this.signer.request(t,this.formatChainId(this.chainId),e)}sendAsync(t,e,r){this.signer.sendAsync(t,e,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:e,optional:r}=function(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!xo(e))throw new Error("Invalid chains");const c={chains:e,methods:n||xw,events:s||Iw,rpcMap:Lw({},e.length?{[Uw(e)]:a[Uw(e)]}:{})},u=s?.filter((t=>!Iw.includes(t))),l=n?.filter((t=>!xw.includes(t)));if(!(r||o||i||null!=u&&u.length||null!=l&&l.length))return{required:e.length?c:void 0};const h={chains:[...new Set(u?.length&&l?.length||!r?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:kw))],events:[...new Set(c.events.concat(null!=o&&o.length?o:Mw))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?h:void 0}}(this.rpc);try{const n=await new Promise((async(n,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(Dw(Lw({namespaces:Lw({},e&&{[this.namespace]:e})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:t?.pairingTopic})).then((t=>{n(t)})).catch((t=>{i(new Error(t.message))}))}));if(!n)return;const i=kr(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:jw(this.chainId)})}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async authenticate(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const e=await new Promise((async(e,r)=>{var n;this.rpc.showQrModal&&(null==(n=this.modal)||n.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))}))),await this.signer.authenticate(Dw(Lw({},t),{chains:this.rpc.chains})).then((t=>{e(t)})).catch((t=>{r(new Error(t.message))}))})),r=e.session;if(r){const t=kr(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:t),this.setAccounts(t),this.events.emit("connect",{chainId:jw(this.chainId)})}return e}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:e}=t,{event:r}=e;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const e=parseInt(t);this.chainId=e,this.events.emit("chainChanged",jw(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",Dw(Lw({},function(t,e){const{message:r,code:n}=So[t];return{message:e?`${r} ${e}`:r,code:n}}("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var e,r;this.rpc.showQrModal&&(null==(e=this.modal)||e.closeModal(),null==(r=this.modal)||r.openModal({uri:t})),this.events.emit("display_uri",t)}))}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const e=t.filter((t=>this.isCompatibleChainId(t))).map((t=>this.parseChainId(t)));e.length&&(this.chainId=e[0],this.events.emit("chainChanged",jw(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const e=this.parseChainId(t);this.chainId=e,this.switchEthereumChain(e)}}parseAccountId(t){const[e,r,n]=t.split(":");return{chainId:`${e}:${r}`,address:n}}setAccounts(t){this.accounts=t.filter((t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId)).map((t=>this.parseAccountId(t).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var e,r;const n=null!=(e=t?.chains)?e:[],i=null!=(r=t?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=n.length?t?.methods||xw:[],a=n.length?t?.events||Iw:[],c=t?.optionalMethods||[],u=t?.optionalEvents||[],l=t?.rpcMap||this.buildRpcMap(s,t.projectId),h=t?.qrModalOptions||void 0;return{chains:n?.map((t=>this.formatChainId(t))),optionalChains:i.map((t=>this.formatChainId(t))),methods:o,events:a,optionalMethods:c,optionalEvents:u,rpcMap:l,showQrModal:!(null==t||!t.showQrModal),qrModalOptions:h,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,e){const r={};return t.forEach((t=>{r[t]=this.getRpcUrl(t,e)})),r}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Uw(this.rpc.chains):Uw(this.rpc.optionalChains),this.signer=await Sw.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:e}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9009));t=e}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(Lw({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:e,optionalChains:r,rpcMap:n}=t;e&&xo(e)&&(this.rpc.chains=e.map((t=>this.formatChainId(t))),e.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)}))),r&&xo(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map((t=>this.formatChainId(t))),r.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)})))}getRpcUrl(t,e){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${e||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),e=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:e?.accounts),this.setAccounts(e?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch((t=>this.signer.logger.warn(t)))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((t=>this.parseAccount(t)))}}const zw=Fw;class qw extends Ct{constructor(){super(St.WalletConnect)}getRPCMap(){return this.netWorkService.getAll().reduce(((t,e)=>(t[e.id]=e.networkParams.defaultRpcUrl,t)),{})}async connect(t){console.log("WalletConnectWalletService::connect connect to wallet from widget");const e=await zw.init({rpcMap:this.getRPCMap(),projectId:b.walletConnectProjectId,optionalChains:this.netWorkService.getAll().filter((t=>t.type==H.EVM)).map((t=>t.id)),showQrModal:!0,chains:[1],methods:["eth_sendTransaction"],optionalMethods:["eth_signTypedData","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_requestPermissions","wallet_addEthereumChain"],optionalEvents:["accountsChanged"],qrModalOptions:{explorerExcludedWalletIds:["c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96"]}});e.on("disconnect",(()=>{this.disconnect$.next()}));try{console.log("WalletConnectWalletService::connect try enable"),await e.enable()}catch(t){throw new Tt(xt.CONNECT_ERROR)}console.log("WalletConnectWalletService::connect set provider"),this.setProvider(e),await this.getAccount()}async disconnect(){this.provider&&await this.provider.disconnect(),this.setProvider(null)}}var Hw=__webpack_require__(591),Ww=__webpack_require__(9404),Vw=__webpack_require__.n(Ww),$w=__webpack_require__(6763),Kw=__webpack_require__.n($w),Gw=__webpack_require__(2729),Yw=__webpack_require__.n(Gw),Zw=__webpack_require__(1658),Jw=__webpack_require__(8226);function Qw(t){let e=t.length;for(;--e>=0;)t[e]=0}const Xw=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ev=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),rv=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nv=new Array(576);Qw(nv);const iv=new Array(60);Qw(iv);const sv=new Array(512);Qw(sv);const ov=new Array(256);Qw(ov);const av=new Array(29);Qw(av);const cv=new Array(30);function uv(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let lv,hv,dv;function fv(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Qw(cv);const pv=t=>t<256?sv[t]:sv[256+(t>>>7)],gv=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},mv=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,gv(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},yv=(t,e,r)=>{mv(t,r[2*e],r[2*e+1])},bv=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},wv=(t,e,r)=>{const n=new Array(16);let i,s,o=0;for(i=1;i<=15;i++)o=o+r[i-1]<<1,n[i]=o;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=bv(n[e]++,e))}},vv=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},_v=t=>{t.bi_valid>8?gv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Ev=(t,e,r,n)=>{const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},Av=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Ev(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Ev(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},Sv=(t,e,r)=>{let n,i,s,o,a=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+a++],n+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===n?yv(t,i,e):(s=ov[i],yv(t,s+256+1,e),o=Xw[s],0!==o&&(i-=av[s],mv(t,i,o)),n--,s=pv(n),yv(t,s,r),o=tv[s],0!==o&&(n-=cv[s],mv(t,n,o)))}while(a<t.sym_next);yv(t,256,e)},xv=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):r[2*o+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)Av(t,r,o);c=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Av(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[2*c]=r[2*o]+r[2*a],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[2*o+1]=r[2*a+1]=c,t.heap[1]=c++,Av(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,h,d,f,p,g=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],d=r[2*r[2*l+1]+1]+1,d>c&&(d=c,g++),r[2*l+1]=d,l>n||(t.bl_count[d]++,f=0,l>=a&&(f=o[l-a]),p=r[2*l],t.opt_len+=p*(d+f),s&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==g){do{for(d=c-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,g-=2}while(g>0);for(d=c;0!==d;d--)for(l=t.bl_count[d];0!==l;)h=t.heap[--u],h>n||(r[2*h+1]!==d&&(t.opt_len+=(d-r[2*h+1])*r[2*h],r[2*h+1]=d),l--)}})(t,e),wv(r,u,t.bl_count)},kv=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,c=7,u=4;for(0===o&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++a<c&&i===o||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,s=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))},Iv=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,c=7,u=4;for(0===o&&(c=138,u=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++a<c&&i===o)){if(a<u)do{yv(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(yv(t,i,t.bl_tree),a--),yv(t,16,t.bl_tree),mv(t,a-3,2)):a<=10?(yv(t,17,t.bl_tree),mv(t,a-3,3)):(yv(t,18,t.bl_tree),mv(t,a-11,7));a=0,s=i,0===o?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}};let Mv=!1;const Cv=(t,e,r,n)=>{mv(t,0+(n?1:0),3),_v(t),gv(t,r),gv(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var Tv={_tr_init:t=>{Mv||((()=>{let t,e,r,n,i;const s=new Array(16);for(r=0,n=0;n<28;n++)for(av[n]=r,t=0;t<1<<Xw[n];t++)ov[r++]=n;for(ov[r-1]=n,i=0,n=0;n<16;n++)for(cv[n]=i,t=0;t<1<<tv[n];t++)sv[i++]=n;for(i>>=7;n<30;n++)for(cv[n]=i<<7,t=0;t<1<<tv[n]-7;t++)sv[256+i++]=n;for(e=0;e<=15;e++)s[e]=0;for(t=0;t<=143;)nv[2*t+1]=8,t++,s[8]++;for(;t<=255;)nv[2*t+1]=9,t++,s[9]++;for(;t<=279;)nv[2*t+1]=7,t++,s[7]++;for(;t<=287;)nv[2*t+1]=8,t++,s[8]++;for(wv(nv,287,s),t=0;t<30;t++)iv[2*t+1]=5,iv[2*t]=bv(t,5);lv=new uv(nv,Xw,257,286,15),hv=new uv(iv,tv,0,30,15),dv=new uv(new Array(0),ev,0,19,7)})(),Mv=!0),t.l_desc=new fv(t.dyn_ltree,lv),t.d_desc=new fv(t.dyn_dtree,hv),t.bl_desc=new fv(t.bl_tree,dv),t.bi_buf=0,t.bi_valid=0,vv(t)},_tr_stored_block:Cv,_tr_flush_block:(t,e,r,n)=>{let i,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),xv(t,t.l_desc),xv(t,t.d_desc),o=(t=>{let e;for(kv(t,t.dyn_ltree,t.l_desc.max_code),kv(t,t.dyn_dtree,t.d_desc.max_code),xv(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*rv[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==e?Cv(t,e,r,n):4===t.strategy||s===i?(mv(t,2+(n?1:0),3),Sv(t,nv,iv)):(mv(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(mv(t,e-257,5),mv(t,r-1,5),mv(t,n-4,4),i=0;i<n;i++)mv(t,t.bl_tree[2*rv[i]+1],3);Iv(t,t.dyn_ltree,e-1),Iv(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Sv(t,t.dyn_ltree,t.dyn_dtree)),vv(t),n&&_v(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ov[r]+256+1)]++,t.dyn_dtree[2*pv(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{mv(t,2,3),yv(t,256,nv),(t=>{16===t.bi_valid?(gv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Ov=(t,e,r,n)=>{let i=65535&t,s=t>>>16&65535,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do{i=i+e[n++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16};const Rv=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var Pv=(t,e,r,n)=>{const i=Rv,s=n+r;t^=-1;for(let r=n;r<s;r++)t=t>>>8^i[255&(t^e[r])];return~t},Nv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Lv,_tr_stored_block:Dv,_tr_flush_block:Uv,_tr_tally:jv,_tr_align:Fv}=Tv,{Z_NO_FLUSH:zv,Z_PARTIAL_FLUSH:qv,Z_FULL_FLUSH:Hv,Z_FINISH:Wv,Z_BLOCK:Vv,Z_OK:$v,Z_STREAM_END:Kv,Z_STREAM_ERROR:Gv,Z_DATA_ERROR:Yv,Z_BUF_ERROR:Zv,Z_DEFAULT_COMPRESSION:Jv,Z_FILTERED:Qv,Z_HUFFMAN_ONLY:Xv,Z_RLE:t_,Z_FIXED:e_,Z_DEFAULT_STRATEGY:r_,Z_UNKNOWN:n_,Z_DEFLATED:i_}=Bv,s_=258,o_=262,a_=42,c_=113,u_=666,l_=(t,e)=>(t.msg=Nv[e],e),h_=t=>2*t-(t>4?9:0),d_=t=>{let e=t.length;for(;--e>=0;)t[e]=0},f_=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let p_=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const g_=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},m_=(t,e)=>{Uv(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g_(t.strm)},y_=(t,e)=>{t.pending_buf[t.pending++]=e},b_=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},w_=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Ov(t.adler,e,i,r):2===t.state.wrap&&(t.adler=Pv(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},v_=(t,e)=>{let r,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-o_?t.strstart-(t.w_size-o_):0,u=t.window,l=t.w_mask,h=t.prev,d=t.strstart+s_;let f=u[s+o-1],p=u[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,u[r+o]===p&&u[r+o-1]===f&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(n=s_-(d-s),s=d-s_,n>o){if(t.match_start=e,o=n,n>=a)break;f=u[s+o-1],p=u[s+o]}}}while((e=h[e&l])>c&&0!=--i);return o<=t.lookahead?o:t.lookahead},__=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-o_)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),f_(t),n+=e),0===t.strm.avail_in)break;if(r=w_(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=p_(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=p_(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<o_&&0!==t.strm.avail_in)},E_=(t,e)=>{let r,n,i,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<s&&(0===r&&e!==Wv||e===zv||r!==n+t.strm.avail_in))break;o=e===Wv&&r===n+t.strm.avail_in?1:0,Dv(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,g_(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(w_(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==zv&&e!==Wv&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(w_(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,s=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=s||(n||e===Wv)&&e!==zv&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,o=e===Wv&&0===t.strm.avail_in&&r===n?1:0,Dv(t,t.block_start,r,o),t.block_start+=r,g_(t.strm)),o?3:1)},A_=(t,e)=>{let r,n;for(;;){if(t.lookahead<o_){if(__(t),t.lookahead<o_&&e===zv)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=p_(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-o_&&(t.match_length=v_(t,r)),t.match_length>=3)if(n=jv(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=p_(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=p_(t,t.ins_h,t.window[t.strstart+1]);else n=jv(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(m_(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Wv?(m_(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(m_(t,!1),0===t.strm.avail_out)?1:2},S_=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<o_){if(__(t),t.lookahead<o_&&e===zv)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=p_(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-o_&&(t.match_length=v_(t,r),t.match_length<=5&&(t.strategy===Qv||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=jv(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=p_(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(m_(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=jv(t,0,t.window[t.strstart-1]),n&&m_(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=jv(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Wv?(m_(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(m_(t,!1),0===t.strm.avail_out)?1:2};function x_(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const k_=[new x_(0,0,0,0,E_),new x_(4,4,8,4,A_),new x_(4,5,16,8,A_),new x_(4,6,32,32,A_),new x_(4,4,16,16,S_),new x_(8,16,32,32,S_),new x_(8,16,128,128,S_),new x_(8,32,128,256,S_),new x_(32,128,258,1024,S_),new x_(32,258,258,4096,S_)];function I_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=i_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),d_(this.dyn_ltree),d_(this.dyn_dtree),d_(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),d_(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),d_(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const M_=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==a_&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==c_&&e.status!==u_?1:0},C_=t=>{if(M_(t))return l_(t,Gv);t.total_in=t.total_out=0,t.data_type=n_;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?a_:c_,t.adler=2===e.wrap?0:1,e.last_flush=-2,Lv(e),$v},T_=t=>{const e=C_(t);return e===$v&&(t=>{t.window_size=2*t.w_size,d_(t.head),t.max_lazy_match=k_[t.level].max_lazy,t.good_match=k_[t.level].good_length,t.nice_match=k_[t.level].nice_length,t.max_chain_length=k_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},O_=(t,e,r,n,i,s)=>{if(!t)return Gv;let o=1;if(e===Jv&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==i_||n<8||n>15||e<0||e>9||s<0||s>e_||8===n&&1!==o)return l_(t,Gv);8===n&&(n=9);const a=new I_;return t.state=a,a.strm=t,a.status=a_,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=s,a.method=r,T_(t)};var R_=O_,P_=(t,e)=>M_(t)||2!==t.state.wrap?Gv:(t.state.gzhead=e,$v),N_=(t,e)=>{if(M_(t)||e>Vv||e<0)return t?l_(t,Gv):Gv;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===u_&&e!==Wv)return l_(t,0===t.avail_out?Zv:Gv);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(g_(t),0===t.avail_out)return r.last_flush=-1,$v}else if(0===t.avail_in&&h_(e)<=h_(n)&&e!==Wv)return l_(t,Zv);if(r.status===u_&&0!==t.avail_in)return l_(t,Zv);if(r.status===a_&&0===r.wrap&&(r.status=c_),r.status===a_){let e=i_+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=Xv||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,b_(r,e),0!==r.strstart&&(b_(r,t.adler>>>16),b_(r,65535&t.adler)),t.adler=1,r.status=c_,g_(t),0!==r.pending)return r.last_flush=-1,$v}if(57===r.status)if(t.adler=0,y_(r,31),y_(r,139),y_(r,8),r.gzhead)y_(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),y_(r,255&r.gzhead.time),y_(r,r.gzhead.time>>8&255),y_(r,r.gzhead.time>>16&255),y_(r,r.gzhead.time>>24&255),y_(r,9===r.level?2:r.strategy>=Xv||r.level<2?4:0),y_(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(y_(r,255&r.gzhead.extra.length),y_(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Pv(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(y_(r,0),y_(r,0),y_(r,0),y_(r,0),y_(r,0),y_(r,9===r.level?2:r.strategy>=Xv||r.level<2?4:0),y_(r,3),r.status=c_,g_(t),0!==r.pending)return r.last_flush=-1,$v;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=Pv(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,g_(t),0!==r.pending)return r.last_flush=-1,$v;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=Pv(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Pv(t.adler,r.pending_buf,r.pending-n,n)),g_(t),0!==r.pending)return r.last_flush=-1,$v;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,y_(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Pv(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Pv(t.adler,r.pending_buf,r.pending-n,n)),g_(t),0!==r.pending)return r.last_flush=-1,$v;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,y_(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Pv(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(g_(t),0!==r.pending))return r.last_flush=-1,$v;y_(r,255&t.adler),y_(r,t.adler>>8&255),t.adler=0}if(r.status=c_,g_(t),0!==r.pending)return r.last_flush=-1,$v}if(0!==t.avail_in||0!==r.lookahead||e!==zv&&r.status!==u_){let n=0===r.level?E_(r,e):r.strategy===Xv?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(__(t),0===t.lookahead)){if(e===zv)return 1;break}if(t.match_length=0,r=jv(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(m_(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Wv?(m_(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(m_(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===t_?((t,e)=>{let r,n,i,s;const o=t.window;for(;;){if(t.lookahead<=s_){if(__(t),t.lookahead<=s_&&e===zv)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+s_;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=s_-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=jv(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=jv(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(m_(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Wv?(m_(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(m_(t,!1),0===t.strm.avail_out)?1:2})(r,e):k_[r.level].func(r,e);if(3!==n&&4!==n||(r.status=u_),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),$v;if(2===n&&(e===qv?Fv(r):e!==Vv&&(Dv(r,0,0,!1),e===Hv&&(d_(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),g_(t),0===t.avail_out))return r.last_flush=-1,$v}return e!==Wv?$v:r.wrap<=0?Kv:(2===r.wrap?(y_(r,255&t.adler),y_(r,t.adler>>8&255),y_(r,t.adler>>16&255),y_(r,t.adler>>24&255),y_(r,255&t.total_in),y_(r,t.total_in>>8&255),y_(r,t.total_in>>16&255),y_(r,t.total_in>>24&255)):(b_(r,t.adler>>>16),b_(r,65535&t.adler)),g_(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?$v:Kv)},B_=t=>{if(M_(t))return Gv;const e=t.state.status;return t.state=null,e===c_?l_(t,Yv):$v},L_=(t,e)=>{let r=e.length;if(M_(t))return Gv;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==a_||n.lookahead)return Gv;if(1===i&&(t.adler=Ov(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(d_(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,__(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=p_(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,__(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,n.wrap=i,$v};const D_=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var U_=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)D_(r,e)&&(t[e]=r[e])}}return t},j_=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let F_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){F_=!1}const z_=new Uint8Array(256);for(let t=0;t<256;t++)z_[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;z_[254]=z_[254]=1;var q_=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},H_=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const s=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){s[i++]=e;continue}let o=z_[e];if(o>4)s[i++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<r;)e=e<<6|63&t[n++],o--;o>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&F_)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(s,i)},W_=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+z_[t[r]]>e?r:e},V_=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const $_=Object.prototype.toString,{Z_NO_FLUSH:K_,Z_SYNC_FLUSH:G_,Z_FULL_FLUSH:Y_,Z_FINISH:Z_,Z_OK:J_,Z_STREAM_END:Q_,Z_DEFAULT_COMPRESSION:X_,Z_DEFAULT_STRATEGY:tE,Z_DEFLATED:eE}=Bv;function rE(t){this.options=U_({level:X_,method:eE,chunkSize:16384,windowBits:15,memLevel:8,strategy:tE},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V_,this.strm.avail_out=0;let r=R_(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==J_)throw new Error(Nv[r]);if(e.header&&P_(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?q_(e.dictionary):"[object ArrayBuffer]"===$_.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=L_(this.strm,t),r!==J_)throw new Error(Nv[r]);this._dict_set=!0}}function nE(t,e){const r=new rE(e);if(r.push(t,!0),r.err)throw r.msg||Nv[r.err];return r.result}rE.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Z_:K_,"string"==typeof t?r.input=q_(t):"[object ArrayBuffer]"===$_.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===G_||s===Y_)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=N_(r,s),i===Q_)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=B_(this.strm),this.onEnd(i),this.ended=!0,i===J_;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},rE.prototype.onData=function(t){this.chunks.push(t)},rE.prototype.onEnd=function(t){t===J_&&(this.result=j_(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var iE={Deflate:rE,deflate:nE,deflateRaw:function(t,e){return(e=e||{}).raw=!0,nE(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,nE(t,e)},constants:Bv};const sE=16209;var oE=function(t,e){let r,n,i,s,o,a,c,u,l,h,d,f,p,g,m,y,b,w,v,_,E,A,S,x;const k=t.state;r=t.next_in,S=t.input,n=r+(t.avail_in-5),i=t.next_out,x=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),a=k.dmax,c=k.wsize,u=k.whave,l=k.wnext,h=k.window,d=k.hold,f=k.bits,p=k.lencode,g=k.distcode,m=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;t:do{f<15&&(d+=S[r++]<<f,f+=8,d+=S[r++]<<f,f+=8),b=p[d&m];e:for(;;){if(w=b>>>24,d>>>=w,f-=w,w=b>>>16&255,0===w)x[i++]=65535&b;else{if(!(16&w)){if(64&w){if(32&w){k.mode=16191;break t}t.msg="invalid literal/length code",k.mode=sE;break t}b=p[(65535&b)+(d&(1<<w)-1)];continue e}for(v=65535&b,w&=15,w&&(f<w&&(d+=S[r++]<<f,f+=8),v+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=S[r++]<<f,f+=8,d+=S[r++]<<f,f+=8),b=g[d&y];;){if(w=b>>>24,d>>>=w,f-=w,w=b>>>16&255,16&w){if(_=65535&b,w&=15,f<w&&(d+=S[r++]<<f,f+=8,f<w&&(d+=S[r++]<<f,f+=8)),_+=d&(1<<w)-1,_>a){t.msg="invalid distance too far back",k.mode=sE;break t}if(d>>>=w,f-=w,w=i-s,_>w){if(w=_-w,w>u&&k.sane){t.msg="invalid distance too far back",k.mode=sE;break t}if(E=0,A=h,0===l){if(E+=c-w,w<v){v-=w;do{x[i++]=h[E++]}while(--w);E=i-_,A=x}}else if(l<w){if(E+=c+l-w,w-=l,w<v){v-=w;do{x[i++]=h[E++]}while(--w);if(E=0,l<v){w=l,v-=w;do{x[i++]=h[E++]}while(--w);E=i-_,A=x}}}else if(E+=l-w,w<v){v-=w;do{x[i++]=h[E++]}while(--w);E=i-_,A=x}for(;v>2;)x[i++]=A[E++],x[i++]=A[E++],x[i++]=A[E++],v-=3;v&&(x[i++]=A[E++],v>1&&(x[i++]=A[E++]))}else{E=i-_;do{x[i++]=x[E++],x[i++]=x[E++],x[i++]=x[E++],v-=3}while(v>2);v&&(x[i++]=x[E++],v>1&&(x[i++]=x[E++]))}break}if(64&w){t.msg="invalid distance code",k.mode=sE;break t}b=g[(65535&b)+(d&(1<<w)-1)]}}break}}while(r<n&&i<o);v=f>>3,r-=v,f-=v<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),k.hold=d,k.bits=f};const aE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var hE=(t,e,r,n,i,s,o,a)=>{const c=a.bits;let u,l,h,d,f,p,g=0,m=0,y=0,b=0,w=0,v=0,_=0,E=0,A=0,S=0,x=null;const k=new Uint16Array(16),I=new Uint16Array(16);let M,C,T,O=null;for(g=0;g<=15;g++)k[g]=0;for(m=0;m<n;m++)k[e[r+m]]++;for(w=c,b=15;b>=1&&0===k[b];b--);if(w>b&&(w=b),0===b)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(y=1;y<b&&0===k[y];y++);for(w<y&&(w=y),E=1,g=1;g<=15;g++)if(E<<=1,E-=k[g],E<0)return-1;if(E>0&&(0===t||1!==b))return-1;for(I[1]=0,g=1;g<15;g++)I[g+1]=I[g]+k[g];for(m=0;m<n;m++)0!==e[r+m]&&(o[I[e[r+m]]++]=m);if(0===t?(x=O=o,p=20):1===t?(x=aE,O=cE,p=257):(x=uE,O=lE,p=0),S=0,m=0,g=y,f=s,v=w,_=0,h=-1,A=1<<w,d=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){M=g-_,o[m]+1<p?(C=0,T=o[m]):o[m]>=p?(C=O[o[m]-p],T=x[o[m]-p]):(C=96,T=0),u=1<<g-_,l=1<<v,y=l;do{l-=u,i[f+(S>>_)+l]=M<<24|C<<16|T}while(0!==l);for(u=1<<g-1;S&u;)u>>=1;if(0!==u?(S&=u-1,S+=u):S=0,m++,0==--k[g]){if(g===b)break;g=e[r+o[m]]}if(g>w&&(S&d)!==h){for(0===_&&(_=w),f+=y,v=g-_,E=1<<v;v+_<b&&(E-=k[v+_],!(E<=0));)v++,E<<=1;if(A+=1<<v,1===t&&A>852||2===t&&A>592)return 1;h=S&d,i[h]=w<<24|v<<16|f-s}}return 0!==S&&(i[f+S]=g-_<<24|64<<16),a.bits=w,0};const{Z_FINISH:dE,Z_BLOCK:fE,Z_TREES:pE,Z_OK:gE,Z_STREAM_END:mE,Z_NEED_DICT:yE,Z_STREAM_ERROR:bE,Z_DATA_ERROR:wE,Z_MEM_ERROR:vE,Z_BUF_ERROR:_E,Z_DEFLATED:EE}=Bv,AE=16180,SE=16190,xE=16191,kE=16192,IE=16194,ME=16199,CE=16200,TE=16206,OE=16209,RE=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function PE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const NE=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<AE||e.mode>16211?1:0},BE=t=>{if(NE(t))return bE;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=AE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,gE},LE=t=>{if(NE(t))return bE;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,BE(t)},DE=(t,e)=>{let r;if(NE(t))return bE;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?bE:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,LE(t))},UE=(t,e)=>{if(!t)return bE;const r=new PE;t.state=r,r.strm=t,r.window=null,r.mode=AE;const n=DE(t,e);return n!==gE&&(t.state=null),n};let jE,FE,zE=!0;const qE=t=>{if(zE){jE=new Int32Array(512),FE=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hE(1,t.lens,0,288,jE,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hE(2,t.lens,0,32,FE,0,t.work,{bits:5}),zE=!1}t.lencode=jE,t.lenbits=9,t.distcode=FE,t.distbits=5},HE=(t,e,r,n)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var WE=LE,VE=UE,$E=(t,e)=>{let r,n,i,s,o,a,c,u,l,h,d,f,p,g,m,y,b,w,v,_,E,A,S=0;const x=new Uint8Array(4);let k,I;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(NE(t)||!t.output||!t.input&&0!==t.avail_in)return bE;r=t.state,r.mode===xE&&(r.mode=kE),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,h=a,d=c,A=gE;t:for(;;)switch(r.mode){case AE:if(0===r.wrap){r.mode=kE;break}for(;l<16;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,x[0]=255&u,x[1]=u>>>8&255,r.check=Pv(r.check,x,2,0),u=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=OE;break}if((15&u)!==EE){t.msg="unknown compression method",r.mode=OE;break}if(u>>>=4,l-=4,E=8+(15&u),0===r.wbits&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=OE;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&u?16189:xE,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(r.flags=u,(255&r.flags)!==EE){t.msg="unknown compression method",r.mode=OE;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=OE;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Pv(r.check,x,2,0)),u=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,r.check=Pv(r.check,x,4,0)),u=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Pv(r.check,x,2,0)),u=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Pv(r.check,x,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),E)),512&r.flags&&4&r.wrap&&(r.check=Pv(r.check,n,f,s)),a-=f,s+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break t;f=0;do{E=n[s+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=Pv(r.check,n,f,s)),a-=f,s+=f,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break t;f=0;do{E=n[s+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=Pv(r.check,n,f,s)),a-=f,s+=f,E)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(4&r.wrap&&u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=OE;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=xE;break;case 16189:for(;l<32;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}t.adler=r.check=RE(u),u=0,l=0,r.mode=SE;case SE:if(0===r.havedict)return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=l,yE;t.adler=r.check=1,r.mode=xE;case xE:if(e===fE||e===pE)break t;case kE:if(r.last){u>>>=7&l,l-=7&l,r.mode=TE;break}for(;l<3;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,u>>>=1,l-=1,3&u){case 0:r.mode=16193;break;case 1:if(qE(r),r.mode=ME,e===pE){u>>>=2,l-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=OE}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=OE;break}if(r.length=65535&u,u=0,l=0,r.mode=IE,e===pE)break t;case IE:r.mode=16195;case 16195:if(f=r.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;i.set(n.subarray(s,s+f),o),a-=f,s+=f,c-=f,o+=f,r.length-=f;break}r.mode=xE;break;case 16196:for(;l<14;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=OE;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}r.lens[M[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},A=hE(0,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,A){t.msg="invalid code lengths set",r.mode=OE;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[u&(1<<r.lenbits)-1],m=S>>>24,y=S>>>16&255,b=65535&S,!(m<=l);){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=m,l-=m,r.lens[r.have++]=b;else{if(16===b){for(I=m+2;l<I;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(u>>>=m,l-=m,0===r.have){t.msg="invalid bit length repeat",r.mode=OE;break}E=r.lens[r.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===b){for(I=m+3;l<I;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}u>>>=m,l-=m,E=0,f=3+(7&u),u>>>=3,l-=3}else{for(I=m+7;l<I;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}u>>>=m,l-=m,E=0,f=11+(127&u),u>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=OE;break}for(;f--;)r.lens[r.have++]=E}}if(r.mode===OE)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=OE;break}if(r.lenbits=9,k={bits:r.lenbits},A=hE(1,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,A){t.msg="invalid literal/lengths set",r.mode=OE;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},A=hE(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,A){t.msg="invalid distances set",r.mode=OE;break}if(r.mode=ME,e===pE)break t;case ME:r.mode=CE;case CE:if(a>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=l,oE(t,d),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,r.mode===xE&&(r.back=-1);break}for(r.back=0;S=r.lencode[u&(1<<r.lenbits)-1],m=S>>>24,y=S>>>16&255,b=65535&S,!(m<=l);){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(y&&!(240&y)){for(w=m,v=y,_=b;S=r.lencode[_+((u&(1<<w+v)-1)>>w)],m=S>>>24,y=S>>>16&255,b=65535&S,!(w+m<=l);){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=m,l-=m,r.back+=m,r.length=b,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=xE;break}if(64&y){t.msg="invalid literal/length code",r.mode=OE;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(I=r.extra;l<I;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;S=r.distcode[u&(1<<r.distbits)-1],m=S>>>24,y=S>>>16&255,b=65535&S,!(m<=l);){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(!(240&y)){for(w=m,v=y,_=b;S=r.distcode[_+((u&(1<<w+v)-1)>>w)],m=S>>>24,y=S>>>16&255,b=65535&S,!(w+m<=l);){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=m,l-=m,r.back+=m,64&y){t.msg="invalid distance code",r.mode=OE;break}r.offset=b,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(I=r.extra;l<I;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=OE;break}r.mode=16204;case 16204:if(0===c)break t;if(f=d-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=OE;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do{i[o++]=g[p++]}while(--f);0===r.length&&(r.mode=CE);break;case 16205:if(0===c)break t;i[o++]=r.length,c--,r.mode=CE;break;case TE:if(r.wrap){for(;l<32;){if(0===a)break t;a--,u|=n[s++]<<l,l+=8}if(d-=c,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?Pv(r.check,i,d,o-d):Ov(r.check,i,d,o-d)),d=c,4&r.wrap&&(r.flags?u:RE(u))!==r.check){t.msg="incorrect data check",r.mode=OE;break}u=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,u+=n[s++]<<l,l+=8}if(4&r.wrap&&u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=OE;break}u=0,l=0}r.mode=16208;case 16208:A=mE;break t;case OE:A=wE;break t;case 16210:return vE;default:return bE}return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<OE&&(r.mode<TE||e!==dE))&&HE(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?Pv(r.check,i,d,t.next_out-d):Ov(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===xE?128:0)+(r.mode===ME||r.mode===IE?256:0),(0===h&&0===d||e===dE)&&A===gE&&(A=_E),A},KE=t=>{if(NE(t))return bE;let e=t.state;return e.window&&(e.window=null),t.state=null,gE},GE=(t,e)=>{if(NE(t))return bE;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,gE):bE},YE=(t,e)=>{const r=e.length;let n,i,s;return NE(t)?bE:(n=t.state,0!==n.wrap&&n.mode!==SE?bE:n.mode===SE&&(i=1,i=Ov(i,e,r,0),i!==n.check)?wE:(s=HE(t,e,r,r),s?(n.mode=16210,vE):(n.havedict=1,gE)))},ZE=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const JE=Object.prototype.toString,{Z_NO_FLUSH:QE,Z_FINISH:XE,Z_OK:tA,Z_STREAM_END:eA,Z_NEED_DICT:rA,Z_STREAM_ERROR:nA,Z_DATA_ERROR:iA,Z_MEM_ERROR:sA}=Bv;function oA(t){this.options=U_({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V_,this.strm.avail_out=0;let r=VE(this.strm,e.windowBits);if(r!==tA)throw new Error(Nv[r]);if(this.header=new ZE,GE(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=q_(e.dictionary):"[object ArrayBuffer]"===JE.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=YE(this.strm,e.dictionary),r!==tA)))throw new Error(Nv[r])}function aA(t,e){const r=new oA(e);if(r.push(t),r.err)throw r.msg||Nv[r.err];return r.result}oA.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?XE:QE,"[object ArrayBuffer]"===JE.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=$E(r,o),s===rA&&i&&(s=YE(r,i),s===tA?s=$E(r,o):s===iA&&(s=rA));r.avail_in>0&&s===eA&&r.state.wrap>0&&0!==t[r.next_in];)WE(r),s=$E(r,o);switch(s){case nA:case iA:case rA:case sA:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||s===eA))if("string"===this.options.to){let t=W_(r.output,r.next_out),e=r.next_out-t,i=H_(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==tA||0!==a){if(s===eA)return s=KE(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},oA.prototype.onData=function(t){this.chunks.push(t)},oA.prototype.onEnd=function(t){t===tA&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=j_(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var cA={Inflate:oA,inflate:aA,inflateRaw:function(t,e){return(e=e||{}).raw=!0,aA(t,e)},ungzip:aA,constants:Bv};const{Deflate:uA,deflate:lA,deflateRaw:hA,gzip:dA}=iE,{Inflate:fA,inflate:pA,inflateRaw:gA,ungzip:mA}=cA;var yA=pA,bA=__webpack_require__(228),wA=__webpack_require__.n(bA);const vA=t=>"version"in t;var _A=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?y.Buffer.from([]):y.Buffer.from(e.map((t=>parseInt(t,16))))}});function EA(t){return new TextDecoder("utf-8").decode(t)}function AA(t){return(new TextEncoder).encode(t)}var SA=Object.freeze({__proto__:null,decode:EA,encode:AA});function xA(t){return Kw().encode(t)}var kA=Object.freeze({__proto__:null,encode:xA,decode:function(t){return Kw().decode(t)}});function IA(t){return t.toString("base64")}function MA(t){return y.Buffer.from(t,"base64")}var CA=Object.freeze({__proto__:null,encode:IA,decode:MA}),TA=Object.freeze({__proto__:null,hex:_A,utf8:SA,bs58:kA,base64:CA});function OA(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach((t=>{r[t.name]=e[n],n+=1})),r}function RA(t,e={}){t.forEach((t=>{if("accounts"in t)RA(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function PA(t){return t instanceof Hw.PublicKey?t:new Hw.PublicKey(t)}class NA extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:s}=t;super(0===s.length?n:"At path: "+s.join(".")+" -- "+n),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function BA(t){return"object"==typeof t&&null!=t}function LA(t){return"string"==typeof t?JSON.stringify(t):""+t}function DA(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+LA(n)+"`"}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*UA(t,e,r,n){var i;BA(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=DA(i,e,r,n);t&&(yield t)}}function*jA(t,e,r){void 0===r&&(r={});const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&"type"!==e.type&&BA(e.schema)&&BA(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let c=!0;for(const r of e.validator(t,a))c=!1,yield[r,void 0];for(let[r,u,l]of e.entries(t,a)){const e=jA(u,l,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,u],coerce:s,mask:o});for(const n of e)n[0]?(c=!1,yield[n[0],void 0]):s&&(u=n[1],void 0===r?t=u:t instanceof Map?t.set(r,u):t instanceof Set?t.add(u):BA(t)&&(t[r]=u))}if(c)for(const r of e.refiner(t,a))c=!1,yield[r,void 0];c&&(yield[void 0,t])}class FA{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:r,validator:n,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(t,e)=>UA(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>UA(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=HA(t,e);if(r[0])throw r[0]}(t,this)}create(t){return zA(t,this)}is(t){return qA(t,this)}mask(t){return function(t,e){const r=HA(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),HA(t,this,e)}}function zA(t,e){const r=HA(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function qA(t,e){return!HA(t,e)[0]}function HA(t,e,r){void 0===r&&(r={});const n=jA(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);return i[0]?[new NA(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function WA(t,e){return new FA({type:t,schema:null,validator:e})}function VA(t){return new FA({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+LA(t)})}function $A(t){const e=LA(t),r=typeof t;return new FA({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+LA(r)})}function KA(t){return new FA({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function GA(){return WA("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+LA(t)))}function YA(t){return new FA({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function ZA(){return WA("string",(t=>"string"==typeof t||"Expected a string, but received: "+LA(t)))}function JA(t){const e=Object.keys(t);return new FA({type:"type",schema:t,*entries(r){if(BA(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>BA(t)||"Expected an object, but received: "+LA(t)})}function QA(t){const e=t.map((t=>t.type)).join(" | ");return new FA({type:"union",schema:null,coercer(e,r){const n=t.find((t=>{const[r]=t.validate(e,{coerce:!0});return!r}))||XA();return n.coercer(e,r)},validator(r,n){const i=[];for(const e of t){const[...t]=jA(r,e,n),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+LA(r),...i]}})}function XA(){return WA("unknown",(()=>!0))}async function tS(t,e,r){if(e.length<=99)return await eS(t,e,r);{const n=function(t){return Array.apply(0,new Array(Math.ceil(t.length/99))).map(((e,r)=>t.slice(99*r,99*(r+1))))}(e);return(await Promise.all(n.map((e=>eS(t,e,r))))).flat()}}async function eS(t,e,r){const n=null!=r?r:t.commitment,{value:i,context:s}=await t.getMultipleAccountsInfoAndContext(e,n);return i.map(((t,r)=>null===t?null:{publicKey:e[r],account:t,context:s}))}async function rS(t,e,r,n,i){var s;r&&r.length>0&&e.sign(...r);const o=e._compile(),a=o.serialize(),c=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=n?n:t.commitment};if(i){const t=(Array.isArray(i)?i:o.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}r&&(u.sigVerify=!0);const l=[c,u],h=zA(await t._rpcRequest("simulateTransaction",l),sS);if("error"in h){let t;if("data"in h.error&&(t=null===(s=h.error.data)||void 0===s?void 0:s.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new Hw.SendTransactionError("failed to simulate transaction: "+h.error.message,t)}return h.result}const nS=iS(XA());function iS(t){return QA([JA({jsonrpc:$A("2.0"),id:ZA(),result:t}),JA({jsonrpc:$A("2.0"),id:ZA(),error:JA({code:XA(),message:ZA(),data:YA(WA("any",(()=>!0)))})})])}const sS=(aS=JA({err:KA(QA([JA({}),ZA()])),logs:KA(VA(ZA())),accounts:YA(KA(VA(KA(JA({executable:WA("boolean",(t=>"boolean"==typeof t)),owner:ZA(),lamports:GA(),data:VA(ZA()),rentEpoch:YA(GA())}))))),unitsConsumed:YA(GA())}),function(t,e){return new FA({...t,coercer:(r,n)=>qA(r,e)?t.coercer((t=>"error"in t?t:{...t,result:zA(t.result,oS)})(r),n):t.coercer(r,n)})}(iS(oS=JA({context:JA({slot:GA()}),value:aS})),nS));var oS,aS,cS=Object.freeze({__proto__:null,invoke:async function(t,e,r,n){t=PA(t),n||(n=fS());const i=new Hw.Transaction;if(i.add(new Hw.TransactionInstruction({programId:t,keys:null!=e?e:[],data:r})),void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(i,[])},getMultipleAccounts:async function(t,e,r){return(await tS(t,e,r)).map((t=>t?{publicKey:t.publicKey,account:t.account}:null))},getMultipleAccountsAndContext:tS,simulateTransaction:rS});class uS{constructor(t,e,r){this.connection=t,this.wallet=e,this.opts=r,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var n,i,s,o;if(void 0===r&&(r=this.opts),vA(t))e&&t.sign(e);else if(t.feePayer=null!==(n=t.feePayer)&&void 0!==n?n:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,e)for(const r of e)t.partialSign(r);const a=(t=await this.wallet.signTransaction(t)).serialize();try{return await hS(this.connection,a,r)}catch(e){if(e instanceof dS){const r=xA(vA(t)?(null===(i=t.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(s=t.signature)&&void 0!==s?s:new Uint8Array),n=await this.connection.getTransaction(r,{commitment:"confirmed"});if(n){const t=null===(o=n.meta)||void 0===o?void 0:o.logMessages;throw t?new Hw.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){var r,n,i;void 0===e&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let o=t.map((t=>{var e,r;if(vA(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let n=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return n.feePayer=null!==(r=n.feePayer)&&void 0!==r?r:this.wallet.publicKey,n.recentBlockhash=s,i.forEach((t=>{n.partialSign(t)})),n}}));const a=await this.wallet.signAllTransactions(o),c=[];for(let t=0;t<o.length;t+=1){const s=a[t],o=s.serialize();try{c.push(await hS(this.connection,o,e))}catch(t){if(t instanceof dS){const e=xA(vA(s)?(null===(r=s.signatures)||void 0===r?void 0:r[0])||new Uint8Array:null!==(n=s.signature)&&void 0!==n?n:new Uint8Array),o=await this.connection.getTransaction(e,{commitment:"confirmed"});if(o){const e=null===(i=o.meta)||void 0===i?void 0:i.logMessages;throw e?new Hw.SendTransactionError(t.message,e):t}throw t}throw t}}return c}async simulate(t,e,r,n){let i,s=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash;if(vA(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:r})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=s,e&&(t=await this.wallet.signTransaction(t)),i=await rS(this.connection,t,e,r,n)),i.value.err)throw new lS(i.value);return i.value}}class lS extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function hS(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),s=(await t.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new dS(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class dS extends Error{constructor(t){super(t)}}function fS(){return null===pS?uS.local():pS}let pS=null;const gS=new Set(["anchor-deprecated-state","debug-logs"]),mS=new Map;function yS(t){return void 0!==mS.get(t)}var bS=Object.freeze({__proto__:null,set:function(t){if(!gS.has(t))throw new Error("Invalid feature");mS.set(t,!0)},isSet:yS});class wS extends Error{constructor(t){super(t),this.name="IdlError"}}class vS{constructor(t){this.stack=t}static parse(t){var e;const r=/^Program (\w*) invoke/,n=/^Program \w* success/,i=[];for(let s=0;s<t.length;s++){if(n.exec(t[s])){i.pop();continue}const o=null===(e=r.exec(t[s]))||void 0===e?void 0:e[1];o&&i.push(new Hw.PublicKey(o))}return new vS(i)}}class _S extends Error{constructor(t,e,r,n,i,s){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:t,errorMessage:e,comparedValues:s,origin:i},this._programErrorStack=vS.parse(n)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const r=t[e],n=[r];let i;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const r=/^Program log: (.*)$/,s=r.exec(t[e+2])[1],o=r.exec(t[e+4])[1];i=[new Hw.PublicKey(s),new Hw.PublicKey(o)],n.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const r=/^Program log: (Left|Right): (.*)$/,s=r.exec(t[e+1])[2],o=r.exec(t[e+2])[2];n.push(...t.slice(e+1,e+3)),i=[s,o]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),o=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[e,r,o]=s.slice(1,4),a={code:e,number:parseInt(r)};return new _S(a,o,n,t,void 0,i)}if(o){const[e,r,s,a,c]=o.slice(1,6),u={code:s,number:parseInt(a)},l={file:e,line:parseInt(r)};return new _S(u,c,n,t,l,i)}if(a){const[e,r,s,o]=a.slice(1,5),c=e,u={code:r,number:parseInt(s)};return new _S(u,o,n,t,c,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ES extends Error{constructor(t,e,r){super(),this.code=t,this.msg=e,this.logs=r,r&&(this._programErrorStack=vS.parse(r))}static parse(t,e){const r=t.toString();let n,i;if(r.includes("custom program error:")){let t=r.split("custom program error: ");if(2!==t.length)return null;n=t[1]}else{const t=r.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;n=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(n)}catch(t){return null}let s=e.get(i);return void 0!==s?new ES(i,s,t.logs):(s=SS.get(i),void 0!==s?new ES(i,s,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function AS(t,e){yS("debug-logs")&&console.log("Translating error:",t);const r=_S.parse(t.logs);if(r)return r;const n=ES.parse(t,e);if(n)return n;if(t.logs){const e={get:function(e,r){return"programErrorStack"===r?e.programErrorStack.stack:"program"===r?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=vS.parse(t.logs),new Proxy(t,e)}return t}const SS=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"Deprecated Error, feel free to replace with something else"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2020,"A required account for the constraint is None"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var xS=function(){return xS=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xS.apply(this,arguments)},kS=function(){return kS=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},kS.apply(this,arguments)};function IS(t){return t.toLowerCase()}var MS=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],CS=/[^A-Z0-9]+/gi;function TS(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce((function(t,e){return t.replace(e,r)}),t)}class OS{static fieldLayout(t,e){const r=void 0!==t.name?Yw()(t.name):void 0;switch(t.type){case"bool":return Zw.bool(r);case"u8":return Zw.u8(r);case"i8":return Zw.i8(r);case"u16":return Zw.u16(r);case"i16":return Zw.i16(r);case"u32":return Zw.u32(r);case"i32":return Zw.i32(r);case"f32":return Zw.f32(r);case"u64":return Zw.u64(r);case"i64":return Zw.i64(r);case"f64":return Zw.f64(r);case"u128":return Zw.u128(r);case"i128":return Zw.i128(r);case"u256":return Zw.u256(r);case"i256":return Zw.i256(r);case"bytes":return Zw.vecU8(r);case"string":return Zw.str(r);case"publicKey":return Zw.publicKey(r);default:if("vec"in t.type)return Zw.vec(OS.fieldLayout({name:void 0,type:t.type.vec},e),r);if("option"in t.type)return Zw.option(OS.fieldLayout({name:void 0,type:t.type.option},e),r);if("defined"in t.type){if(!e)throw new wS("User defined types not provided");const n=t.type.defined,i=e.filter((t=>t.name===n));if(1!==i.length)throw new wS(`Type not found: ${JSON.stringify(t)}`);return OS.typeDefLayout(i[0],e,r)}if("array"in t.type){let n=t.type.array[0],i=t.type.array[1],s=OS.fieldLayout({name:void 0,type:n},e);return Zw.array(s,i,r)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],r){switch(t.type.kind){case"struct":{const n=t.type.fields.map((t=>OS.fieldLayout(t,e)));return Zw.struct(n,r)}case"enum":{let n=t.type.variants.map((t=>{const r=Yw()(t.name);if(!t.fields)return Zw.struct([],r);const n=t.fields.map(((t,r)=>(null==t?void 0:t.name)?OS.fieldLayout(t,e):OS.fieldLayout({type:t,name:r.toString()},e)));return Zw.struct(n,r)}));return void 0!==r?Zw.rustEnum(n).replicate(r):Zw.rustEnum(n,r)}case"alias":return OS.fieldLayout({type:t.type.value,name:t.name},e)}}}const RS="global";class PS{constructor(t){this.idl=t,this.ixLayout=PS.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const r=BS(RS,t.name);e.set(Kw().encode(r),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode(RS,t,e)}_encode(t,e,r){const n=y.Buffer.alloc(1e3),i=Yw()(e),s=this.ixLayout.get(i);if(!s)throw new Error(`Unknown method: ${i}`);const o=s.encode(r,n),a=n.slice(0,o);return y.Buffer.concat([BS(t,e),a])}static parseIxLayout(t){const e=t.instructions.map((e=>{let r=e.args.map((e=>{var r,n;return OS.fieldLayout(e,Array.from([...null!==(r=t.accounts)&&void 0!==r?r:[],...null!==(n=t.types)&&void 0!==n?n:[]]))}));const n=Yw()(e.name);return[n,Zw.struct(r,n)]}));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?y.Buffer.from(t,"hex"):Kw().decode(t));let r=Kw().encode(t.slice(0,8)),n=t.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(n),name:i.name}:null}format(t,e){return NS.format(t,e,this.idl)}}class NS{static format(t,e,r){const n=r.instructions.filter((e=>t.name===e.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((e=>({name:e.name,type:NS.formatIdlType(e.type),data:NS.formatIdlData(e,t.data[e.name],r.types)}))),s=NS.flattenIdlAccounts(n.accounts);return{args:i,accounts:e.map(((t,e)=>e<s.length?{name:s[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,r){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,r);if(t.type.hasOwnProperty("defined")){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((e=>e.name===t.type.defined));if(1!==n.length)throw new Error(`Type not found: ${t.type.defined}`);return NS.formatIdlDataDefined(n[0],e,r)}return"unknown"}static formatIdlDataDefined(t,e,r){switch(t.type.kind){case"struct":{const n=t.type;return"{ "+Object.keys(e).map((t=>{const i=n.fields.find((e=>e.name===t));if(!i)throw new Error("Unable to find type");return t+": "+NS.formatIdlData(i,e[t],r)})).join(", ")+" }"}case"enum":if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const n=t.type.variants,i=Object.keys(e)[0],s=e[i],o=Object.keys(s).map((t=>{var e;const o=s[t],a=null===(e=n[i])||void 0===e?void 0:e.find((e=>e.name===t));if(!a)throw new Error("Unable to find variant");return t+": "+NS.formatIdlData(a,o,r)})).join(", "),a=Yw()(i,{pascalCase:!0});return 0===o.length?a:`${a} { ${o} }`}return"Tuple formatting not yet implemented";case"alias":return NS.formatIdlType(t.type.value)}}static flattenIdlAccounts(t,e){return t.map((t=>{const r=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const n=e?`${e} > ${r}`:r;return NS.flattenIdlAccounts(t.accounts,n)}return{...t,name:e?`${e} > ${r}`:r}})).flat()}}function BS(t,e){var r;let n=`${t}:${void 0===r&&(r={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var r=e.splitRegexp,n=void 0===r?MS:r,i=e.stripRegexp,s=void 0===i?CS:i,o=e.transform,a=void 0===o?IS:o,c=e.delimiter,u=void 0===c?" ":c,l=TS(TS(t,n,"$1\0$2"),s,"\0"),h=0,d=l.length;"\0"===l.charAt(h);)h++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(h,d).split("\0").map(a).join(u)}(t,kS({delimiter:"."},e))}(e,xS({delimiter:"_"},r))}`;return y.Buffer.from((0,Jw.sc)(n).slice(0,8))}function LS(t,e){switch(e.type.kind){case"struct":return e.type.fields.map((e=>DS(t,e.type))).reduce(((t,e)=>t+e),0);case"enum":{const r=e.type.variants.map((e=>e.fields?e.fields.map((e=>DS(t,"object"==typeof e&&"name"in e?e.type:e))).reduce(((t,e)=>t+e),0):0));return Math.max(...r)+1}case"alias":return DS(t,e.type.value)}}function DS(t,e){var r,n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+DS(t,e.option);if("coption"in e)return 4+DS(t,e.coption);if("defined"in e){const i=null!==(n=null===(r=t.types)||void 0===r?void 0:r.filter((t=>t.name===e.defined)))&&void 0!==n?n:[];if(1!==i.length)throw new wS(`Type not found: ${JSON.stringify(e)}`);return LS(t,i[0])}if("array"in e){let r=e.array[0],n=e.array[1];return DS(t,r)*n}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}function US(t){return Buffer.from((0,Jw.sc)(t).slice(0,8))}class jS{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,OS.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const r=y.Buffer.alloc(1e3),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);const i=n.encode(e,r);let s=r.slice(0,i),o=jS.accountDiscriminator(t);return y.Buffer.concat([o,s])}decode(t,e){if(jS.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),r=Array.from(this.accountLayouts.keys()).find((t=>jS.accountDiscriminator(t).equals(e)));if(!r)throw new Error("Account descriminator not found");return this.decodeUnchecked(r,t)}decodeUnchecked(t,e){const r=e.subarray(8),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);return n.decode(r)}memcmp(t,e){const r=jS.accountDiscriminator(t);return{offset:0,bytes:Kw().encode(e?y.Buffer.concat([r,e]):r)}}size(t){var e;return 8+(null!==(e=LS(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return US(`account:${Yw()(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)}}class FS{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let r={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,OS.typeDefLayout(r,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>{return[IA((e=t.name,US(`event:${e}`))),t.name];var e})))}decode(t){let e;try{e=MA(t)}catch(t){return null}const r=IA(e.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;const i=this.layouts.get(n);if(!i)throw new Error(`Unknown event: ${n}`);return{data:i.decode(e.slice(8)),name:n}}}class zS{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>[e.name,OS.typeDefLayout(e,t.types)]));this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const r=y.Buffer.alloc(1e3),n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);const i=n.encode(e,r);return r.slice(0,i)}decode(t,e){const r=this.typeLayouts.get(t);if(!r)throw new Error(`Unknown type: ${t}`);return r.decode(e)}}class qS{constructor(t){this.instruction=new PS(t),this.accounts=new jS(t),this.events=new FS(t),this.types=new zS(t)}}var HS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function WS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class VS{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var $S=VS;class KS extends VS{isCount(){throw new Error("ExternalLayout is abstract")}}class GS extends KS{constructor(t,e,r){if(!(t instanceof VS))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof YS||this.layout instanceof ZS}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class YS extends VS{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class ZS extends VS{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}const JS=Math.pow(2,32);function QS(t){const e=Math.floor(t/JS);return{hi32:e,lo32:t-e*JS}}function XS(t,e){return t*JS+e}class tx extends VS{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return XS(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=QS(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class ex extends VS{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof VS),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,s=0;for(const n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(s=n.encode(i,e,r),0>o&&(o=n.getSpan(e,r)))}i=r,r+=o}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class rx{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class nx extends rx{constructor(t,e){if(!(t instanceof KS&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class ix extends VS{constructor(t,e,r){const n=t instanceof YS||t instanceof ZS;if(n)t=new nx(new GS(t));else if(t instanceof KS&&t.isCount())t=new nx(t);else if(!(t instanceof rx))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof VS))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&n&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=this.defaultLayout.decode(t,e+o)}else r=s.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(t[n.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new sx(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class sx extends VS{constructor(t,e,r,n){if(!(t instanceof ix))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof VS))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class ox extends VS{constructor(t,e){if(!(t instanceof KS&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof KS||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof KS&&(n=t.length),!Buffer.isBuffer(t)||n!==t.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+n+") Buffer as src"));var i,s;if(r+n>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,n,"hex"),this.length instanceof KS&&this.length.encode(n,e,r),n}}var ax=(t,e,r)=>new GS(t,e,r),cx=t=>new YS(4,t),ux=t=>new tx(t),lx=(t,e,r)=>new ex(t,e,r),hx=(t,e,r)=>new ix(t,e,r),dx=(t,e)=>new ox(t,e);class fx extends $S{constructor(t){super(-1,t),this.property=t,this.layout=lx([cx("length"),cx("lengthPadding"),dx(ax(cx(),-8),"chars")],this.property)}encode(t,e,r=0){if(null==t)return this.layout.span;const n={chars:Buffer.from(t,"utf8")};return this.layout.encode(n,e,r)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return cx().span+cx().span+new(Vw())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function px(t){return new fx(t)}function gx(t){return dx(32,t)}const mx=hx(cx("instruction"));mx.addVariant(0,lx([ux("lamports"),ux("space"),gx("owner")]),"createAccount"),mx.addVariant(1,lx([gx("owner")]),"assign"),mx.addVariant(2,lx([ux("lamports")]),"transfer"),mx.addVariant(3,lx([gx("base"),px("seed"),ux("lamports"),ux("space"),gx("owner")]),"createAccountWithSeed"),mx.addVariant(4,lx([gx("authorized")]),"advanceNonceAccount"),mx.addVariant(5,lx([ux("lamports")]),"withdrawNonceAccount"),mx.addVariant(6,lx([gx("authorized")]),"initializeNonceAccount"),mx.addVariant(7,lx([gx("authorized")]),"authorizeNonceAccount"),mx.addVariant(8,lx([ux("space")]),"allocate"),mx.addVariant(9,lx([gx("base"),px("seed"),ux("space"),gx("owner")]),"allocateWithSeed"),mx.addVariant(10,lx([gx("base"),px("seed"),gx("owner")]),"assignWithSeed"),mx.addVariant(11,lx([ux("lamports"),px("seed"),gx("owner")]),"transferWithSeed"),Math.max(...Object.values(mx.registry).map((t=>t.span)));class yx extends $S{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}function bx(t){return new yx(dx(32),(t=>new Hw.PublicKey(t)),(t=>t.toBuffer()),t)}lx([cx("version"),cx("state"),bx("authorizedPubkey"),bx("nonce"),lx([new class extends VS{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return XS(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=QS(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}("lamportsPerSignature")],"feeCalculator")]);var wx=Object.freeze({__proto__:null,hash:function(t){return(new TextDecoder).decode((0,Jw.sc)(t))}});function vx(t,...e){let r=[y.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{r.push(t instanceof y.Buffer?t:PA(t).toBuffer())}));const[n]=Hw.PublicKey.findProgramAddressSync(r,PA(t));return n}var _x=Object.freeze({__proto__:null,createWithSeedSync:function(t,e,r){const n=y.Buffer.concat([t.toBuffer(),y.Buffer.from(e),r.toBuffer()]);return new Hw.PublicKey((0,Jw.sc)(n))},associated:vx});const Ex=new Hw.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ax=new Hw.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Sx=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ex,ASSOCIATED_PROGRAM_ID:Ax,associatedAddress:function({mint:t,owner:e}){return Hw.PublicKey.findProgramAddressSync([e.toBuffer(),Ex.toBuffer(),t.toBuffer()],Ax)[0]}}),xx={exports:{}};!function(t,e){var r="undefined"!=typeof self?self:HS,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=p(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=l(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,r){return new Promise((function(n,s){var o=new w(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=d,t.Request=w,t.Response=_),e.Headers=d,e.Request=w,e.Response=_,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(xx,xx.exports);var kx=WS(xx.exports);async function Ix(t,e){const r=await t.getAccountInfo(e);if(null===r)throw new Error("program account not found");const{program:n}=Cx(r.data),i=await t.getAccountInfo(n.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:s}=Cx(i.data);return s}const Mx=Zw.rustEnum([Zw.struct([],"uninitialized"),Zw.struct([Zw.option(Zw.publicKey(),"authorityAddress")],"buffer"),Zw.struct([Zw.publicKey("programdataAddress")],"program"),Zw.struct([Zw.u64("slot"),Zw.option(Zw.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Zw.u32());function Cx(t){return Mx.decode(t)}var Tx=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,r=5){const n=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${r}`,[i,s]=await Promise.all([Ix(t,e),kx(n)]),o=(await s.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===o.length)return null;const a=o[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Ix,decodeUpgradeableLoaderState:Cx}),Ox=Object.freeze({__proto__:null,sha256:wx,rpc:cS,publicKey:_x,bytes:TA,token:Sx,features:bS,registry:Tx});function Rx(t){return"accounts"in t}const Px=Zw.struct([Zw.publicKey("authority"),Zw.vecU8("data")]);function Nx(t,e){var r,n;let i={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(n=null===(r=t.args)||void 0===r?void 0:r.map((t=>t.name)))&&void 0!==n?n:[]}`);i=e.pop()}return[e,i]}class Bx{static build(t,e,r){if("_inner"===t.name)throw new wS("the _inner name is reserved");const n=(...i)=>{const[s,o]=Nx(t,[...i]);RA(t.accounts,o.accounts);const a=n.accounts(o.accounts);return void 0!==o.remainingAccounts&&a.push(...o.remainingAccounts),yS("debug-logs")&&console.log("Outgoing account metas:",a),new Hw.TransactionInstruction({keys:a,programId:r,data:e(t.name,OA(t,...s))})};return n.accounts=e=>Bx.accountsArray(e,t.accounts,r,t.name),n}static accountsArray(t,e,r,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const i=t[e.name];return Bx.accountsArray(i,e.accounts,r,n).flat()}{const i=e;let s;try{s=PA(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}const o=i.isOptional&&s.equals(r);return{pubkey:s,isWritable:i.isMut&&!o,isSigner:i.isSigner&&!o}}})).flat():[]}}class Lx{static build(t,e){return(...r)=>{var n,i,s;const[,o]=Nx(t,[...r]),a=new Hw.Transaction;if(o.preInstructions&&o.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=o.preInstructions)||void 0===n||n.forEach((t=>a.add(t))),null===(i=o.instructions)||void 0===i||i.forEach((t=>a.add(t))),a.add(e(...r)),null===(s=o.postInstructions)||void 0===s||s.forEach((t=>a.add(t))),a}}}class Dx{static build(t,e,r,n){return async(...i)=>{var s;const o=e(...i),[,a]=Nx(t,[...i]);if(void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(o,null!==(s=a.signers)&&void 0!==s?s:[],a.options)}catch(t){throw AS(t,r)}}}}class Ux{static build(t,e,r,n){var i;const s={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const o=Yw()(i.name);s[o]=new jx(t,i,r,n,e)})),s}}class jx{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,r,n,i){this._idlAccount=e,this._programId=r,this._provider=null!=n?n:fS(),this._coder=null!=i?i:new qS(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:r}=await this.fetchNullableAndContext(t,e);return r}async fetchNullableAndContext(t,e){const r=await this.getAccountInfoAndContext(t,e),{value:n,context:i}=r;return{data:n&&0!==n.data.length?this._coder.accounts.decode(this._idlAccount.name,n.data):null,context:i}}async fetch(t,e){const{data:r}=await this.fetchNullableAndContext(t,e);if(null===r)throw new Error(`Account does not exist or has no data ${t.toString()}`);return r}async fetchAndContext(t,e){const{data:r,context:n}=await this.fetchNullableAndContext(t,e);if(null===r)throw new Error(`Account does not exist ${t.toString()}`);return{data:r,context:n}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await tS(this._provider.connection,t.map((t=>PA(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:r}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:r}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),r=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&r.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&r.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const r=Fx.get(t.toString());if(r)return r.ee;const n=new(wA());t=PA(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);n.emit("change",e)}),e);return Fx.set(t.toString(),{ee:n,listener:i}),n}async unsubscribe(t){let e=Fx.get(t.toString());e?Fx&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{Fx.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const r=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Hw.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:r),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await vx(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(PA(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(PA(t),e)}}const Fx=new Map,zx="Program log: ";class qx{constructor(t,e,r){this._programId=t,this._provider=e,this._eventParser=new Hx(t,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(r=this._eventListeners.get(t))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const r of this._eventParser.parseLogs(t.logs)){const n=this._eventListeners.get(r.name);n&&n.forEach((n=>{const i=this._eventCallbacks.get(n);if(i){const[,n]=i;n(r.data,e.slot,t.signature)}}))}}))),n}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[r]=e;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(t),n=n.filter((e=>e!==t)),this._eventListeners.set(r,n),0===n.length&&this._eventListeners.delete(r),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Hx{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const r=new Vx(t),n=new Wx;let i=r.next();for(;null!==i;){let[t,s,o]=this.handleLog(n,i,e);t&&(yield t),s&&n.push(s),o&&n.pop(),i=r.next()}}handleLog(t,e,r){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,r):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(zx)||t.startsWith("Program data: ")){const r=t.startsWith(zx)?t.slice(13):t.slice(14),n=this.coder.events.decode(r);if(e&&null===n)throw new Error(`Unable to decode event ${r}`);return[n,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Wx{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class Vx{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class $x{static build(t,e,r,n,i,s,o){return async(...a)=>{var c;const u=e(...a),[,l]=Nx(t,[...a]);let h;if(void 0===n.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await n.simulate(u,l.signers,null===(c=l.options)||void 0===c?void 0:c.commitment)}catch(t){throw AS(t,r)}if(void 0===h)throw new Error("Unable to simulate transaction");const d=h.logs;if(!d)throw new Error("Simulated logs not found");const f=[];if(o.events){let t=new Hx(s,i);for(const e of t.parseLogs(d))f.push(e)}return{events:f,raw:d}}}}function Kx(t){return new Zx(dx(8),(t=>Qx.fromBuffer(t)),(t=>t.toBuffer()),t)}function Gx(t){return new Zx(dx(32),(t=>new Hw.PublicKey(t)),(t=>t.toBuffer()),t)}function Yx(t,e){return new Jx(t,e)}class Zx extends $S{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Jx extends $S{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=cx()}encode(t,e,r=0){return null==t?this.layout.span+this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+4)+4)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Qx extends(Vw()){toBuffer(){const t=super.toArray().reverse(),e=Buffer.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return e.copy(r),r}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Qx([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const Xx=lx([Gx("mint"),Gx("owner"),Kx("amount"),Yx(Gx(),"delegate"),(()=>{const t=hx(new YS(1,"discriminator"),null,"state");return t.addVariant(0,lx([]),"uninitialized"),t.addVariant(1,lx([]),"initialized"),t.addVariant(2,lx([]),"frozen"),t})(),Yx(Kx(),"isNative"),Kx("delegatedAmount"),Yx(Gx(),"closeAuthority")]);class tk{constructor(t,e,r,n,i,s,o,a){this._accounts=e,this._provider=r,this._programId=n,this._idlIx=i,this._idlTypes=o,this._customResolver=a,this._args=t,this._accountStore=new ek(r,s,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const r={};for(const n of e){const e=n.name,i=t[e];void 0!==i&&(nk(i)?Rx(n)?r[e]=this.resolveOptionalsHelper(i,n.accounts):r[e]=ik(i,!0):null!==i?r[e]=PA(i):n.isOptional&&(r[e]=this._programId))}return r}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let r=this._accounts;t.forEach(((n,i)=>{i==t.length-1&&(r[n]=e),r[n]=r[n]||{},r=r[n]}))}async resolveConst(t,e=[]){for(let r=0;r<t.length;r+=1){const n=t[r],i=n.accounts;i&&await this.resolveConst(i,[...e,Yw()(n.name)]);const s=n,o=Yw()(n.name);if(s.isSigner&&!this.get([...e,o])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,o],this._provider.wallet.publicKey)}Reflect.has(tk.CONST_ACCOUNTS,o)&&!this.get([...e,o])&&this.set([...e,o],tk.CONST_ACCOUNTS[o])}}_resolveEventCpi(t,e=[]){for(const r in t){const n=t[r],i=n.accounts;i&&this._resolveEventCpi(i,[...e,Yw()(n.name)]);const s=+r+1;if(s===t.length)return;const o=Yw()(t[r].name),a=Yw()(t[s].name);if("eventAuthority"===o&&"program"===a){const t=[...e,o],r=[...e,a];return this.get(t)||this.set(t,Hw.PublicKey.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(r)||this.set(r,this._programId))}}}async resolvePdas(t,e=[]){let r=0;for(let n=0;n<t.length;n+=1){const i=t[n],s=i.accounts;s&&(r+=await this.resolvePdas(s,[...e,Yw()(i.name)]));const o=i,a=Yw()(i.name);o.pda&&o.pda.seeds.length>0&&!this.get([...e,a])&&Boolean(await this.autoPopulatePda(o,e))&&(r+=1)}return r}async resolveRelations(t,e=[]){let r=0;for(let n=0;n<t.length;n+=1){const i=t[n],s=i.accounts;s&&(r+=await this.resolveRelations(s,[...e,Yw()(i.name)]));const o=i.relations||[],a=Yw()(i.name),c=[...e,a],u=this.get(c);if(u){const t=o.filter((t=>!this.get([...e,Yw()(t)])));if(r+=t.length,t.length>0){const r=await this._accountStore.fetchAccount({publicKey:u});await Promise.all(t.map((async t=>{const n=Yw()(t);return this.set([...e,n],r[n]),r[n]})))}}}return r}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t,e))));if(r.some((t=>void 0===t)))return;const n=await this.parseProgramId(t,e);if(!n)return;const[i]=await Hw.PublicKey.findProgramAddress(r,n);this.set([...e,Yw()(t.name)],i)}async parseProgramId(t,e=[]){var r;if(!(null===(r=t.pda)||void 0===r?void 0:r.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new Hw.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const r=this._idlTypes.find((e=>e.name===t.defined));if(!r)throw new Error(`Cannot find type ${t.defined}`);const n=r.type.fields.find((t=>t.name===e[0]));return this.getType(n.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if(void 0!==e)return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),r=Yw()(e[0]),n=this._idlIx.args.findIndex((t=>t.name===r));if(-1===n)throw new Error(`Unable to find argument for seed: ${r}`);return e.slice(1).reduce(((t,e)=>(t||{})[e]),this._args[n])}async toBufferAccount(t,e=[]){const r=await this.accountValue(t,e);if(r)return this.toBufferValue(t.type,r)}async accountValue(t,e=[]){const r=t.path.split("."),n=r[0],i=this.get([...e,Yw()(n)]);if(null===i)throw new Error("fieldPubkey is null");if(1===r.length)return i;const s=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(s,r.slice(1))}parseAccountValue(t,e){let r;for(;e.length>0;)r=t[Yw()(e[0])],e=e.slice(1);return r}toBufferValue(t,e){switch(t){case"u8":return Buffer.from([e]);case"u16":let r=Buffer.alloc(2);return r.writeUInt16LE(e),r;case"u32":let n=Buffer.alloc(4);return n.writeUInt32LE(e),n;case"u64":let i=Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return Buffer.from(AA(e));case"publicKey":return e.toBuffer();default:if(t.array)return Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}tk.CONST_ACCOUNTS={associatedTokenProgram:Ax,rent:Hw.SYSVAR_RENT_PUBKEY,systemProgram:Hw.SystemProgram.programId,tokenProgram:Ex,clock:Hw.SYSVAR_CLOCK_PUBKEY};class ek{constructor(t,e,r){this._provider=t,this._programId=r,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await ck.fetchIdl(t,this._provider);if(e){const r=new ck(e,t,this._provider);this._idls[t.toBase58()]=r.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:r=this._programId}){const n=t.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=(i=e.data,Xx.decode(i));this._cache.set(n,r)}else if(e){const i=await this.ensureIdl(r);if(i){const r=i[Yw()(e)];if(r){const e=await r.fetch(t);this._cache.set(n,e)}}}else{const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=e.data,i=await this.ensureIdl(e.owner);if(i){const t=Object.values(i)[0];if(!t)throw new Error("No accounts for this program");const e=t.coder.accounts.decodeAny(r);this._cache.set(n,e)}}var i;return this._cache.get(n)}}class rk{static build(t,e,r,n,i,s,o,a,c,u,l){return(...h)=>new sk(h,n,i,s,o,a,t,e,r,c,u,l)}}function nk(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function ik(t,e){const r={};for(const n in t){const i=t[n];if(null!==i)r[n]=nk(i)?ik(i,!0):PA(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return r}class sk{constructor(t,e,r,n,i,s,o,a,c,u,l,h){this._ixFn=e,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=s,this._programId=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new tk(t,this._accounts,o,a,c,u,l,h)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ok{static build(t,e,r,n){const i=e.accounts.find((t=>t.isMut)),s=!!e.returns;if(!i&&s)return async(...i)=>{var s,o;let a=await r(...i);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let l=MA(u.slice(c.length)),h=e.returns;if(!h)throw new Error("View expected return type");return OS.fieldLayout({type:h},Array.from([...null!==(s=n.accounts)&&void 0!==s?s:[],...null!==(o=n.types)&&void 0!==o?o:[]])).decode(l)}}}class ak{static build(t,e,r,n,i){const s={},o={},a={},c={},u={},l={},h=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var r;let n=null!==(r=t.msg)&&void 0!==r?r:t.name;e.set(t.code,n)})),e}(t),d=t.accounts?Ux.build(t,e,r,n):{};return t.instructions.forEach((f=>{const p=Bx.build(f,((t,r)=>e.instruction.encode(t,r)),r),g=Lx.build(f,p),m=Dx.build(f,g,h,n),y=$x.build(f,g,h,n,e,r,t),b=ok.build(r,f,y,t),w=rk.build(n,r,f,p,g,m,y,b,d,t.types||[],i&&i(f)),v=Yw()(f.name);o[v]=p,a[v]=g,s[v]=m,c[v]=y,u[v]=w,b&&(l[v]=b)})),[s,o,a,d,c,u,l]}}class ck{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,r,n,i){e=PA(e),r||(r=fS()),this._idl=t,this._provider=r,this._programId=e,this._coder=null!=n?n:new qS(t),this._events=new qx(this._programId,r,this._coder);const[s,o,a,c,u,l,h]=ak.build(t,this._coder,e,r,null!=i?i:()=>{});this.rpc=s,this.instruction=o,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.views=h}static async at(t,e){const r=PA(t),n=await ck.fetchIdl(r,e);if(!n)throw new Error(`IDL not found for program: ${t.toString()}`);return new ck(n,r,e)}static async fetchIdl(t,e){e=null!=e?e:fS();const r=PA(t),n=await async function(t){const e=(await Hw.PublicKey.findProgramAddress([],t))[0];return await Hw.PublicKey.createWithSeed(e,"anchor:idl",t)}(r),i=await e.connection.getAccountInfo(n);if(!i)return null;let s=(o=i.data.slice(8),Px.decode(o));var o;const a=yA(s.data);return JSON.parse(EA(a))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new Hw.PublicKey("11111111111111111111111111111111");var uk,lk,hk,dk,fk,pk,gk=__webpack_require__(3686),mk=__webpack_require__.n(gk);function yk(t,e){var r=bk();return(yk=function(t,e){return r[t-=121]})(t,e)}function bk(){var t=["23988ojGKKS","2950142YXIUZc","ransaction","1597744OBwlGn","UNSAFE_MAX","MalformedT","SendError","54kuYhiz","LOW","VERYHIGH","30039180jBxECL","MIN","Simulation","3HVAPDj","type","HIGH","5582437wOAeyh","2764288wyTZIj","nTooBig","Error","params","MEDIUM","712839pIjOYW","455XNMEEb","PriorityFe"];return(bk=function(){return t})()}!function(t){for(var e=yk,r=t();;)try{if(742445==-parseInt(e(127))/1+-parseInt(e(131))/2*(parseInt(e(143))/3)+parseInt(e(122))/4+-parseInt(e(128))/5*(parseInt(e(130))/6)+parseInt(e(121))/7+parseInt(e(133))/8*(-parseInt(e(137))/9)+parseInt(e(140))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(bk),(lk=uk||(uk={}))["Transactio"+(hk=yk)(123)]="TransactionTooBig",lk[hk(135)+hk(132)]=hk(135)+hk(132),lk.SimulationError=hk(142)+hk(124),lk[hk(136)]=hk(136),lk[hk(129)+"eError"]=hk(129)+"eError";class wk extends Error{constructor(t,e,r){var n=yk;super(t),this[n(144)]=t,this.message=e,this[n(125)]=r}}(fk=dk||(dk={}))[fk[(pk=yk)(141)]=1e3]=pk(141),fk[fk.LOW=2500]=pk(138),fk[fk.MEDIUM=5e3]=pk(126),fk[fk.HIGH=7500]=pk(145),fk[fk[pk(139)]=8500]="VERYHIGH",fk[fk[pk(134)]=1e4]=pk(134);const vk=Ek;function _k(){const t=["343284nKhdSY","1304AdopmP","57dWxnQB","3062676pGMcvp","12889080bcimgd","confirmed","15718HrVwLF","repeat","41167500itIznJ","5789slxtxa","54RikCvY","2471220FQqBJv"];return(_k=function(){return t})()}function Ek(t,e){const r=_k();return(Ek=function(t,e){return r[t-=260]})(t,e)}!function(t){const e=Ek,r=t();for(;;)try{if(810488==parseInt(e(266))/1*(-parseInt(e(270))/2)+-parseInt(e(262))/3*(parseInt(e(264))/4)+parseInt(e(263))/5+-parseInt(e(267))/6+parseInt(e(261))/7*(parseInt(e(265))/8)+-parseInt(e(268))/9+parseInt(e(260))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(_k);const Ak="1"[vk(271)](32),Sk={MAX_TX_SEND_COUNT:10,ALLOWED_SLOT_UPDATE_DELAY:1500,SLOT_CHECK_INTERVAL:2e3,LIMIT_PER_IX:2e5,MIN_PRIORITY_LAMPORTS_PER_TX:5e3,MAX_PRIORITY_LAMPORTS_PER_TX:1e6,MICRO_LAMPORTS_MULTIPLIER:1e6,NON_PROCESSED_TIMEOUT:3e4,COMMITMENT:vk(269),BLOCKHASH_COMMITMENT:"finalized"},xk=Rk;!function(t){const e=Rk,r=t();for(;;)try{if(330769==-parseInt(e(113))/1*(-parseInt(e(122))/2)+parseInt(e(137))/3+parseInt(e(139))/4+parseInt(e(119))/5+parseInt(e(144))/6+parseInt(e(111))/7*(-parseInt(e(129))/8)+-parseInt(e(145))/9*(parseInt(e(153))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Tk);class kk{constructor(t){this[Rk(124)]=t}[xk(150)](){const t=xk;var e,r;return"dump: "+this[t(124)][t(132)]+"\n\nlogs: "+(null!==(r=null===(e=this.args.logs)||void 0===e?void 0:e[t(143)]("\n"))&&void 0!==r?r:t(121))}}function Ik(t,e){return new Promise(((r,n)=>{const i=Rk,s=()=>{const t=Rk;if(t(136)!=t(136))return _0x13f845[t(125)](_0x28973e*_0x4f8ac9/_0x3dcdd5["MICRO_LAMP"+t(115)+t(148)]);n(new Error(t(128)))};e[i(114)+i(141)](i(154),s),t[i(135)]((t=>{const n=i;var o,a;if(n(133)!=n(133))return n(142)+this[n(124)].txDump+n(147)+(null!==(a=null===(o=this[n(124)][n(138)])||void 0===o?void 0:o[n(143)]("\n"))&&void 0!==a?a:"NO_LOGS");e[n(120)+n(134)]("abort",s),r(t)}))[i(127)]((t=>{const r=i;if("EXnDb"===r(116))return r(112)in _0x38c982;e[r(120)+"tListener"](r(154),s),n(t)}))}))}function Mk(t){return new Promise(((e,r)=>{setTimeout(e,t)}))}function Ck(t){return xk(112)in t}function Tk(){const t=["removeEven","NO_LOGS","1028QOnjrl","blockhash","args","ceil","message","catch","Aborted","16gxfNno","serialize","length","txDump","CSCZL","tListener","then","qvwxA","1236756TTdjdG","logs","1907304xFoCDf","from","stener","dump: ","join","2679786VkjfVq","27kWNlrg","floor","\n\nlogs: ","PLIER","recentBloc","toString","base64","ALTs","5855110PlLjcn","abort","instructio","751835cHAeBW","version","739NveqGl","addEventLi","ORTS_MULTI","xJPxI","payer","MICRO_LAMP","2932785MCtusB"];return(Tk=function(){return t})()}function Ok(t){const e=xk,r=new Hw.VersionedTransaction(t.message);return r[e(126)][e(149)+"khash"]=Ak,Buffer[e(140)](r[e(130)]())[e(150)](e(151))}function Rk(t,e){const r=Tk();return(Rk=function(t,e){return r[t-=111]})(t,e)}function Pk(t,e){const r=xk;return Math.ceil(t*Sk[r(118)+"ORTS_MULTIPLIER"]/e)}function Nk(t,e){const r=xk;return Math[r(125)](e*t/Sk[r(118)+"ORTS_MULTI"+r(148)])}function Bk(t){const e=xk;var r;return new Hw.VersionedTransaction(Hw.MessageV0.compile({instructions:t[e(155)+"ns"],payerKey:t[e(117)],recentBlockhash:null!==(r=t[e(123)])&&void 0!==r?r:Ak,addressLookupTableAccounts:t[e(152)]}))}function Lk(t,e){const r=Dk();return(Lk=function(t,e){return r[t-=206]})(t,e)}function Dk(){const t=["map","programId","MIN","structions","HIGH","OoEkm","mpute unit","w price=","UnitLimit","number","tting new ","instructio","to preserv","UnitPrice","oo hight, ","dVXvy","flat","writeBigIn","LIMIT_PER_","toBase58","readBigInt","lamports","compiledIn","pubkey","HIEJw","Failed to ","ee lamport","elius prio","gqgbM","price","push","1158jonNEz","fetch esti","rtPrice","veryHigh","ceil","get helius","ing","keys","sting Trit","ALTs","riton prio","unsafeMax","ate] Reque","esult, cal","s value bu","sort"," setComput","alloc","length","medium","ce ix miss","mode","value","ms, missin","setCompute","e current ","tionFee","serialized","result","ndex","ed estimat","autoLimitS","get curren","t target l","staticAcco","priorityFe","DLqCp","getPriorit","asIs","UnitsLimit","qMztK","644325Cuqfsd","eUnitsPric","YfjBQ","IAFji","PriorityFe","value whil"," lamports","encode","3195RpnjMK","DhSqd","44773LpFDQW","534501wIgYIn","ylbSd","none","autoTriton","price=","repeat","Usnsupport","qEQUv","pdDcc","4XMsLAZ","rioritizat","from","targetPrio","y fee info","fixed","ate] Got H","ThhCC","113024oZAwzl"," should be","equals","there shou","us prioirt","rityLampor","JjHVY","e setCompu","nitsPrice ","fee estima","getRecentP","equired co","VERYHIGH","mated prio","[getPriori","e ix","floor","nsaction, ","setting ne","VCXpl","UnitsPrice","untKeys","ransaction"," present","message","64LE","Broken tra","on prioirt","data","t setCompu","culating","12qmABdI","writeInt32","low","teUnits ix","yFeeEstima","error","auto",". Fee = ","g computeU","Price is t","isWritable","ableAccoun","Wrong para","_rpcReques","UHNva","TrmME","NonTt","ldn't be m","MalformedT","payer","blockhash","filter","estimation","rity fees","teUnitsPri","oo low, se","rity fee r","microLampo","Setting li","ore than 1","estimate r","med","readInt32L","limit","priority f","994ISGjdb","ate] Got T","hbOUG","xaAbl","logs","prioritiza","lue","slot","tyFeeEstim","6464139OUxjDS"," and price","Requested ","60cZpcwz","Tylda","unitsConsu","eError"];return(Dk=function(){return t})()}function Uk(t,e,r,n,i){const s=Lk;if(null===e)return null;r(s(218)+"mit="+t+s(235)+"="+e+". Fee = "+Nk(e,t)+s(319));const o=Nk(e,t);return o>i?s(332)!==s(347)?(e=Pk(i,t),r(s(381)+s(255)+s(359)+s(248)+e+s(379)+Nk(e,t)+" lamports"),e):null:o<n?(e=Pk(n,t),r("Price is t"+s(215)+s(251)+s(328)+e+". Fee = "+Nk(e,t)+s(319)),e):e}function jk(t,e,r){const n=Lk;let i=0,s=0;const o=t[n(365)][n(306)+n(362)];for(const a of t[n(365)][n(263)+"structions"])if(o[a["programIdI"+n(301)]][n(343)](Hw.ComputeBudgetProgram[n(242)])&&a[n(369)].length>0)if(3===a[n(369)][0]){if(n(308)!=n(308))throw new _0x8e57f(_0x2470d2[n(317)+n(240)],n(384)+n(295)+n(380)+n(349)+n(318)+n(348)+n(375)+n(364),new _0x3dbd14({txDump:_0x10dde2(_0x7da8a6)}));{if(s+=1,s>1)throw new wk(uk["MalformedT"+n(363)],"Broken tra"+n(358)+"there shou"+n(207)+n(219)+n(288)+n(314)+n(356),new kk({txDump:Ok(t)}));if(null===r)throw new wk(uk[n(317)+"eError"],"Wrong para"+n(295)+n(380)+"nitsPrice "+n(318)+n(348)+"teUnits ix"+n(364),new kk({txDump:Ok(t)}));if(r===n(310))continue;const e=Buffer.alloc(9);e[0]=3,e[n(258)+"t64LE"](BigInt(r),1),a[n(369)]=e}}else if(2===a[n(369)][0])if(n(228)===n(312))_0x6ba21.data[0]===_0x2695b3?_0x3e6874=_0x1c3738[n(335)](_0x198a6d.data)[n(261)+"64LE"](1):_0x1039da.data[0]===_0x7e6a9d&&(_0x1c968c=_0x566955.from(_0x509666[n(369)])[n(222)+"E"](1));else{const r=Buffer[n(289)](5);if(r[0]=2,r[n(373)+"LE"](e,1),i+=1,a[n(369)]=r,i>1)throw new wk(uk.MalformedTransaction,n(367)+n(358)+n(344)+n(207)+n(219)+n(288)+"eUnitsLimit ix",new kk({txDump:Ok(t)}))}if(0===i)throw new wk(uk[n(208)+n(363)],n(367)+"nsaction, "+n(296)+n(311)+n(342)+" in the tx",new kk({txDump:Ok(t)}));if(typeof r===n(250)&&0===s)throw new wk(uk["MalformedT"+n(363)],n(367)+n(358)+n(296)+n(361)+n(342)+" in the tx",new kk({txDump:Ok(t)}));return t}function Fk(t,e,r){const n=Lk,i=[];if(null!==e&&i[n(271)](Hw.ComputeBudgetProgram.setComputeUnitLimit({units:e})),null!==r)if(r===n(310)){if("ylbSd"!==n(325)){const t=[];return null!==_0x1ccbdd&&t.push(_0x3e0d19[n(296)+n(249)]({units:_0x5304ce})),null!==_0x23b7ad&&(_0x135879===n(310)?t[n(271)](..._0x4218cd[n(252)+"ns"][n(211)]((t=>t[n(242)].equals(_0x1cd1ca[n(242)])&&t[n(369)][0]===_0x5629be))):t.push(_0x309ce3[n(296)+n(254)]({microLamports:_0x1e0a87}))),{..._0xfe4a3f,instructions:[...t,..._0x52d578[n(252)+"ns"][n(211)]((t=>!t[n(242)][n(343)](_0x5e7d51[n(242)])))]}}i.push(...t[n(252)+"ns"][n(211)]((t=>t[n(242)][n(343)](Hw.ComputeBudgetProgram[n(242)])&&3===t[n(369)][0])))}else i[n(271)](Hw.ComputeBudgetProgram[n(296)+"UnitPrice"]({microLamports:r}));return{...t,instructions:[...i,...t[n(252)+"ns"][n(211)]((t=>!t[n(242)][n(343)](Hw.ComputeBudgetProgram[n(242)])))]}}!function(t){const e=Lk,r=t();for(;;)try{if(191369==parseInt(e(323))/1*(-parseInt(e(372))/2)+parseInt(e(313))/3+parseInt(e(333))/4*(parseInt(e(321))/5)+parseInt(e(272))/6*(parseInt(e(225))/7)+-parseInt(e(341))/8+parseInt(e(324))/9*(-parseInt(e(237))/10)+parseInt(e(234))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Dk);const zk=qk;function qk(t,e){const r=Hk();return(qk=function(t,e){return r[t-=261]})(t,e)}function Hk(){const t=["khash","yLamportsP","allSettled","abort","getSignatu","autoHelius","Sending tx"," send","Dcrdn","priorityFe","n takes mo","getBlockHe","removeSign","6575547BolpbJ","ount","cess","18596CsZWyJ","512169qicYoH","TY_LAMPORT","all","skipPrefli","get","ction","txProcessi","8mskEDx","ult] ","addTxInfoE","Failed to ","D_COUNT","stringify","drPzo","reStatus","err","lockhashEx","UfagS","LCytY","auto","call callb","lastValidB","ATCCR","txCallback","erTransact","then","additional","simulateTr","recentBloc","stopTxProc","HIGH","ight","push","call","Sent tx ","ion","410SsCmVa","serialize","Connection","rnal map","reason","s: ","connection"," from inte","atureListe","repeat","aborted","2537759mfViag","rityLampor","blockhashC","priorityLa","join","32 bytes","4022919jYYpBL","Ujmdr","ssed in ","Signers","Transactio","YrKrO","hrowError"," times","sentTimest","ght","finalized","MIN_PRIORI","IwrNO","6kTNiZq","nsactions","logFn","estimation","[sendTxRes","toString","mode","essingAndT","priority","wsSubscrip","piresOrSuc","dTransacti","amp","logger","base64","map","expiration","value","compile","unsubscrib","payer","36lDeyaN","c: ","sendAllTra","rocessed i","ack: ","targetPrio","instructio","5495290zlEywJ","ntry","sendUntilB","failTimeou","maxSendCou","Mode","send tx to","6FviEEu","processed","BLOCKHASH_","now","253557LfimOG","signal","Simulation","COMMITMENT","Error","from","context","controller","ion Error:","length","maxPriorit","autoTriton","re than 12","XbAXy","  ##  ","mationMode","encode","S_PER_TX","tionId","JhGFr","signAllTra","ommitment","getLatestB","dropped","get ","logs","failedToSe","xDEwx","txInfoMap","SendError","lockhashAn","catch","message","dContext","NON_PROCES","onSignatur","sendEncode","BlockHeigh","signatures","none","finally","blockhash","nTooBig"];return(Hk=function(){return t})()}!function(t){const e=qk,r=t();for(;;)try{if(311668==-parseInt(e(379))/1+-parseInt(e(340))/2*(-parseInt(e(274))/3)+parseInt(e(273))/4*(-parseInt(e(310))/5)+parseInt(e(375))/6*(-parseInt(e(321))/7)+-parseInt(e(281))/8*(parseInt(e(327))/9)+-parseInt(e(368))/10+-parseInt(e(270))/11*(-parseInt(e(361))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Hk);class Wk{constructor(t,e){const r=qk;this[r(316)]=t,this[r(353)]=e,this[r(407)]=new Map}[zk(283)+"ntry"](t,e,r=Sk[zk(413)+"SED_TIMEOUT"]){const n=zk;this[n(407)].set(t,{sentTimestamp:Date[n(378)](),controller:new AbortController,expirationBlockHeight:e,wsSubscriptionId:this.connection[n(414)+"e"](t,((e,r)=>this[n(297)](t,"processed",e)),n(376)),failTimeout:setTimeout((()=>this[n(297)](t,n(402))),r)})}async txCallback(t,e,r){const n=zk,i=Date[n(378)](),s=this[n(407)][n(278)](t);if(!s)throw new Error(n(284)+n(403)+t+(n(317)+n(313)));let o=null;clearTimeout(s[n(371)+"t"]),s["wsSubscrip"+n(397)]&&e!==n(376)&&this[n(316)][n(269)+n(318)+"ner"](s[n(349)+n(397)])[n(410)]((e=>this[n(353)](n(284)+n(359)+"e from tx "+t+", error: "+e)));let a="";if("dropped"===e){const i=await this[n(316)][n(261)+n(288)](t,{searchTransactionHistory:!1});if(null!==i[n(357)]){if(n(332)===n(292))throw new _0x2a265c(_0x2c4783[n(408)],_0x129b0d[n(411)],new _0xbaed6e({txDump:_0xa06747}));e=n(376),r=i[n(357)]}}switch(e){case"dropped":a=n(344)+n(282)+t+" was not p"+n(364)+"n "+Sk[n(413)+"SED_TIMEOUT"]+"ms",o={signature:t,mode:"dropped",sentAt:s["sentTimest"+n(352)]};break;case n(376):a=n(344)+n(282)+t+" was proce"+n(329)+(i-s[n(335)+"amp"])+"ms",o={signature:t,sentAt:s["sentTimest"+n(352)],mode:n(376),processedAt:i,err:null==r?void 0:r[n(289)]};break;case"failedToSend":if(n(287)===n(392))throw new _0x142d71(_0x4a5d38["Simulation"+n(383)],"Tx simulat"+n(387)+" "+_0x4fd688[n(286)](_0x363743.value[n(289)]),new _0x2945a0({txDump:_0x4957cf[n(384)](_0x235e73)[n(345)]("base64"),logs:null!==(_0x58700a=_0x22f2bb.value[n(404)])&&void 0!==_0x294b72?_0x29b588:_0x2da5b6}));a="[sendTxRes"+n(282)+t+" failed to"+n(264),o=null}this[n(353)](a),s.controller[n(425)](o),await Mk(4e3),this[n(407)].delete(t)}[zk(303)+zk(347)+zk(333)](t,e,r){const n=zk;throw this[n(297)](r,n(405)+"nd")[n(410)]((t=>this.logger("Failed to "+n(294)+n(365)+t))),t instanceof Hw.SendTransactionError?new wk(uk[n(408)],n(284)+n(374)+" master rp"+n(362)+t.message,new kk({txDump:e,logs:t[n(404)]})):new wk(uk.SendError,t[n(411)],new kk({txDump:e}))}async[zk(370)+zk(290)+"piresOrSuc"+zk(272)](t,e,r,n){const i=zk;var s,o,a;const c=this.txInfoMap.get(t),u=null!==(s=null==n?void 0:n[i(300)+i(312)+"s"])&&void 0!==s?s:[],l=null!==(o=null==n?void 0:n[i(372)+"nt"])&&void 0!==o?o:Sk["MAX_TX_SEN"+i(285)],h=null!==(a=null==n?void 0:n[i(323)+i(400)])&&void 0!==a?a:i(337),d={maxRetries:0};c[i(335)+i(352)]=Date[i(378)]();let f=0,p=await this[i(316)].getBlockHeight({commitment:h});for(;p<c[i(356)+i(416)+"t"]&&f<l&&!c[i(386)][i(380)][i(320)];)if("Dcrdn"!==i(265))this[i(303)+"essingAndThrowError"](_0x1ef232,_0x56a5fc,_0x587f3b);else{if(null==r?void 0:r[i(277)+"ght"])await Promise[i(424)]([this.connection,...u][i(355)]((t=>t[i(415)+i(351)+"on"](e,{...d,skipPreflight:!0}))));else if(i(296)===i(291))this[i(316)]=_0x5c2035,this[i(353)]=_0x2a6de7,this[i(407)]=new _0x2c56a2;else try{await this[i(316)][i(415)+i(351)+"on"](e,{...d,...r}),u[i(388)]>0&&await Promise.allSettled(u[i(355)]((t=>t.sendEncodedTransaction(e,d))))}catch(r){if(i(398)!=i(398))throw new _0x4efc5f(_0x4c4eb0.TransactionTooBig,i(331)+i(267)+i(391)+i(326),new _0x27e0f0({txDump:""}));this[i(303)+i(347)+i(333)](r,e,t)}f+=1,await Ik(Mk(1e3),c.controller[i(380)])[i(410)]((()=>{})),p=await this[i(316)][i(268)+i(305)]({commitment:h})}for(this[i(353)](i(308)+t+" "+f+i(334));!c[i(386)][i(380)].aborted;)await Ik(Mk(2e4),c[i(386)][i(380)])[i(410)]((()=>{}));return c[i(386)][i(380)][i(314)]}async["sendTransa"+zk(279)](t,e,r){const n=zk;return(await this[n(363)+"nsactions"](t,[e],{...r,additionalSigners:(null==r?void 0:r[n(300)+"Signers"])?[r[n(300)+"Signers"]]:void 0}))[0]}async[zk(363)+zk(341)](t,e,r){const n=zk;var i,s,o,a,c,u,l,h,d,f;const p=null!==(i=null==r?void 0:r.commitment)&&void 0!==i?i:Sk.COMMITMENT,g=null!==(s=null==r?void 0:r[n(323)+n(400)])&&void 0!==s?s:Sk[n(377)+n(382)],m=null!==(a=null===(o=null==r?void 0:r[n(348)])||void 0===o?void 0:o[n(324)+"mportsEsti"+n(394)])&&void 0!==a?a:dk[n(304)],y=null!==(u=null===(c=null==r?void 0:r[n(348)])||void 0===c?void 0:c["minPriorityLamportsPerTransact"+n(309)])&&void 0!==u?u:Sk[n(338)+"TY_LAMPORT"+n(396)],b=null!==(h=null===(l=null==r?void 0:r[n(348)])||void 0===l?void 0:l[n(389)+n(423)+n(298)+n(309)])&&void 0!==h?h:Sk["MAX_PRIORI"+n(275)+"S_PER_TX"],w=null!==(d=null==r?void 0:r[n(342)])&&void 0!==d?d:this.logger,v=await Promise[n(276)](e.map((async(t,e)=>async function(t,e,r,n,i,s=!1){const o=qk;var a,c;const u=Ck(e)?e:new Hw.VersionedTransaction(Hw.MessageV0[o(358)]({instructions:e[o(367)+"ns"],recentBlockhash:null!==(a=e[o(420)])&&void 0!==a?a:"1"[o(319)](32),addressLookupTableAccounts:e.ALTs,payerKey:e[o(360)]}));let l=null;try{l=u.serialize()}catch{throw new wk(uk[o(331)+o(421)],o(331)+o(267)+"re than 1232 bytes",new kk({txDump:""}))}if(l[o(388)]>1232)throw new wk(uk["Transactio"+o(421)],o(331)+o(267)+"re than 1232 bytes",new kk({txDump:l?Buffer[o(384)](l).toString("base64"):""}));const[h,d]=await Promise[o(276)]([t[o(301)+"ansaction"](u,{commitment:r,replaceRecentBlockhash:!s,sigVerify:s}),new Promise(((r,s)=>{const a=o;var c;n["estimation"+a(373)]===a(418)||(null===(c=e.priorityFee)||void 0===c?void 0:c[a(346)])!==a(293)||e.priorityFee["targetPrio"+a(322)+"ts"]!==a(262)&&e[a(266)+"e"][a(366)+"rityLamports"]!==a(390)?r(void 0):async function(t,e,r,n,i){const s=Lk;var o;const a=Ck(e)?e:new Hw.VersionedTransaction(Hw.MessageV0.compile({instructions:e[s(252)+"ns"],recentBlockhash:null!==(o=e[s(210)])&&void 0!==o?o:"1"[s(329)](32),addressLookupTableAccounts:e[s(281)],payerKey:e[s(209)]})),c=Ck(e)?e[s(365)][s(306)+"untKeys"]:Array.from(new Set(e[s(252)+"ns"].map((t=>t[s(279)][s(211)]((t=>t[s(382)]))[s(241)]((t=>t[s(264)]))))[s(257)]())),u=mk()[s(320)](a.serialize());switch(r){case"autoHelius":return async function(t,e,r,n){const i=Lk,s=t[i(385)+"t"];n("[getPriori"+i(233)+i(284)+"sting Heli"+i(345)+i(337));const o=await s(i(309)+i(376)+"te",[{transaction:e[i(299)],options:{includeAllPriorityFeeLevels:!0}}]);if(o[i(377)]||!o[i(300)])throw new wk(uk[i(317)+i(240)],i(266)+i(277)+" priority "+i(350)+"tion",new kk({txDump:e[i(299)]}));n(i(355)+"tyFeeEstim"+i(339)+i(268)+i(216)+i(285)+i(371));const a={[dk[i(243)]]:"min",[dk.LOW]:i(374),[dk.MEDIUM]:i(291),[dk[i(245)]]:"high",[dk[i(353)]]:i(275),[dk.UNSAFE_MAX]:i(283)};return{value:o[i(300)][i(307)+"eLevels"][a[r]],mode:"price"}}(t,{serialized:u},n,i);case s(327):return async function(t,e,r,n,i=30){const s=Lk,o=t._rpcRequest;n(s(355)+s(233)+s(284)+s(280)+s(368)+"y fee info");const a=await o(s(351)+s(334)+"ionFees",[[e["lockedWrit"+s(383)+"ts"][s(241)]((t=>t[s(260)]()))],{percentile:r}]);if(!a.result||a[s(377)])throw new wk(uk[s(317)+s(240)],"Failed to get triton priority fee",new kk({txDump:e.serialized}));n(s(355)+s(233)+s(226)+s(282)+s(216)+s(285)+s(371));let c=a[s(300)];c[s(287)](((t,e)=>t[s(232)]-e[s(232)])),i>0&&(c=c.slice(0,i)),c.sort(((t,e)=>t[s(230)+s(298)]-e[s(230)+s(298)]));const u=Math[s(357)](c[s(290)]/2);if(c[s(290)]%2){if("sCiWp"!==s(227))return{mode:s(270),value:c[u][s(230)+s(298)]};_0x20d3fb=_0x2ebb87[s(335)](_0x404b44.data)[s(261)+s(366)](1)}return{mode:s(270),value:Math.ceil((c[u-1][s(230)+"tionFee"]+c[u][s(230)+s(298)])/2)}}(t,{serialized:u,lockedWritableAccounts:c},n,i);default:throw new wk(uk[s(317)+s(240)],s(330)+s(302)+"ion mode: "+r,new kk({txDump:u}))}}(t,e,e[a(266)+"e"][a(366)+"rityLamports"],n[a(343)+a(373)],i).then((t=>r(t)))[a(410)]((t=>{const e=a;if(e(406)===e(328))throw new _0x2bf6bb(_0x39a8f2[e(331)+e(421)],"Transaction takes mo"+e(391)+"32 bytes",new _0x1e4128({txDump:_0x5a268a?_0x2edbf9[e(384)](_0x2ec0a9)[e(345)](e(354)):""}));i(t),r(void 0)}))[a(419)]((()=>r(void 0)))}))]);if(null!==h[o(357)][o(289)]){if("IwrNO"===o(339))throw new wk(uk[o(381)+o(383)],"Tx simulation Error: "+JSON.stringify(h[o(357)][o(289)]),new kk({txDump:Buffer.from(l)[o(345)](o(354)),logs:null!==(c=h[o(357)][o(404)])&&void 0!==c?c:void 0}));{const t=_0xc69cdd[o(395)](_0x27d3f0[o(417)][0]);this.addTxInfoEntry(t,_0x1e9e54[o(357)].lastValidBlockHeight,null===_0x1995d9||void 0===_0x50335a?void 0:_0x2b7cff[o(280)+"ngTimeout"]),_0x192f59.push([t,_0x39b2df.from(_0x37d71a[o(311)]()).toString(o(354))])}}return{context:h[o(385)],value:h[o(357)],estimation:d}}(this[n(316)],t,p,{estimationMode:0===e?m:n(418)},w,!1)))),_=v[0][n(343)],E=e[n(355)](((t,e)=>function(t,e,r,n,i){const s=Lk;var o,a,c;const u=(r,n)=>{const i=Lk;var s;return i(265)==i(265)?new wk(r,n,new kk({txDump:Ok(Ck(t)?t:Bk(t)),logs:null!==(s=e[i(294)][i(229)])&&void 0!==s?s:void 0})):_0x2e1e6d(_0x58cb26(_0x455f3e),_0x5aace0)};switch(null===(o=t[s(307)+"e"])||void 0===o?void 0:o.mode){case s(326):if(s(315)==s(315))return Ck(t)?jk(t,2e5*t[s(365)][s(263)+"structions"][s(290)],null):Bk(Fk(t,null,null));if(_0x33e1fe[s(212)]===_0x45e3f0)throw _0xe511d9(_0x22ce45.PriorityFeeError,s(266)+s(273)+"mated prio"+s(213));_0x490b1b=_0x32b8a0[s(212)][s(293)]===s(262)?_0x571aa9[s(212)].value:_0x40bf6b(_0x1a8a08[s(212)][s(294)],_0x46f410);case s(338):if(s(386)!==s(322)){const e=Uk(t.priorityFee[s(223)],null!==(a=t[s(307)+"e"]["microLampo"+s(274)])&&void 0!==a?a:null,i,r,n);return Ck(t)?jk(t,t[s(307)+"e"][s(223)],e):Bk(Fk(t,t[s(307)+"e"][s(223)],e))}{if(null===_0x4f1f74)return null;_0x2e52ca("Setting limit="+_0x27020b+s(235)+"="+_0x429f27+s(379)+_0x3d731d(_0x15ce81,_0x37ea89)+s(319));const t=_0x4edc07(_0x4732a1,_0x4f4f17);return t>_0x3dea4e?(_0x557393=_0x32e63e(_0x210131,_0x2012a1),_0x42c9c3(s(381)+s(255)+s(359)+s(248)+_0xf37c61+". Fee = "+_0x8a8199(_0x330f85,_0xd11f60)+s(319)),_0x3c923b):t<_0x3aea40?(_0x197ecb=_0xbf3330(_0x455adf,_0x19056e),_0x10f57e(s(381)+s(215)+s(251)+s(328)+_0x235781+s(379)+_0x12d3f3(_0x1f9a71,_0x482845)+" lamports"),_0x5cfbae):_0x8cae9c}case s(378):if(s(269)==s(269)){if(!e[s(294)]["unitsConsu"+s(221)])throw u(uk[s(317)+s(240)],"Failed to "+s(220)+s(352)+s(247)+"s limit");const o=Math[s(276)](e[s(294)][s(239)+s(221)]*(100+(null!==(c=t[s(307)+"e"][s(303)+"lippage"])&&void 0!==c?c:10))/100);let a=null;if("autoHelius"===t[s(307)+"e"][s(336)+s(346)+"ts"]||t[s(307)+"e"][s(336)+s(346)+"ts"]===s(327))if(s(340)===s(316))_0x522ce3=_0x1e42c6[s(307)+"e"][s(336)+s(346)+"ts"];else{if(void 0===e[s(212)])throw u(uk[s(317)+s(240)],s(266)+s(273)+s(354)+s(213));a="lamports"===e[s(212)][s(293)]?e.estimation.value:Nk(e[s(212)][s(294)],o)}else if(t[s(307)+"e"][s(336)+s(346)+"ts"]===s(310))if(s(256)==s(256)){const e=function(t){const e=Lk;let r,n,i=0;if(Ck(t)){const s=t[e(365)][e(306)+e(362)];i=t[e(365)][e(263)+e(244)][e(290)];for(const i of t[e(365)][e(263)+"structions"])if(i[e(369)][e(290)]>0&&i.data.length<15&&s[i.programIdIndex].equals(Hw.ComputeBudgetProgram[e(242)]))if("mLcTm"!==e(331)){if(3===i[e(369)][0])e(246)!=e(246)?"asIs"===_0x420786?_0x3c0611[e(271)](..._0x24d6ac[e(252)+"ns"][e(211)]((t=>t[e(242)].equals(_0xc776fc[e(242)])&&t[e(369)][0]===_0x1a34a4))):_0x5a5f5b.push(_0x12d1ac["setCompute"+e(254)]({microLamports:_0x3a828a})):r=Buffer[e(335)](i[e(369)])[e(261)+e(366)](1);else if(2===i.data[0]){if(e(206)!=e(206))return _0x466fd1=_0x4123c8(_0x492242,_0x519f8a),_0x5f1d17(e(381)+e(215)+e(251)+e(328)+_0x3a5ad9+e(379)+_0x175b7a(_0x3acd51,_0x2ba0b2)+e(319)),_0x1e71a6;n=Buffer[e(335)](i[e(369)])[e(222)+"E"](1)}}else _0x39863c=_0x3d6c0e[e(335)](_0x513760[e(369)])[e(261)+"64LE"](1)}else{i=t[e(252)+"ns"].length;for(const i of t[e(252)+"ns"][e(211)]((t=>t[e(369)][e(290)]>0&&t.data[e(290)]<15&&t[e(242)][e(343)](Hw.ComputeBudgetProgram.programId))))3===i.data[0]?r=Buffer[e(335)](i.data)[e(261)+e(366)](1):2===i[e(369)][0]&&("Tylda"!==e(238)?_0x1b1686[e(271)](..._0x39e1c0[e(252)+"ns"][e(211)]((t=>t[e(242)][e(343)](_0x2998b0[e(242)])&&t[e(369)][0]===_0x1cb553))):n=Buffer[e(335)](i[e(369)]).readInt32LE(1))}return void 0===n&&(n=i*Sk[e(259)+"IX"]),void 0===r?null:"VCXpl"!==e(360)?{mode:e(270),value:_0x1e0c08[_0x1cb2a6][e(230)+e(298)]}:Nk(Number(r),n)}(t);if(null===e)throw u(uk["PriorityFe"+s(240)],s(236)+s(253)+s(297)+s(224)+s(267)+s(286)+s(370)+s(214)+s(292)+s(278));a=e}else _0x4ddafc=_0x43d606[s(335)](_0x1ac55e[s(369)]).readInt32LE(1);else if(void 0!==t[s(307)+"e"].targetPriorityLamports){if(s(387)!=s(387)){const t=_0x22bd30(_0x468cd3.priorityFee[s(223)],null!==(_0x5259d7=_0x2f3608[s(307)+"e"][s(217)+s(274)])&&void 0!==_0x35e114?_0x425e84:null,_0x534602,_0x46667f,_0x4e33e9);return _0x4476a9(_0x278751)?_0x16de21(_0x239334,_0x404c52.priorityFee[s(223)],t):_0x460b1d(_0x5439b7(_0x38571c,_0x20995b.priorityFee[s(223)],t))}a=t.priorityFee.targetPriorityLamports}if(null===a)throw u(uk[s(317)+s(240)],s(266)+s(304)+s(305)+"amports va"+s(231));const l=Uk(o,Pk(a,o),i,r,n);return Ck(t)?jk(t,o,l):Bk(Fk(t,o,l))}_0x56169b.data[0]===_0xd3dd92?_0x1bab2d=_0x2746fd[s(335)](_0x1ff1fe[s(369)])[s(261)+s(366)](1):_0x386d54[s(369)][0]===_0x24d767&&(_0x5a4cf1=_0x3893e2.from(_0x5055e9[s(369)]).readInt32LE(1))}return Ck(t)?t:Bk(t)}(t,{...v[e],estimation:_},y,b,w))),A=await this[n(316)][n(401)+n(409)+n(412)]({commitment:g});for(const t of E)t.message[n(302)+n(422)]=A[n(357)][n(420)];const S=await t[n(399)+n(341)](E,null==r?void 0:r[n(300)+n(330)]),x=[];return S[n(355)]((t=>{const e=n,i=mk()[e(395)](t[e(417)][0]);this[e(283)+e(369)](i,A[e(357)][e(295)+"lockHeight"],null==r?void 0:r.txProcessingTimeout),x[e(306)]([i,Buffer[e(384)](t[e(311)]()).toString(e(354))])})),null===(f=null==r?void 0:r[n(342)])||void 0===f||f[n(307)](r,n(263)+n(315)+x[n(355)]((([t,e])=>e))[n(325)](n(393))),await Promise.all(x[n(355)]((([t,e])=>this[n(370)+n(290)+n(350)+n(272)](t,e,{skipPreflight:null==r?void 0:r[n(277)+n(336)],preflightCommitment:p},{blockhashCommitment:g,additionalConnections:null==r?void 0:r[n(300)+"Connections"],maxSendCount:null==r?void 0:r["txMaxSendC"+n(271)]}))))}}function Vk(t,e){var r=$k();return(Vk=function(t,e){return r[t-=254]})(t,e)}function $k(){var t=["5537710PGVlLN","84JLyFQt","1016eMEgkK","842548gNupIl","54122iOLZBQ","312795XyEJoT","45dioUpJ","1075640iriOUk","922960dTYwsx","26154ciFUxP"];return($k=function(){return t})()}!function(t){for(var e=Vk,r=t();;)try{if(431646==parseInt(e(256))/1+parseInt(e(257))/2*(-parseInt(e(259))/3)+-parseInt(e(261))/4+-parseInt(e(260))/5+-parseInt(e(254))/6*(-parseInt(e(258))/7)+-parseInt(e(255))/8*(-parseInt(e(262))/9)+-parseInt(e(263))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}($k);class Kk{get accountChanged(){return this.accountChanged$.asObservable()}get disconnected(){return this.disconnect$.asObservable()}get error(){return this.error$.asObservable()}getNetworkType(){return H.SOLANA}get chainChanged(){return this.chainChanged$.asObservable()}constructor(t){this.walletId=t,this.accountChanged$=new It,this.chainChanged$=new It,this.disconnect$=new It,this.error$=new It,this.publicKey=null,this.provider=null}async getPublicKey(){return this.publicKey}setPublicKey(t){this.publicKey=t}setProvider(t){this.provider=t,this.provider?t.on("accountChanged",(async t=>{this.setPublicKey(t),await this.provider.connect()})):this.setPublicKey(null)}async request(t,e){const r=new W,n=new Hw.Connection(r.getChain(v.Solana).networkParams.defaultRpcUrl);if(console.log("PhantomWalletService::request",t,e),await n.getLatestBlockhash({commitment:"finalized"}),"signAllTransactions"==t){const t=e.map((t=>{let e=null;return e="string"==typeof t.tx?Hw.VersionedTransaction.deserialize(Buffer.from(t.tx,"base64")):{blockhash:(r=t.tx).blockhash,instructions:r.instructions.map((t=>function(t){return new Hw.TransactionInstruction({keys:t.keys.map((t=>({isSigner:t.isSigner,isWritable:t.isWritable,pubkey:new Hw.PublicKey(t.pubkey)}))),programId:new Hw.PublicKey(t.programId),data:Buffer.from(t.data,"base64")})}(t))),ALTs:r.ALTs?.map((t=>{return e=t,new Hw.AddressLookupTableAccount({key:new Hw.PublicKey(e.key),state:{addresses:e.state.addresses.map((t=>new Hw.PublicKey(t))),deactivationSlot:e.state.deactivationSlot,lastExtendedSlot:e.state.lastExtendedSlot,lastExtendedSlotStartIndex:e.state.lastExtendedSlotStartIndex,authority:e.state.authority?new Hw.PublicKey(e.state.authority):void 0}});var e})),payer:new Hw.PublicKey(r.payer),priorityFee:r.priorityFee},e.priorityFee=t.priorityFee,e.rpcs=t.rpcs,e.targetPriorityLamports=t.targetPriorityLamports,e;var r}));return await this.sendAllNew(t)}if("signTransaction"==t){const t="string"==typeof e.tx?Hw.VersionedTransaction.deserialize(Buffer.from(Ox.bytes.bs58.decode(e))):e.tx;return t.priorityFee=e.priorityFee,t.rpcs=e.rpcs,t.targetPriorityLamports=e.targetPriorityLamports,await this.sendAllNew([t])}return null}async sendAllNew(t,e=""){const r=new W;let n=t[0].rpcs||[];n?.length||(n=[r.getChain(v.Solana).networkParams.defaultRpcUrl]);const i=new Hw.Connection(n[0]);let s=null,o=t[0].targetPriorityLamports;t.forEach((t=>{delete t.rpcs,delete t.targetPriorityLamports}));for(let e of[i])try{const r=new Wk(e,console.log.bind(console));return await r.sendAllTransactions(this.provider,t.map((t=>(t.priorityFee||(t.priorityFee={mode:"auto",autoLimitSlippage:10,targetPriorityLamports:o||b.targetPriorityLamports}),t))),{logFn:console.log,skipPreflight:!0,txMaxSendCount:15,blockhashCommitment:"finalized",estimateOnlySingleTx:!0,commitment:"confirmed",txProcessingTimeout:4e4,additionalConnections:n.length>1?n.slice(1).map((t=>new Hw.Connection(t))):void 0})}catch(t){if("Failed to fetch"!=t.message)throw t;s=t}throw s}}class Gk extends Kk{constructor(){super(St.Phantom)}async disconnect(){if(this.provider?.disconnect)try{await this.provider.disconnect()}catch(t){console.error("PhantomWalletService::disconnect",t)}this.setProvider(null)}setProvider(t){this.provider=t,this.provider?t.on("accountChanged",(async t=>{if(t)this.setPublicKey(t),this.accountChanged$.next([t.toString()]);else try{const t=await this.provider.connect();this.setPublicKey(t.publicKey),this.accountChanged$.next(t.publicKey.toString())}catch(t){await this.disconnect(),this.accountChanged$.next([""])}})):this.setPublicKey(null)}async connect(t){const e=await this.detectProvider(500,2);if(!e)throw new Tt(xt.WALLET_NOT_FOUND);try{const r=t?.quiet?await e.connect({onlyIfTrusted:!0}):await e.connect();return this.setPublicKey(r.publicKey),this.setProvider(e),{publicKey:r.publicKey.toString()}}catch(t){if(t.code==Ft)throw new Tt(xt.USER_REJECTED);throw t}}async detectProvider(t,e){if(e<=0)return null;do{const e=await Yk({timeout:t});if(e)return e}while(--e);return null}}function Yk({timeout:t=3e3,mustBePhantom:e=!1}={}){let r=!1;return new Promise((n=>{function i(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",i);const t=window.phantom?.solana;!t||e&&!t.isPhantom?n(null):n(t)}window.solana?i():(window.addEventListener("solana#initialized",i,{once:!0}),setTimeout((()=>{i()}),t))}))}class Zk extends Ct{constructor(){super(St.PhantomEVM)}async disconnect(){if(this.provider?.disconnect)try{await this.provider.disconnect()}catch(t){console.error("PhantomEVMWalletService::disconnect",t)}this.setProvider(null)}async connect(t){const e=window,r=e.phantom?.ethereum;if(!r)throw new Tt(xt.CONNECT_ERROR,{walletId:this.walletId});return this.setProvider(r),new Promise((async(e,r)=>{try{if(!await this.getAccount())try{!t&&await this.requestAccounts()}catch(t){t.code===Ft?r(new Tt(xt.USER_REJECTED)):-32002===t.code&&r(new Tt(xt.WALLET_ALREAY_PROCESSING))}console.log("PhantomEVMkWalletService::connect resolve"),e()}catch(t){-32002===t.code?r(new Tt(xt.WALLET_ALREAY_PROCESSING)):r(t)}}))}setProvider(t){this.provider=t,this.provider&&"function"==typeof t.on&&(t.on("accountsChanged",(async t=>{if(t?.length)this.accountChanged$.next(t||[""]);else{let t=await this.getAccount();if(!t)try{if(await this.requestAccounts(),t=await this.getAccount(),!t)throw new Error;this.accountChanged$.next([t]||0)}catch(t){this.disconnect(),this.accountChanged$.next([""])}}})),t.on("disconnect",(()=>{this.disconnect$.next()})),t.on("chainChanged",(t=>{this.chainChanged$.next(t)})))}}class Jk{async request(t,e,r){console.log("ProxyWalletListener::request",event,t.getOrigin(),t.getWidgetId());const n=e?.walletId,i=e?.method,s=e?.params;if(r&&i)switch(i){case"enable":if(n)return await this.connect(n,r,s,t);break;case"disconnect":if(n)return await this.disconnect(n,r,t);break;case"sendAsync":{const t=this.wallets[n];if(t)return await t.sendAsync(s)}break;default:if(n){const e=this.wallets[n];if(e)return await e.request(i,s);throw t.disconnect(),new Tt(xt.WALLET_NOT_FOUND)}}}constructor(){this.wallets={[St.Coinbase]:new jt,[St.Metamask]:new zt,[St.WalletConnect]:new qw,[St.Phantom]:new Gk,[St.PhantomEVM]:new Zk,[St.ExternalEvmWallet]:null},this.activeWallet=null,this.destroyEvents={},this.event$=new It}async disconnect(t,e,r){const n=this.wallets[t];if(!n)throw r.disconnect(),new Tt(xt.WALLET_NOT_FOUND);return await n.disconnect(),this.destroyEvents[t]?.next(),this.destroyEvents[t]=null,this.activeWallet=null,null}async connect(t,e,r,n){const i=this.wallets[t];if(i){const e=await i.connect(r);return this.activeWallet=i,this.destroyEvents[t]=new It,i.accountChanged.pipe(Bt(this.destroyEvents[t])).subscribe((t=>i===this.activeWallet&&this.sendToWidgetEvent(this.activeWallet.getNetworkType()==H.SOLANA?"accountChanged":"accountsChanged",t,n))),i.disconnected.pipe(Bt(this.destroyEvents[t])).subscribe((e=>{this.destroyEvents[t]?.next(),this.destroyEvents[t]=null,this.sendToWidgetEvent("disconnect",e,n)})),i.chainChanged.pipe(Bt(this.destroyEvents[t])).subscribe((t=>{i===this.activeWallet&&this.sendToWidgetEvent("chainChanged",t,n)})),i.error.pipe(Bt(this.destroyEvents[t])).subscribe((t=>i===this.activeWallet&&this.sendToWidgetEvent("error",t,n))),e}throw n.disconnect(),new Tt(xt.WALLET_NOT_FOUND)}sendToWidgetEvent(t,e,r){this.event$.next({widgetId:r.getWidgetId(),parentURI:r.getParentURI(),event:t,networkType:this.activeWallet.getNetworkType(),data:e})}async setExternalEVMWallet(t){this.wallets[St.ExternalEvmWallet]&&await this.wallets[St.ExternalEvmWallet].disconnect(),this.activeWallet=this.wallets[St.ExternalEvmWallet]=t}async setExternalSolanaWallet(t){this.wallets[St.ExternalSolanaWallet]&&await this.wallets[St.ExternalSolanaWallet].disconnect(),this.activeWallet=this.wallets[St.ExternalSolanaWallet]=t}}window.deBridge={wallets:{evm:{Metamask:"METAMASK",CoinbaseWallet:"COINBASEWALLET",WalletConnect:"WALLETCONNECT",BraveWallet:"Brave Wallet",UnstoppableDomains:"UNSTOPPABLEDOMAINS",Frontier:"Frontier",TrustWallet:"Trust Wallet",Fordefi:"Fordefi",Phantom:"PHANTOM EVM",Backpack:"Backpack EVM",Rabby:"RABBY",OneInchWallet:"ONEINCHWALLET"},solana:{Phantom:"PHANTOM",Solflare:"Solflare",Salmon:"Salmon",Glow:"Glow",SolflareMetamask:"SolflareMetamask",Fordefi:"Fordefi Solana",Backpack:"Backpack",BraveWallet:"Brave",TrustWallet:"Trust",CoinbaseWallet:"Coinbase Wallet"}},widget:t=>{t.widgetMode=!0,t.width||(t.width="600"),t.height||(t.height="800");var e=document.querySelector("#"+t.element);if(!e)throw new Error(`There isn't element with id ${t.element}`);var r=document.createElement("iframe");r.width=t.width+"px",r.height=t.height+"px",r.style.border="none",r.className="debridge-widget-iframe",Array.isArray(t.disabledWallets)&&(t.disabledWallets=btoa(JSON.stringify(t.disabledWallets)));var n={widgetMode:!0,...t};try{const t=window.ethereum;t?.isMetaMask&&(n.isMetamask=!0),(t?.isCoinbaseWallet||t?.isCoinbaseBrowser)&&(n.isCoinbaseWallet=!0),window?.phantom?.ethereum?.isPhantom&&(n.isPhantom=!0),window?.solana&&(n.isPhantom=!0)}catch(t){}n.mode&&"deswap"!=n.mode||(n.mode="deswap-widget"),n.widgetId=Date.now();var i="https://app.debridge.finance";try{var s=document.querySelector('script[src*="/assets/scripts/widget.js"]');if(s){var o=new URL(s.src).origin;o&&(new URL(o),i=o)}}catch(t){}function a(t,e=null,s=null,o=!1){r.contentWindow.postMessage({widgetId:n.widgetId,parentURI:n.parentURI,event:t,params:e,requestId:s,isRejected:o},i)}n.parentURI=window.location.href;const c=new Jk;c.event$.subscribe((t=>{a(p.Wallet,t)}));const u={getWidgetId:function(){return n.widgetId},getOrigin:function(){return i},getFrame:function(){return r},getParentURI:function(){return n.parentURI},on:function(t,e){l[t]&&!l[t].includes(e)&&(t==f.CallData&&(l[t]=[e]),t==f.OrderValidation?l[t]=[e]:l[t].push(e))},off:function(t,e){l[t].includes(e)||(l[t]=l[t].filter((t=>t!=e)))},setExternalEVMWallet:function(t){c.setExternalEVMWallet(new Ot(t.provider)),a(p.ExternalEVMWallet,{name:t.name,imageSrc:t.imageSrc})},disconnect:function(){a(p.Disconnect)},changeInputChain:function(t){a(p.ChangeInputChain,{chainId:t})},changeOutputChain:function(t){a(p.ChangeOutputChain,{chainId:t})},changeInputToken:function(t){a(p.ChangeInputToken,{address:t})},changeOutputToken:function(t){a(p.ChangeOutputToken,{address:t})},setReceiverAddress:function(t){a(p.SetReceiverAddress,{address:t})}},l={[f.NeedConnect]:[],[f.Order]:[],[f.Bridge]:[],[f.SingleChainSwap]:[],[f.Ready]:[],[f.CallData]:[],[f.InputChainChanged]:[],[f.OutputChainChanged]:[],[f.InputTokenChanged]:[],[f.OutputTokenChanged]:[],[f.Wallet]:[async function(t,e,r){try{const n=await c.request(t,e,r);a(p.Response,n,r,!1)}catch(t){a(p.Response,t,r,!0)}}],[f.OrderValidation]:[],[f.ContentHeightChanged]:[]},h=new Promise((t=>{l[f.Ready].push(t)}));window.addEventListener("message",(t=>{if(u.getOrigin()==t.origin&&t.data?.widgetId==u.getWidgetId()){const e=t.data?.requestId,n=t.data?.event,i=t.data?.params;if(n==f.ContentHeightChanged&&i?.newHeight&&(r.height=i.newHeight+"px"),e&&n)try{l[n]&&(n==f.CallData||n==f.OrderValidation?function(t,e,r){if(l[t].length)try{const n=l[t][0](u,r);n?.then?n.then((t=>{a(p.Response,t,e)})).catch((t=>{a(p.Response,t,e,!0)})):a(p.Response,n,e)}catch(t){a(p.Response,t,e,!0)}else a(p.Response,null,e)}(n,e,i):l[n].forEach((t=>t(u,i,e))))}catch(t){console.error("Widget::addEventListene::catch",t)}}}),!1);const d=i+"/"+n.mode+"?"+new URLSearchParams(n).toString();return r.src=d,e.append(r),h.disconnect=u.disconnect,h.disconnect=u.getWidgetId,h.disconnect=u.getOrigin,h.disconnect=u.getFrame,h.disconnect=u.getParentURI,h}}})()})();